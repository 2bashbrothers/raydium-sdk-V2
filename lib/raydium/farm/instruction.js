var Mt=Object.create;var te=Object.defineProperty,Nt=Object.defineProperties,vt=Object.getOwnPropertyDescriptor,Et=Object.getOwnPropertyDescriptors,Wt=Object.getOwnPropertyNames,ze=Object.getOwnPropertySymbols,Ot=Object.getPrototypeOf,Xe=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable;var Je=(r,e,t)=>e in r?te(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F=(r,e)=>{for(var t in e||(e={}))Xe.call(e,t)&&Je(r,t,e[t]);if(ze)for(var t of ze(e))Ut.call(e,t)&&Je(r,t,e[t]);return r},D=(r,e)=>Nt(r,Et(e));var Gt=(r,e)=>{for(var t in e)te(r,t,{get:e[t],enumerable:!0})},Ze=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Wt(e))!Xe.call(r,i)&&i!==t&&te(r,i,{get:()=>e[i],enumerable:!(o=vt(e,i))||o.enumerable});return r};var C=(r,e,t)=>(t=r!=null?Mt(Ot(r)):{},Ze(e||!r||!r.__esModule?te(t,"default",{value:r,enumerable:!0}):t,r)),qt=r=>Ze(te({},"__esModule",{value:!0}),r);var Wr={};Gt(Wr,{createAssociatedLedgerAccountInstruction:()=>Lr,governanceCreateTokenOwnerRecord:()=>Ct,makeAddNewRewardInstruction:()=>Cr,makeCreateFarmInstruction:()=>Ar,makeCreatorWithdrawFarmRewardInstruction:()=>Ir,makeDepositInstructionV3:()=>Nr,makeDepositInstructionV5:()=>vr,makeDepositInstructionV6:()=>Er,makeDepositTokenInstruction:()=>Rr,makeDepositWithdrawInstruction:()=>Vr,makeRestartRewardInstruction:()=>_r,makeWithdrawInstructionV3:()=>Mr,makeWithdrawInstructionV4:()=>Dr,makeWithdrawInstructionV5:()=>Fr,makeWithdrawInstructionV6:()=>Kr,makeWithdrawTokenInstruction:()=>Br,voterStakeRegistryCreateDepositEntry:()=>Kt,voterStakeRegistryCreateVoter:()=>Vt,voterStakeRegistryDeposit:()=>Rt,voterStakeRegistryUpdateVoterWeightRecord:()=>Bt,voterStakeRegistryWithdraw:()=>_t});module.exports=qt(Wr);var s=require("@solana/web3.js"),le=C(require("bn.js")),B=require("@solana/spl-token");var jt=require("@solana/web3.js");var re=require("lodash");var ke=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(o=>typeof o=="object"?JSON.stringify(o):o).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},Qe={},Ht={};function _(r){let e=(0,re.get)(Qe,r);if(!e){let t=(0,re.get)(Ht,r);e=new ke({name:r,logLevel:t}),(0,re.set)(Qe,r,e)}return e}var pe=require("@solana/spl-token"),Xr=_("Raydium_accountInfo_util");var N=C(require("bn.js")),er=C(require("decimal.js"));var nt=C(require("big.js")),Zt=C(require("bn.js"));var $e=C(require("toformat")),Yt=$e.default,ne=Yt;var oe=C(require("big.js")),tt=C(require("bn.js")),rt=C(require("decimal.js-light"));var j=C(require("bn.js"));var et=9007199254740991;function L(r){let e=_("Raydium_parseBigNumberish");if(r instanceof j.default)return r;if(typeof r=="string"){if(r.match(/^-?[0-9]+$/))return new j.default(r);e.logWithError(`invalid BigNumberish string: ${r}`)}return typeof r=="number"?(r%1&&e.logWithError(`BigNumberish number underflow: ${r}`),(r>=et||r<=-et)&&e.logWithError(`BigNumberish number overflow: ${r}`),new j.default(String(r))):typeof r=="bigint"?new j.default(r.toString()):(e.error(`invalid BigNumberish value: ${r}`),new j.default(0))}var me=_("module/fraction"),Ae=ne(oe.default),ie=ne(rt.default),Jt={[0]:ie.ROUND_DOWN,[1]:ie.ROUND_HALF_UP,[2]:ie.ROUND_UP},Xt={[0]:oe.default.roundDown,[1]:oe.default.roundHalfUp,[2]:oe.default.roundUp},k=class{constructor(e,t=new tt.default(1)){this.numerator=L(e),this.denominator=L(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new k(this.denominator,this.numerator)}add(e){let t=e instanceof k?e:new k(L(e));return this.denominator.eq(t.denominator)?new k(this.numerator.add(t.numerator),this.denominator):new k(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof k?e:new k(L(e));return this.denominator.eq(t.denominator)?new k(this.numerator.sub(t.numerator),this.denominator):new k(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof k?e:new k(L(e));return new k(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof k?e:new k(L(e));return new k(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},o=1){Number.isInteger(e)||me.logWithError(`${e} is not an integer.`),e<=0&&me.logWithError(`${e} is not positive.`),ie.set({precision:e+1,rounding:Jt[o]});let i=new ie(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},o=1){return Number.isInteger(e)||me.logWithError(`${e} is not an integer.`),e<0&&me.logWithError(`${e} is negative.`),Ae.DP=e,Ae.RM=Xt[o]||1,new Ae(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var bn=_("Raydium_amount"),hn=ne(nt.default);var ot=require("@solana/web3.js"),Ie=require("@solana/spl-token"),it={chainId:101,address:ot.PublicKey.default.toBase58(),programId:Ie.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},W={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Ie.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var ge=require("@solana/web3.js");var S=require("@solana/web3.js"),st=require("@solana/spl-token");function n({pubkey:r,isSigner:e=!1,isWritable:t=!0}){return{pubkey:r,isWritable:t,isSigner:e}}var Re=[n({pubkey:st.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:S.SystemProgram.programId,isWritable:!1}),n({pubkey:S.SYSVAR_RENT_PUBKEY,isWritable:!1})];function at({publicKey:r,transformSol:e}){let t=ut(r.toString());if(t instanceof S.PublicKey)return e&&t.equals(O)?Le:t;if(e&&t.toString()===O.toBase58())return Le;if(typeof t=="string"){if(t===S.PublicKey.default.toBase58())return S.PublicKey.default;try{return new S.PublicKey(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function ut(r){try{return new S.PublicKey(r)}catch{return r}}var Pn=new S.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Sn=new S.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Be=new S.PublicKey("SysvarRent111111111111111111111111111111111"),kn=new S.PublicKey("SysvarC1ock11111111111111111111111111111111"),Ln=new S.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),fe=new S.PublicKey("Sysvar1nstructions1111111111111111111111111"),An=S.SystemProgram.programId,In=new S.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Rn=new S.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Bn=new S.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),_n=new S.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Cn=new S.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Vn=new S.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Kn=new S.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Fn=new S.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Dn=new S.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Mn=new S.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Nn=new S.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),Le=new S.PublicKey("So11111111111111111111111111111111111111112"),O=S.PublicKey.default;var _e=class{constructor({mint:e,decimals:t,symbol:o,name:i,skipMint:c=!1,isToken2022:u=!1}){if(e===O.toBase58()||e instanceof ge.PublicKey&&O.equals(e)){this.decimals=W.decimals,this.symbol=W.symbol,this.name=W.name,this.mint=new ge.PublicKey(W.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=o||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=c?ge.PublicKey.default:at({publicKey:e}),this.isToken2022=u}equals(e){return this===e?!0:this.mint.equals(e.mint)}},Y=_e;Y.WSOL=new _e(D(F({},W),{mint:W.address}));var Ce=class{constructor({decimals:e,symbol:t="UNKNOWN",name:o="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=o}equals(e){return this===e}},ye=Ce;ye.SOL=new Ce(it);var ct=C(require("bn.js"));var Yn=new k(new ct.default(100));var $n=_("Raydium_price");var $t=new N.default(0),Ao=new N.default(1),Io=new N.default(2),Ro=new N.default(3),Bo=new N.default(5),Qt=new N.default(10),_o=new N.default(100),Co=new N.default(1e3),Vo=new N.default(1e4);var mt=require("@solana/web3.js"),ft=require("@solana/spl-token");var U=require("@solana/web3.js");var z={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};var tr=require("@solana/spl-token"),Ho=_("Raydium_txUtil");function M(r,e){let[t,o]=U.PublicKey.findProgramAddressSync(r,e);return{publicKey:t,nonce:o}}function se(r,e,t){return M([r.toBuffer(),(t!=null?t:ft.TOKEN_PROGRAM_ID).toBuffer(),e.toBuffer()],new mt.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var d=require("@solana/web3.js"),gt=new d.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),yt=new d.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),bt=new d.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),ht=new d.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Jo=new d.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Xo=new d.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Zo=new d.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Qo=new d.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),$o=new d.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ei=new d.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ti=new d.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),ri=new d.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),ni=new d.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),oi=new d.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ii=new d.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),si=new d.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ai=new d.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),ui=new d.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),ci=new d.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),li=new d.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),di=new d.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),pi=new d.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),mi=new d.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),fi=new d.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),gi=new d.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),yi=new d.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),bi=new d.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),hi=new d.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),wi=new d.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Ti=new d.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),xi=new d.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var ae={OPEN_BOOK_PROGRAM:new d.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new d.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new d.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new d.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new d.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new d.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new d.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new d.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new d.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new d.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new d.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new d.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:d.PublicKey.default,Router:new d.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new d.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new d.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new d.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new d.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new d.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new d.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new d.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new d.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new d.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new d.PublicKey("Ray1111111111111111111111111111111111111111")};var rr=C(require("bn.js"));var wt=require("@solana/web3.js");var J=require("@solana/web3.js"),nr=C(require("axios"));var or=require("@solana/web3.js"),ir=C(require("bn.js"));var Tt=C(require("bn.js")),es=new Tt.default(1e6);var kt=require("@solana/web3.js"),X=C(require("bn.js"));var p=require("@solana/buffer-layout"),Ve=p.Layout,xt=p.Structure;var Ke=p.UInt;var Pt=p.u8;var St=p.seq;var G=p.blob;var Z=class extends Ve{constructor(t,o,i){super(t,i);this.blob=G(t),this.signed=o}decode(t,o=0){let i=new X.default(this.blob.decode(t,o),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(t,o,i=0){return typeof t=="number"&&(t=new X.default(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),o,i)}};function P(r){return new Ke(1,r)}function Q(r){return new Ke(4,r)}function a(r){return new Z(8,!1,r)}function E(r){return new Z(16,!1,r)}function Lt(r){return new Z(1,!0,r)}function he(r){return new Z(8,!0,r)}var be=class extends Ve{constructor(t,o,i,c){super(t.span,c);this.layout=t,this.decoder=o,this.encoder=i}decode(t,o){return this.decoder(this.layout.decode(t,o))}encode(t,o,i){return this.layout.encode(this.encoder(t),o,i)}getSpan(t,o){return this.layout.getSpan(t,o)}};function h(r){return new be(G(32),e=>new kt.PublicKey(e),e=>e.toBuffer(),r)}function ue(r){return new be(Pt(),sr,ar,r)}function sr(r){if(r===0)return!1;if(r===1)return!0;throw new Error("Invalid bool: "+r)}function ar(r){return r?1:0}var Fe=class extends xt{decode(e,t){return super.decode(e,t)}};function x(r,e,t){return new Fe(r,e,t)}function A(r,e,t){let o,i=typeof e=="number"?e:(0,X.isBN)(e)?e.toNumber():new Proxy(e,{get(c,u){if(!o){let l=Reflect.get(c,"count");o=(0,X.isBN)(l)?l.toNumber():l,Reflect.set(c,"count",o)}return Reflect.get(c,u)},set(c,u,l){return u==="count"&&(o=l),Reflect.set(c,u,l)}});return St(r,i,t)}var Te=require("@solana/web3.js");var De=x([P("instruction")]),Me=x([P("instruction")]),ur=x([a("rewardState"),a("rewardOpenTime"),a("rewardEndTime"),a("rewardLastUpdateTime"),a("totalReward"),a("totalRewardEmissioned"),a("rewardClaimed"),a("rewardPerSecond"),E("accRewardPerShare"),h("rewardVault"),h("rewardMint"),h("rewardSender"),a("rewardType"),A(a(),15,"padding")]),cr=x([a("state"),a("nonce"),h("lpVault"),h("rewardVault"),h(),h(),a(),a(),a("totalReward"),E("perShareReward"),a("lastSlot"),a("perSlotReward")]),lr=x([a("state"),a("nonce"),h("lpVault"),h("rewardVaultA"),a("totalRewardA"),E("perShareRewardA"),a("perSlotRewardA"),P("option"),h("rewardVaultB"),G(7),a("totalRewardB"),E("perShareRewardB"),a("perSlotRewardB"),a("lastSlot"),h()]),dr=x([a(),a("state"),a("nonce"),a("validRewardTokenNum"),E("rewardMultiplier"),a("rewardPeriodMax"),a("rewardPeriodMin"),a("rewardPeriodExtend"),h("lpMint"),h("lpVault"),A(ur,5,"rewardInfos"),h("creator"),h(),A(a(),32,"padding")]),pr=new Proxy(cr,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(F({},i),{version:3,rewardInfos:[{rewardVault:i.rewardVault,totalReward:i.totalReward,perSlotReward:i.perSlotReward,perShareReward:i.perShareReward}]})}:Reflect.get(r,e,t)}}),mr=new Proxy(lr,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(F({},i),{version:5,rewardInfos:[{rewardVault:i.rewardVaultA,totalReward:i.totalRewardA,perSlotReward:i.perSlotRewardA,perShareReward:i.perShareRewardA},{rewardVault:i.rewardVaultB,totalReward:i.totalRewardB,perSlotReward:i.perSlotRewardB,perShareReward:i.perShareRewardB}]})}:Reflect.get(r,e,t)}}),fr=new Proxy(dr,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(F({},i),{version:6,rewardInfos:i.rewardInfos.map(c=>{var u;return D(F({},c),{rewardType:((u=Object.entries(ce).find(l=>String(l[1])===c.rewardType.toString()))!=null?u:["Standard SPL"])[0]})})})}:Reflect.get(r,e,t)}}),gr=x([a("isSet"),a("rewardPerSecond"),a("rewardOpenTime"),a("rewardEndTime"),a("rewardType")]),Ne=x([P("instruction"),a("nonce"),A(gr,5,"rewardTimeInfo")]),ve=x([P("instruction"),a("rewardReopenTime"),a("rewardEndTime"),a("rewardPerSecond")]),Ee=x([P("instruction"),a("isSet"),a("rewardPerSecond"),a("rewardOpenTime"),a("rewardEndTime"),a("rewardType")]),Ms=x([a("state"),h("id"),h("owner"),a("deposited"),A(a(),1,"rewardDebts")]),we=x([a("state"),h("id"),h("owner"),a("deposited"),A(E(),1,"rewardDebts"),a(""),a("voteLockedBalance"),A(a(),15)]),Ns=x([a("state"),h("id"),h("owner"),a("deposited"),A(a(),2,"rewardDebts")]),yr=x([a("state"),h("id"),h("owner"),a("deposited"),A(E(),2,"rewardDebts"),A(a(),17)]),br=x([a(),a("state"),h("id"),h("owner"),a("deposited"),A(E(),5,"rewardDebts"),A(a(),16)]),V=x([P("instruction"),a("amount")]),hr=x([h("mint"),h("grantAuthority"),a("baselineVoteWeightScaledFactor"),a("maxExtraLockupVoteWeightScaledFactor"),a("lockupSaturationSecs"),Lt("digitShift"),A(P(),7,"reserved1"),A(a(),7,"reserved2")]),At=x([G(8),h("governanceProgramId"),h("realm"),h("realmGoverningTokenMint"),h("realmAuthority"),A(P(),32,"reserved1"),A(hr,4,"votingMints"),he("timeOffset"),P("bump"),A(P(),7,"reserved2"),A(a(),11,"reserved3")]),wr=x([he("startTime"),he("endTime"),P("kind"),A(P(),15,"reserved")]),Tr=x([A(wr,1,"lockup"),a("amountDeposited_native"),a("amountInitiallyLockedNative"),ue("isUsed"),ue("allowClawback"),P("votingMintConfigIdx"),A(P(),29,"reserved")]),It=x([G(8),h("voterAuthority"),h("registrar"),A(Tr,32,"deposits"),P("voterBump"),P("voterWweightRecordBump"),A(P(),94,"reserved")]);var xr=require("@solana/spl-token"),qs=_("Raydium_farm_config"),Hs=new Te.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),js=new Te.PublicKey("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1");var Ys=new Te.PublicKey("3TRTX4dXUpp2eqxi3tvQDFYUV7SdDJjcPE3Y4mbtftaX");var ce={"Standard SPL":0,"Option tokens":1},zs={[gt.toString()]:3,[yt.toString()]:4,[bt.toString()]:5,[ht.toString()]:6,[ae.FARM_PROGRAM_ID_V3.toString()]:3,[ae.FARM_PROGRAM_ID_V4.toString()]:4,[ae.FARM_PROGRAM_ID_V5.toString()]:5,[ae.FARM_PROGRAM_ID_V6.toString()]:6};function We(r,e,t){return M([e.toBuffer(),Buffer.from("registrar","utf8"),t.toBuffer()],r)}function Oe(r,e){return M([e.toBuffer(),Buffer.from("voting_mint_seed","utf8")],r)}function Ue(r,e){return M([e.toBuffer()],r)}function Ge(r,e,t){return M([e.toBuffer(),Buffer.from("voter","utf8"),t.toBuffer()],r)}function qe(r,e,t){return M([e.toBuffer(),Buffer.from("voter-weight-record","utf8"),t.toBuffer()],r)}function He(r,e,t,o){return M([Buffer.from("governance","utf8"),e.toBuffer(),t.toBuffer(),o.toBuffer()],r)}var Sr=C(require("bn.js"));var Pr=x([h("mint"),h("owner"),a("amount"),Q("delegateOption"),h("delegate"),P("state"),Q("isNativeOption"),a("isNative"),a("delegatedAmount"),Q("closeAuthorityOption"),h("closeAuthority")]);var ha=_("Raydium.farm.util");function v({programId:r,poolId:e,owner:t,version:o}){let{publicKey:i}=M([e.toBuffer(),t.toBuffer(),Buffer.from(o===6?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],r);return i}async function je(r,e,t,o){let i=await r.getAccountInfo(e);if(i===null)throw Error("registrar info check error");let u=At.decode(i.data).votingMints.findIndex(y=>y.mint.equals(o));if(u===-1)throw Error("find voter mint error");let l=await r.getAccountInfo(t);if(l===null)return{index:u,isInit:!1};let m=It.decode(l.data).deposits.findIndex(y=>y.isUsed&&y.votingMintConfigIdx===u);return m===-1?{index:u,isInit:!1}:{index:m,isInit:!0}}var kr=_("Raydium_farm_instruction"),de={voterStakeRegistryCreateVoter:Buffer.from([6,24,245,52,243,255,148,25]),voterStakeRegistryCreateDepositEntry:Buffer.from([185,131,167,186,159,125,19,67]),voterStakeRegistryDeposit:Buffer.from([242,35,198,137,82,225,242,182]),voterStakeRegistryWithdraw:Buffer.from([183,18,70,156,148,109,161,34]),voterStakeRegistryUpdateVoterWeightRecord:Buffer.from([45,185,3,36,109,190,115,169])};function Lr(r){let{version:e,id:t,ledger:o,programId:i,owner:c}=r,u={3:9,5:10}[e];u||kr.logWithError(`invalid farm pool version: ${e}`);let l=Buffer.alloc(De.span);De.encode({instruction:u},l);let g=[n({pubkey:t}),n({pubkey:o}),n({pubkey:c,isWritable:!1}),n({pubkey:s.SystemProgram.programId,isWritable:!1}),n({pubkey:s.SYSVAR_RENT_PUBKEY,isWritable:!1})];return{instruction:new s.TransactionInstruction({programId:i,keys:g,data:l}),instructionType:z.FarmV3CreateLedger}}function Ar(r){var o;let e=Buffer.alloc(Ne.span);Ne.encode({instruction:0,nonce:new le.default(r.nonce),rewardTimeInfo:r.rewardInfoConfig},e);let t=[...Re,n({pubkey:r.farmId}),n({pubkey:r.farmAuthority,isWritable:!1}),n({pubkey:r.lpVault}),n({pubkey:r.lpMint,isWritable:!1}),n({pubkey:r.lockVault}),n({pubkey:r.lockMint,isWritable:!1}),n({pubkey:(o=r.lockUserAccount)!=null?o:O}),n({pubkey:r.owner,isWritable:!1,isSigner:!0})];for(let i of r.rewardInfo)t.push(n({pubkey:i.rewardMint,isWritable:!1}),n({pubkey:i.rewardVault}),n({pubkey:i.userRewardToken}));return{instruction:new s.TransactionInstruction({programId:r.programId,keys:t,data:e}),instructionType:z.FarmV6Create}}function Ir(r){let e=Buffer.alloc(Me.span);Me.encode({instruction:5},e);let t=[n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:r.id}),n({pubkey:r.authority,isWritable:!1}),n({pubkey:r.lpVault,isWritable:!1}),n({pubkey:r.rewardVault}),n({pubkey:r.userRewardToken}),n({pubkey:r.owner,isWritable:!1,isSigner:!0})];return{instruction:new s.TransactionInstruction({programId:r.programId,keys:t,data:e}),instructionType:z.FarmV6CreatorWithdraw}}function Rt(r,e,t,o,i,c,u,l,g,m,y,b,f){let w=x([P("depositEntryIndex"),a("amount")]),R=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:B.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:fe,isSigner:!1,isWritable:!1}],I=Buffer.alloc(w.span);w.encode({depositEntryIndex:b,amount:f},I);let K=Buffer.from([...de.voterStakeRegistryDeposit,...I]);return new s.TransactionInstruction({keys:R,programId:r,data:K})}function Bt(r,e,t,o){let i=x([]),c=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1}],u=Buffer.alloc(i.span);i.encode({},u);let l=Buffer.from([...de.voterStakeRegistryUpdateVoterWeightRecord,...u]);return new s.TransactionInstruction({keys:c,programId:r,data:l})}function _t(r,e,t,o,i,c,u,l,g,m,y,b,f,w,R){let I=x([P("depositEntryIndex"),a("amount")]),K=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:B.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:fe,isSigner:!1,isWritable:!1}],q=Buffer.alloc(I.span);I.encode({depositEntryIndex:w,amount:R},q);let H=Buffer.from([...de.voterStakeRegistryWithdraw,...q]);return new s.TransactionInstruction({keys:K,programId:r,data:H})}function Ct(r,e,t,o,i,c){let u=x([P("ins")]),l=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1}],g=Buffer.alloc(u.span);return u.encode({ins:23},g),new s.TransactionInstruction({keys:l,programId:r,data:g})}function Vt(r,e,t,o,i,c,u,l){let g=x([P("voterBump"),P("voterWeightRecordBump")]),m=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Be,isSigner:!1,isWritable:!1},{pubkey:fe,isSigner:!1,isWritable:!1}],y=Buffer.alloc(g.span);g.encode({voterBump:u,voterWeightRecordBump:l},y);let b=Buffer.from([...de.voterStakeRegistryCreateVoter,...y]);return new s.TransactionInstruction({keys:m,programId:r,data:b})}function Kt(r,e,t,o,i,c,u,l,g,m,y,b){let f=x([P("depositEntryIndex"),P("kind"),P("option"),a("startTs"),Q("periods"),ue("allowClawback")]),w=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:B.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:B.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Be,isSigner:!1,isWritable:!1}],R=Buffer.alloc(f.span);f.encode({depositEntryIndex:l,kind:g,option:m===void 0?0:1,startTs:m,periods:y,allowClawback:b},R);let I=Buffer.from([...de.voterStakeRegistryCreateDepositEntry,...R]);return new s.TransactionInstruction({keys:w,programId:r,data:I})}async function Rr({connection:r,programId:e,governanceProgramId:t,voteWeightAddinProgramId:o,realm:i,communityTokenMint:c,owner:u,poolId:l,tokenProgram:g}){let m=We(o,i,c).publicKey,y=v({programId:e,poolId:l,owner:u,version:3}),b=await r.getAccountInfo(y);if(b===null)throw Error("user is not staker");let f=we.decode(b.data),w=f.deposited.sub(f.voteLockedBalance);if(console.log("amount",w.toString()),w.eq(new le.default(0)))throw Error("user do not has new stake amount");let R=Oe(e,l).publicKey,I=Ue(e,l).publicKey,{publicKey:K,nonce:q}=Ge(o,m,u),H=se(K,R,g).publicKey,{publicKey:$,nonce:xe}=qe(o,m,u),Pe=He(t,i,c,u).publicKey,ee=[],Se=se(u,R,g).publicKey;if(await r.getAccountInfo(Se)===null&&ee.push((0,B.createAssociatedTokenAccountIdempotentInstruction)(u,Se,u,R)),await r.getAccountInfo(K)===null){let Dt=Ct(t,i,u,c,u,Pe);ee.push(Dt,Vt(o,m,K,$,u,u,q,xe))}let{index:Ye,isInit:Ft}=await je(r,m,K,R);return Ft||ee.push(Kt(o,m,K,H,u,u,R,Ye,0,void 0,0,!1)),ee.push(Rt(o,m,K,H,Se,u,y,l,R,I,e,Ye,w),Bt(o,m,K,$)),ee}async function Br({connection:r,programId:e,governanceProgramId:t,voteWeightAddinProgramId:o,realm:i,communityTokenMint:c,owner:u,poolId:l,tokenProgram:g}){let m=We(o,i,c).publicKey,y=v({programId:e,poolId:l,owner:u,version:3}),b=await r.getAccountInfo(y);if(b===null)throw Error("user is not staker");let f=we.decode(b.data);if(f.voteLockedBalance.eq(new le.default(0)))throw Error("user has vote locked balance = 0");let w=Oe(e,l).publicKey,R=Ue(e,l).publicKey,{publicKey:I}=Ge(o,m,u),K=se(I,w,g).publicKey,{publicKey:q}=qe(o,m,u),H=He(t,i,c,u).publicKey,$=[],{index:xe,isInit:Pe}=await je(r,m,I,w);if(!Pe)throw Error("deposit entry index check error");return $.push(_t(o,m,I,u,H,q,K,se(u,w,g).publicKey,y,l,w,R,e,xe,f.voteLockedBalance)),$}function _r({payer:r,rewardVault:e,userRewardTokenPub:t,farmKeys:o,rewardInfo:i}){let c=Buffer.alloc(ve.span);ve.encode({instruction:3,rewardReopenTime:L(i.openTime),rewardEndTime:L(i.endTime),rewardPerSecond:L(i.perSecond)},c);let u=[n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:o.id}),n({pubkey:o.lpVault,isWritable:!1}),n({pubkey:e}),n({pubkey:t}),n({pubkey:r,isWritable:!1,isSigner:!0})];return new s.TransactionInstruction({programId:o.programId,keys:u,data:c})}function Cr({payer:r,userRewardTokenPub:e,farmKeys:t,rewardVault:o,rewardInfo:i}){let c=Buffer.alloc(Ee.span);Ee.encode({instruction:4,isSet:new le.default(1),rewardPerSecond:L(i.perSecond),rewardOpenTime:L(i.openTime),rewardEndTime:L(i.endTime),rewardType:L(ce[i.rewardType])},c);let u=[...Re,n({pubkey:t.id}),n({pubkey:t.authority,isWritable:!1}),n({pubkey:i.mint,isWritable:!1}),n({pubkey:o}),n({pubkey:e}),n({pubkey:r,isWritable:!1,isSigner:!0})];return new s.TransactionInstruction({programId:t.programId,keys:u,data:c})}function Vr(r){let{farmInfo:e,farmKeys:t,version:o,lpAccount:i,rewardAccounts:c,owner:u,instruction:l,amount:g,deposit:m}=r,[y,b]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],f=v({programId:y,poolId:b,owner:u,version:o}),w=Buffer.alloc(V.span);V.encode({instruction:l,amount:g},w);let R=o===6?[n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),...m?[n({pubkey:s.SystemProgram.programId,isWritable:!1})]:[],n({pubkey:b}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:f}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:i})]:[n({pubkey:b}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:f}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:i}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:c[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1})];if(o===5)for(let I=1;I<t.rewardInfos.length;I++)R.push(n({pubkey:c[I]})),R.push(n({pubkey:new s.PublicKey(t.rewardInfos[I].vault)}));if(o===6)for(let I=0;I<t.rewardInfos.length;I++)R.push(n({pubkey:new s.PublicKey(t.rewardInfos[I].vault)})),R.push(n({pubkey:c[I]}));return new s.TransactionInstruction({programId:y,keys:R,data:w})}function Kr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u}=r,[l,g]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],m=v({programId:l,poolId:g,owner:c,version:6}),y=Buffer.alloc(V.span);V.encode({instruction:2,amount:L(u)},y);let b=[n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:g}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:m}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o})];for(let f=0;f<t.rewardInfos.length;f++)b.push(n({pubkey:new s.PublicKey(t.rewardInfos[f].vault)})),b.push(n({pubkey:i[f]}));return new s.TransactionInstruction({programId:l,keys:b,data:y})}function Fr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u,userAuxiliaryLedgers:l}=r,[g,m]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],y=v({programId:g,poolId:m,owner:c,version:5}),b=Buffer.alloc(V.span);V.encode({instruction:12,amount:L(u)},b);let f=[n({pubkey:m}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1})];for(let w=1;w<t.rewardInfos.length;w++)f.push(n({pubkey:i[w]})),f.push(n({pubkey:new s.PublicKey(t.rewardInfos[w].vault)}));if(l)for(let w of l)f.push(n({pubkey:w}));return new s.TransactionInstruction({programId:g,keys:f,data:b})}function Dr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u,userAuxiliaryLedgers:l}=r,[g,m]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],y=x([P("instruction"),a("amount")]),b=[n({pubkey:m}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:l[0]}),n({pubkey:c,isSigner:!0,isWritable:!1}),n({pubkey:o}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:i[1]}),n({pubkey:new s.PublicKey(t.rewardInfos[1].vault)})],f=Buffer.alloc(y.span);return y.encode({instruction:2,amount:u},f),new s.TransactionInstruction({keys:b,programId:g,data:f})}function Mr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u,userAuxiliaryLedgers:l}=r,[g,m]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],y=v({programId:g,poolId:m,owner:c,version:3}),b=Buffer.alloc(V.span);V.encode({instruction:11,amount:L(u)},b);let f=[n({pubkey:m}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1})];if(l)for(let w of l)f.push(n({pubkey:w}));return new s.TransactionInstruction({programId:g,keys:f,data:b})}function Nr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u,userAuxiliaryLedgers:l}=r,[g,m]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],y=v({programId:g,poolId:m,owner:c,version:3}),b=Buffer.alloc(V.span);V.encode({instruction:10,amount:L(u)},b);let f=[n({pubkey:m}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1})];if(l)for(let w of l)f.push(n({pubkey:w}));return new s.TransactionInstruction({programId:g,keys:f,data:b})}function vr(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u,userAuxiliaryLedgers:l}=r,[g,m]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],y=v({programId:g,poolId:m,owner:c,version:5}),b=Buffer.alloc(V.span);V.encode({instruction:11,amount:L(u)},b);let f=[n({pubkey:m}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new s.PublicKey(t.rewardInfos[0].vault)}),n({pubkey:s.SYSVAR_CLOCK_PUBKEY,isWritable:!1}),n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1})];for(let w=1;w<t.rewardInfos.length;w++)f.push(n({pubkey:i[w]})),f.push(n({pubkey:new s.PublicKey(t.rewardInfos[w].vault)}));if(l)for(let w of l)f.push(n({pubkey:w}));return new s.TransactionInstruction({programId:g,keys:f,data:b})}function Er(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:c,amount:u}=r,[l,g]=[new s.PublicKey(e.programId),new s.PublicKey(e.id)],m=v({programId:l,poolId:g,owner:c,version:6}),y=Buffer.alloc(V.span);V.encode({instruction:1,amount:L(u)},y);let b=[n({pubkey:B.TOKEN_PROGRAM_ID,isWritable:!1}),n({pubkey:s.SystemProgram.programId,isWritable:!1}),n({pubkey:g}),n({pubkey:new s.PublicKey(t.authority),isWritable:!1}),n({pubkey:new s.PublicKey(t.lpVault)}),n({pubkey:m}),n({pubkey:c,isWritable:!1,isSigner:!0}),n({pubkey:o})];for(let f=0;f<t.rewardInfos.length;f++)b.push(n({pubkey:new s.PublicKey(t.rewardInfos[f].vault)})),b.push(n({pubkey:i[f]}));return new s.TransactionInstruction({programId:l,keys:b,data:y})}0&&(module.exports={createAssociatedLedgerAccountInstruction,governanceCreateTokenOwnerRecord,makeAddNewRewardInstruction,makeCreateFarmInstruction,makeCreatorWithdrawFarmRewardInstruction,makeDepositInstructionV3,makeDepositInstructionV5,makeDepositInstructionV6,makeDepositTokenInstruction,makeDepositWithdrawInstruction,makeRestartRewardInstruction,makeWithdrawInstructionV3,makeWithdrawInstructionV4,makeWithdrawInstructionV5,makeWithdrawInstructionV6,makeWithdrawTokenInstruction,voterStakeRegistryCreateDepositEntry,voterStakeRegistryCreateVoter,voterStakeRegistryDeposit,voterStakeRegistryUpdateVoterWeightRecord,voterStakeRegistryWithdraw});
//# sourceMappingURL=instruction.js.map