var bt=Object.defineProperty,ht=Object.defineProperties;var wt=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var Tt=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var qe=(r,e,t)=>e in r?bt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_=(r,e)=>{for(var t in e||(e={}))Tt.call(e,t)&&qe(r,t,e[t]);if(Ge)for(var t of Ge(e))xt.call(e,t)&&qe(r,t,e[t]);return r},D=(r,e)=>ht(r,wt(e));import{PublicKey as d,SystemProgram as G,SYSVAR_CLOCK_PUBKEY as Z,SYSVAR_RENT_PUBKEY as mr,TransactionInstruction as B}from"@solana/web3.js";import fe from"bn.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as fr,createAssociatedTokenAccountIdempotentInstruction as yr,TOKEN_PROGRAM_ID as K}from"@solana/spl-token";import{PublicKey as Kr}from"@solana/web3.js";import{get as je,set as Pt}from"lodash";var he=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(o=>typeof o=="object"?JSON.stringify(o):o).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},He={},St={};function C(r){let e=je(He,r);if(!e){let t=je(St,r);e=new he({name:r,logLevel:t}),Pt(He,r,e)}return e}import{MINT_SIZE as Mr,TOKEN_PROGRAM_ID as Nr,getTransferFeeConfig as vr,unpackMint as Wr}from"@solana/spl-token";var Er=C("Raydium_accountInfo_util");import v from"bn.js";import Ko from"decimal.js";import Vt from"big.js";import sn from"bn.js";import kt from"toformat";var At=kt,$=At;import ue from"big.js";import It from"bn.js";import Rt from"decimal.js-light";import ee from"bn.js";var ze=9007199254740991;function k(r){let e=C("Raydium_parseBigNumberish");if(r instanceof ee)return r;if(typeof r=="string"){if(r.match(/^-?[0-9]+$/))return new ee(r);e.logWithError(`invalid BigNumberish string: ${r}`)}return typeof r=="number"?(r%1&&e.logWithError(`BigNumberish number underflow: ${r}`),(r>=ze||r<=-ze)&&e.logWithError(`BigNumberish number overflow: ${r}`),new ee(String(r))):typeof r=="bigint"?new ee(r.toString()):(e.error(`invalid BigNumberish value: ${r}`),new ee(0))}var ae=C("module/fraction"),Te=$(ue),te=$(Rt),Bt={[0]:te.ROUND_DOWN,[1]:te.ROUND_HALF_UP,[2]:te.ROUND_UP},Ct={[0]:ue.roundDown,[1]:ue.roundHalfUp,[2]:ue.roundUp},S=class{constructor(e,t=new It(1)){this.numerator=k(e),this.denominator=k(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new S(this.denominator,this.numerator)}add(e){let t=e instanceof S?e:new S(k(e));return this.denominator.eq(t.denominator)?new S(this.numerator.add(t.numerator),this.denominator):new S(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof S?e:new S(k(e));return this.denominator.eq(t.denominator)?new S(this.numerator.sub(t.numerator),this.denominator):new S(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof S?e:new S(k(e));return new S(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof S?e:new S(k(e));return new S(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},o=1){Number.isInteger(e)||ae.logWithError(`${e} is not an integer.`),e<=0&&ae.logWithError(`${e} is not positive.`),te.set({precision:e+1,rounding:Bt[o]});let i=new te(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},o=1){return Number.isInteger(e)||ae.logWithError(`${e} is not an integer.`),e<0&&ae.logWithError(`${e} is negative.`),Te.DP=e,Te.RM=Ct[o]||1,new Te(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var yn=C("Raydium_amount"),gn=$(Vt);import{PublicKey as Ft}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Xe}from"@solana/spl-token";var Ye={chainId:101,address:Ft.default.toBase58(),programId:Xe.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},E={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Xe.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as Se}from"@solana/web3.js";import{PublicKey as A,SystemProgram as Ze,SYSVAR_RENT_PUBKEY as _t}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Dt}from"@solana/spl-token";function n({pubkey:r,isSigner:e=!1,isWritable:t=!0}){return{pubkey:r,isWritable:t,isSigner:e}}var xe=[n({pubkey:Dt,isWritable:!1}),n({pubkey:Ze.programId,isWritable:!1}),n({pubkey:_t,isWritable:!1})];function Je({publicKey:r,transformSol:e}){let t=Qe(r.toString());if(t instanceof A)return e&&t.equals(O)?we:t;if(e&&t.toString()===O.toBase58())return we;if(typeof t=="string"){if(t===A.default.toBase58())return A.default;try{return new A(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Qe(r){try{return new A(r)}catch{return r}}var kn=new A("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),An=new A("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Pe=new A("SysvarRent111111111111111111111111111111111"),Ln=new A("SysvarC1ock11111111111111111111111111111111"),In=new A("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),ce=new A("Sysvar1nstructions1111111111111111111111111"),Rn=Ze.programId,Bn=new A("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Cn=new A("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Vn=new A("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Kn=new A("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Fn=new A("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),_n=new A("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Dn=new A("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Mn=new A("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Nn=new A("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),vn=new A("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Wn=new A("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),we=new A("So11111111111111111111111111111111111111112"),O=A.default;var ke=class{constructor({mint:e,decimals:t,symbol:o,name:i,skipMint:u=!1,isToken2022:a=!1}){if(e===O.toBase58()||e instanceof Se&&O.equals(e)){this.decimals=E.decimals,this.symbol=E.symbol,this.name=E.name,this.mint=new Se(E.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=o||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=u?Se.default:Je({publicKey:e}),this.isToken2022=a}equals(e){return this===e?!0:this.mint.equals(e.mint)}},H=ke;H.WSOL=new ke(D(_({},E),{mint:E.address}));var Ae=class{constructor({decimals:e,symbol:t="UNKNOWN",name:o="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=o}equals(e){return this===e}},le=Ae;le.SOL=new Ae(Ye);import Mt from"bn.js";var Jn=new S(new Mt(100));var no=C("Raydium_price");import{PublicKey as xo}from"@solana/web3.js";import So from"bn.js";var Nt=new v(0),Uo=new v(1),Go=new v(2),qo=new v(3),jo=new v(5),Kt=new v(10),Ho=new v(100),zo=new v(1e3),Xo=new v(1e4);import{PublicKey as Wt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Et}from"@solana/spl-token";import{ComputeBudgetProgram as ri,Keypair as ii,PublicKey as vt,Transaction as ai,TransactionMessage as ci,VersionedTransaction as li}from"@solana/web3.js";var z={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as fi}from"@solana/spl-token";var yi=C("Raydium_txUtil");function M(r,e){let[t,o]=vt.findProgramAddressSync(r,e);return{publicKey:t,nonce:o}}function re(r,e,t){return M([r.toBuffer(),(t!=null?t:Et).toBuffer(),e.toBuffer()],new Wt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}import{PublicKey as l}from"@solana/web3.js";var rt=new l("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),nt=new l("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),ot=new l("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),it=new l("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Pi=new l("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Si=new l("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),ki=new l("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Ai=new l("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Li=new l("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Ii=new l("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Ri=new l("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Bi=new l("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ci=new l("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Vi=new l("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Ki=new l("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Fi=new l("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),_i=new l("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Di=new l("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Mi=new l("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Ni=new l("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),vi=new l("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Wi=new l("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Ei=new l("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Oi=new l("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ui=new l("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Gi=new l("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),qi=new l("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),ji=new l("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Hi=new l("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),zi=new l("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),Xi=new l("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var ne={OPEN_BOOK_PROGRAM:new l("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new l("Ray1111111111111111111111111111111111111111"),AMM_V4:new l("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new l("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new l("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new l("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new l("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new l("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new l("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new l("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new l("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new l("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:l.default,Router:new l("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new l("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new l("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new l("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new l("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new l("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new l("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new l("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new l("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new l("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new l("Ray1111111111111111111111111111111111111111")};import Ji from"bn.js";import{PublicKey as Ot,AddressLookupTableAccount as st}from"@solana/web3.js";var Ut={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new st({key:new Ot("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:st.deserialize(Buffer.from("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","base64"))})};import{PublicKey as bs,sendAndConfirmTransaction as hs,SystemProgram as xs,Transaction as Ps,TransactionMessage as ks,VersionedTransaction as As}from"@solana/web3.js";import Is from"axios";import Gt from"bn.js";var _s=new Gt(1e6);import{PublicKey as Zt}from"@solana/web3.js";import lt,{isBN as dt}from"bn.js";import{bits as ra,BitStructure as na,blob as qt,Blob as oa,cstr as ia,f32 as sa,f32be as aa,f64 as ua,f64be as ca,greedy as la,Layout as jt,ns64 as da,ns64be as pa,nu64 as ma,nu64be as fa,offset as ya,s16 as ga,s16be as ba,s24 as ha,s24be as wa,s32 as Ta,s32be as xa,s40 as Pa,s40be as Sa,s48 as ka,s48be as Aa,s8 as La,seq as Ht,struct as Ia,Structure as zt,u16 as Ra,u16be as Ba,u24 as Ca,u24be as Va,u32 as Ka,u32be as Fa,u40 as _a,u40be as Da,u48 as Ma,u48be as Na,u8 as Xt,UInt as Yt,union as va,Union as Wa,unionLayoutDiscriminator as Ea,utf8 as Oa}from"@solana/buffer-layout";var Le=jt,at=zt;var Ie=Yt;var ut=Xt;var ct=Ht;var U=qt;var X=class extends Le{constructor(t,o,i){super(t,i);this.blob=U(t),this.signed=o}decode(t,o=0){let i=new lt(this.blob.decode(t,o),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(t,o,i=0){return typeof t=="number"&&(t=new lt(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),o,i)}};function P(r){return new Ie(1,r)}function Y(r){return new Ie(4,r)}function s(r){return new X(8,!1,r)}function W(r){return new X(16,!1,r)}function pt(r){return new X(1,!0,r)}function pe(r){return new X(8,!0,r)}var de=class extends Le{constructor(t,o,i,u){super(t.span,u);this.layout=t,this.decoder=o,this.encoder=i}decode(t,o){return this.decoder(this.layout.decode(t,o))}encode(t,o,i){return this.layout.encode(this.encoder(t),o,i)}getSpan(t,o){return this.layout.getSpan(t,o)}};function b(r){return new de(U(32),e=>new Zt(e),e=>e.toBuffer(),r)}function oe(r){return new de(ut(),Jt,Qt,r)}function Jt(r){if(r===0)return!1;if(r===1)return!0;throw new Error("Invalid bool: "+r)}function Qt(r){return r?1:0}var Re=class extends at{decode(e,t){return super.decode(e,t)}};function x(r,e,t){return new Re(r,e,t)}function L(r,e,t){let o,i=typeof e=="number"?e:dt(e)?e.toNumber():new Proxy(e,{get(u,a){if(!o){let c=Reflect.get(u,"count");o=dt(c)?c.toNumber():c,Reflect.set(u,"count",o)}return Reflect.get(u,a)},set(u,a,c){return a==="count"&&(o=c),Reflect.set(u,a,c)}});return ct(r,i,t)}import{PublicKey as _e}from"@solana/web3.js";var Be=x([P("instruction")]),Ce=x([P("instruction")]),$t=x([s("rewardState"),s("rewardOpenTime"),s("rewardEndTime"),s("rewardLastUpdateTime"),s("totalReward"),s("totalRewardEmissioned"),s("rewardClaimed"),s("rewardPerSecond"),W("accRewardPerShare"),b("rewardVault"),b("rewardMint"),b("rewardSender"),s("rewardType"),L(s(),15,"padding")]),er=x([s("state"),s("nonce"),b("lpVault"),b("rewardVault"),b(),b(),s(),s(),s("totalReward"),W("perShareReward"),s("lastSlot"),s("perSlotReward")]),tr=x([s("state"),s("nonce"),b("lpVault"),b("rewardVaultA"),s("totalRewardA"),W("perShareRewardA"),s("perSlotRewardA"),P("option"),b("rewardVaultB"),U(7),s("totalRewardB"),W("perShareRewardB"),s("perSlotRewardB"),s("lastSlot"),b()]),rr=x([s(),s("state"),s("nonce"),s("validRewardTokenNum"),W("rewardMultiplier"),s("rewardPeriodMax"),s("rewardPeriodMin"),s("rewardPeriodExtend"),b("lpMint"),b("lpVault"),L($t,5,"rewardInfos"),b("creator"),b(),L(s(),32,"padding")]),nr=new Proxy(er,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(_({},i),{version:3,rewardInfos:[{rewardVault:i.rewardVault,totalReward:i.totalReward,perSlotReward:i.perSlotReward,perShareReward:i.perShareReward}]})}:Reflect.get(r,e,t)}}),or=new Proxy(tr,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(_({},i),{version:5,rewardInfos:[{rewardVault:i.rewardVaultA,totalReward:i.totalRewardA,perSlotReward:i.perSlotRewardA,perShareReward:i.perShareRewardA},{rewardVault:i.rewardVaultB,totalReward:i.totalRewardB,perSlotReward:i.perSlotRewardB,perShareReward:i.perShareRewardB}]})}:Reflect.get(r,e,t)}}),ir=new Proxy(rr,{get(r,e,t){return e==="decode"?(...o)=>{let i=r.decode(...o);return D(_({},i),{version:6,rewardInfos:i.rewardInfos.map(u=>{var a;return D(_({},u),{rewardType:((a=Object.entries(ie).find(c=>String(c[1])===u.rewardType.toString()))!=null?a:["Standard SPL"])[0]})})})}:Reflect.get(r,e,t)}}),sr=x([s("isSet"),s("rewardPerSecond"),s("rewardOpenTime"),s("rewardEndTime"),s("rewardType")]),Ve=x([P("instruction"),s("nonce"),L(sr,5,"rewardTimeInfo")]),Ke=x([P("instruction"),s("rewardReopenTime"),s("rewardEndTime"),s("rewardPerSecond")]),Fe=x([P("instruction"),s("isSet"),s("rewardPerSecond"),s("rewardOpenTime"),s("rewardEndTime"),s("rewardType")]),iu=x([s("state"),b("id"),b("owner"),s("deposited"),L(s(),1,"rewardDebts")]),me=x([s("state"),b("id"),b("owner"),s("deposited"),L(W(),1,"rewardDebts"),s(""),s("voteLockedBalance"),L(s(),15)]),su=x([s("state"),b("id"),b("owner"),s("deposited"),L(s(),2,"rewardDebts")]),ar=x([s("state"),b("id"),b("owner"),s("deposited"),L(W(),2,"rewardDebts"),L(s(),17)]),ur=x([s(),s("state"),b("id"),b("owner"),s("deposited"),L(W(),5,"rewardDebts"),L(s(),16)]),V=x([P("instruction"),s("amount")]),cr=x([b("mint"),b("grantAuthority"),s("baselineVoteWeightScaledFactor"),s("maxExtraLockupVoteWeightScaledFactor"),s("lockupSaturationSecs"),pt("digitShift"),L(P(),7,"reserved1"),L(s(),7,"reserved2")]),mt=x([U(8),b("governanceProgramId"),b("realm"),b("realmGoverningTokenMint"),b("realmAuthority"),L(P(),32,"reserved1"),L(cr,4,"votingMints"),pe("timeOffset"),P("bump"),L(P(),7,"reserved2"),L(s(),11,"reserved3")]),lr=x([pe("startTime"),pe("endTime"),P("kind"),L(P(),15,"reserved")]),dr=x([L(lr,1,"lockup"),s("amountDeposited_native"),s("amountInitiallyLockedNative"),oe("isUsed"),oe("allowClawback"),P("votingMintConfigIdx"),L(P(),29,"reserved")]),ft=x([U(8),b("voterAuthority"),b("registrar"),L(dr,32,"deposits"),P("voterBump"),P("voterWweightRecordBump"),L(P(),94,"reserved")]);import{NATIVE_MINT as yu}from"@solana/spl-token";var gu=C("Raydium_farm_config"),bu=new _e("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),hu=new _e("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1");var wu=new _e("3TRTX4dXUpp2eqxi3tvQDFYUV7SdDJjcPE3Y4mbtftaX");var ie={"Standard SPL":0,"Option tokens":1},Tu={[rt.toString()]:3,[nt.toString()]:4,[ot.toString()]:5,[it.toString()]:6,[ne.FARM_PROGRAM_ID_V3.toString()]:3,[ne.FARM_PROGRAM_ID_V4.toString()]:4,[ne.FARM_PROGRAM_ID_V5.toString()]:5,[ne.FARM_PROGRAM_ID_V6.toString()]:6};function De(r,e,t){return M([e.toBuffer(),Buffer.from("registrar","utf8"),t.toBuffer()],r)}function Me(r,e){return M([e.toBuffer(),Buffer.from("voting_mint_seed","utf8")],r)}function Ne(r,e){return M([e.toBuffer()],r)}function ve(r,e,t){return M([e.toBuffer(),Buffer.from("voter","utf8"),t.toBuffer()],r)}function We(r,e,t){return M([e.toBuffer(),Buffer.from("voter-weight-record","utf8"),t.toBuffer()],r)}function Ee(r,e,t,o){return M([Buffer.from("governance","utf8"),e.toBuffer(),t.toBuffer(),o.toBuffer()],r)}import Fu from"bn.js";var pr=x([b("mint"),b("owner"),s("amount"),Y("delegateOption"),b("delegate"),P("state"),Y("isNativeOption"),s("isNative"),s("delegatedAmount"),Y("closeAuthorityOption"),b("closeAuthority")]);var Hu=C("Raydium.farm.util");function N({programId:r,poolId:e,owner:t,version:o}){let{publicKey:i}=M([e.toBuffer(),t.toBuffer(),Buffer.from(o===6?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],r);return i}async function Oe(r,e,t,o){let i=await r.getAccountInfo(e);if(i===null)throw Error("registrar info check error");let a=mt.decode(i.data).votingMints.findIndex(y=>y.mint.equals(o));if(a===-1)throw Error("find voter mint error");let c=await r.getAccountInfo(t);if(c===null)return{index:a,isInit:!1};let p=ft.decode(c.data).deposits.findIndex(y=>y.isUsed&&y.votingMintConfigIdx===a);return p===-1?{index:a,isInit:!1}:{index:p,isInit:!0}}var gr=C("Raydium_farm_instruction"),se={voterStakeRegistryCreateVoter:Buffer.from([6,24,245,52,243,255,148,25]),voterStakeRegistryCreateDepositEntry:Buffer.from([185,131,167,186,159,125,19,67]),voterStakeRegistryDeposit:Buffer.from([242,35,198,137,82,225,242,182]),voterStakeRegistryWithdraw:Buffer.from([183,18,70,156,148,109,161,34]),voterStakeRegistryUpdateVoterWeightRecord:Buffer.from([45,185,3,36,109,190,115,169])};function uc(r){let{version:e,id:t,ledger:o,programId:i,owner:u}=r,a={3:9,5:10}[e];a||gr.logWithError(`invalid farm pool version: ${e}`);let c=Buffer.alloc(Be.span);Be.encode({instruction:a},c);let f=[n({pubkey:t}),n({pubkey:o}),n({pubkey:u,isWritable:!1}),n({pubkey:G.programId,isWritable:!1}),n({pubkey:mr,isWritable:!1})];return{instruction:new B({programId:i,keys:f,data:c}),instructionType:z.FarmV3CreateLedger}}function cc(r){var o;let e=Buffer.alloc(Ve.span);Ve.encode({instruction:0,nonce:new fe(r.nonce),rewardTimeInfo:r.rewardInfoConfig},e);let t=[...xe,n({pubkey:r.farmId}),n({pubkey:r.farmAuthority,isWritable:!1}),n({pubkey:r.lpVault}),n({pubkey:r.lpMint,isWritable:!1}),n({pubkey:r.lockVault}),n({pubkey:r.lockMint,isWritable:!1}),n({pubkey:(o=r.lockUserAccount)!=null?o:O}),n({pubkey:r.owner,isWritable:!1,isSigner:!0})];for(let i of r.rewardInfo)t.push(n({pubkey:i.rewardMint,isWritable:!1}),n({pubkey:i.rewardVault}),n({pubkey:i.userRewardToken}));return{instruction:new B({programId:r.programId,keys:t,data:e}),instructionType:z.FarmV6Create}}function lc(r){let e=Buffer.alloc(Ce.span);Ce.encode({instruction:5},e);let t=[n({pubkey:K,isWritable:!1}),n({pubkey:r.id}),n({pubkey:r.authority,isWritable:!1}),n({pubkey:r.lpVault,isWritable:!1}),n({pubkey:r.rewardVault}),n({pubkey:r.userRewardToken}),n({pubkey:r.owner,isWritable:!1,isSigner:!0})];return{instruction:new B({programId:r.programId,keys:t,data:e}),instructionType:z.FarmV6CreatorWithdraw}}function br(r,e,t,o,i,u,a,c,f,p,y,g,m){let h=x([P("depositEntryIndex"),s("amount")]),R=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:K,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:ce,isSigner:!1,isWritable:!1}],I=Buffer.alloc(h.span);h.encode({depositEntryIndex:g,amount:m},I);let F=Buffer.from([...se.voterStakeRegistryDeposit,...I]);return new B({keys:R,programId:r,data:F})}function hr(r,e,t,o){let i=x([]),u=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:G.programId,isSigner:!1,isWritable:!1}],a=Buffer.alloc(i.span);i.encode({},a);let c=Buffer.from([...se.voterStakeRegistryUpdateVoterWeightRecord,...a]);return new B({keys:u,programId:r,data:c})}function wr(r,e,t,o,i,u,a,c,f,p,y,g,m,h,R){let I=x([P("depositEntryIndex"),s("amount")]),F=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:ce,isSigner:!1,isWritable:!1}],q=Buffer.alloc(I.span);I.encode({depositEntryIndex:h,amount:R},q);let j=Buffer.from([...se.voterStakeRegistryWithdraw,...q]);return new B({keys:F,programId:r,data:j})}function Tr(r,e,t,o,i,u){let a=x([P("ins")]),c=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:G.programId,isSigner:!1,isWritable:!1}],f=Buffer.alloc(a.span);return a.encode({ins:23},f),new B({keys:c,programId:r,data:f})}function xr(r,e,t,o,i,u,a,c){let f=x([P("voterBump"),P("voterWeightRecordBump")]),p=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:G.programId,isSigner:!1,isWritable:!1},{pubkey:Pe,isSigner:!1,isWritable:!1},{pubkey:ce,isSigner:!1,isWritable:!1}],y=Buffer.alloc(f.span);f.encode({voterBump:a,voterWeightRecordBump:c},y);let g=Buffer.from([...se.voterStakeRegistryCreateVoter,...y]);return new B({keys:p,programId:r,data:g})}function Pr(r,e,t,o,i,u,a,c,f,p,y,g){let m=x([P("depositEntryIndex"),P("kind"),P("option"),s("startTs"),Y("periods"),oe("allowClawback")]),h=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:G.programId,isSigner:!1,isWritable:!1},{pubkey:K,isSigner:!1,isWritable:!1},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:Pe,isSigner:!1,isWritable:!1}],R=Buffer.alloc(m.span);m.encode({depositEntryIndex:c,kind:f,option:p===void 0?0:1,startTs:p,periods:y,allowClawback:g},R);let I=Buffer.from([...se.voterStakeRegistryCreateDepositEntry,...R]);return new B({keys:h,programId:r,data:I})}async function dc({connection:r,programId:e,governanceProgramId:t,voteWeightAddinProgramId:o,realm:i,communityTokenMint:u,owner:a,poolId:c,tokenProgram:f}){let p=De(o,i,u).publicKey,y=N({programId:e,poolId:c,owner:a,version:3}),g=await r.getAccountInfo(y);if(g===null)throw Error("user is not staker");let m=me.decode(g.data),h=m.deposited.sub(m.voteLockedBalance);if(console.log("amount",h.toString()),h.eq(new fe(0)))throw Error("user do not has new stake amount");let R=Me(e,c).publicKey,I=Ne(e,c).publicKey,{publicKey:F,nonce:q}=ve(o,p,a),j=re(F,R,f).publicKey,{publicKey:J,nonce:ye}=We(o,p,a),ge=Ee(t,i,u,a).publicKey,Q=[],be=re(a,R,f).publicKey;if(await r.getAccountInfo(be)===null&&Q.push(yr(a,be,a,R)),await r.getAccountInfo(F)===null){let gt=Tr(t,i,a,u,a,ge);Q.push(gt,xr(o,p,F,J,a,a,q,ye))}let{index:Ue,isInit:yt}=await Oe(r,p,F,R);return yt||Q.push(Pr(o,p,F,j,a,a,R,Ue,0,void 0,0,!1)),Q.push(br(o,p,F,j,be,a,y,c,R,I,e,Ue,h),hr(o,p,F,J)),Q}async function pc({connection:r,programId:e,governanceProgramId:t,voteWeightAddinProgramId:o,realm:i,communityTokenMint:u,owner:a,poolId:c,tokenProgram:f}){let p=De(o,i,u).publicKey,y=N({programId:e,poolId:c,owner:a,version:3}),g=await r.getAccountInfo(y);if(g===null)throw Error("user is not staker");let m=me.decode(g.data);if(m.voteLockedBalance.eq(new fe(0)))throw Error("user has vote locked balance = 0");let h=Me(e,c).publicKey,R=Ne(e,c).publicKey,{publicKey:I}=ve(o,p,a),F=re(I,h,f).publicKey,{publicKey:q}=We(o,p,a),j=Ee(t,i,u,a).publicKey,J=[],{index:ye,isInit:ge}=await Oe(r,p,I,h);if(!ge)throw Error("deposit entry index check error");return J.push(wr(o,p,I,a,j,q,F,re(a,h,f).publicKey,y,c,h,R,e,ye,m.voteLockedBalance)),J}function mc({payer:r,rewardVault:e,userRewardTokenPub:t,farmKeys:o,rewardInfo:i}){let u=Buffer.alloc(Ke.span);Ke.encode({instruction:3,rewardReopenTime:k(i.openTime),rewardEndTime:k(i.endTime),rewardPerSecond:k(i.perSecond)},u);let a=[n({pubkey:K,isWritable:!1}),n({pubkey:o.id}),n({pubkey:o.lpVault,isWritable:!1}),n({pubkey:e}),n({pubkey:t}),n({pubkey:r,isWritable:!1,isSigner:!0})];return new B({programId:o.programId,keys:a,data:u})}function fc({payer:r,userRewardTokenPub:e,farmKeys:t,rewardVault:o,rewardInfo:i}){let u=Buffer.alloc(Fe.span);Fe.encode({instruction:4,isSet:new fe(1),rewardPerSecond:k(i.perSecond),rewardOpenTime:k(i.openTime),rewardEndTime:k(i.endTime),rewardType:k(ie[i.rewardType])},u);let a=[...xe,n({pubkey:t.id}),n({pubkey:t.authority,isWritable:!1}),n({pubkey:i.mint,isWritable:!1}),n({pubkey:o}),n({pubkey:e}),n({pubkey:r,isWritable:!1,isSigner:!0})];return new B({programId:t.programId,keys:a,data:u})}function yc(r){let{farmInfo:e,farmKeys:t,version:o,lpAccount:i,rewardAccounts:u,owner:a,instruction:c,amount:f,deposit:p}=r,[y,g]=[new d(e.programId),new d(e.id)],m=N({programId:y,poolId:g,owner:a,version:o}),h=Buffer.alloc(V.span);V.encode({instruction:c,amount:f},h);let R=o===6?[n({pubkey:K,isWritable:!1}),...p?[n({pubkey:G.programId,isWritable:!1})]:[],n({pubkey:g}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:new d(t.lpVault)}),n({pubkey:m}),n({pubkey:a,isWritable:!1,isSigner:!0}),n({pubkey:i})]:[n({pubkey:g}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:m}),n({pubkey:a,isWritable:!1,isSigner:!0}),n({pubkey:i}),n({pubkey:new d(t.lpVault)}),n({pubkey:u[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1})];if(o===5)for(let I=1;I<t.rewardInfos.length;I++)R.push(n({pubkey:u[I]})),R.push(n({pubkey:new d(t.rewardInfos[I].vault)}));if(o===6)for(let I=0;I<t.rewardInfos.length;I++)R.push(n({pubkey:new d(t.rewardInfos[I].vault)})),R.push(n({pubkey:u[I]}));return new B({programId:y,keys:R,data:h})}function gc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a}=r,[c,f]=[new d(e.programId),new d(e.id)],p=N({programId:c,poolId:f,owner:u,version:6}),y=Buffer.alloc(V.span);V.encode({instruction:2,amount:k(a)},y);let g=[n({pubkey:K,isWritable:!1}),n({pubkey:f}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:new d(t.lpVault)}),n({pubkey:p}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o})];for(let m=0;m<t.rewardInfos.length;m++)g.push(n({pubkey:new d(t.rewardInfos[m].vault)})),g.push(n({pubkey:i[m]}));return new B({programId:c,keys:g,data:y})}function bc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a,userAuxiliaryLedgers:c}=r,[f,p]=[new d(e.programId),new d(e.id)],y=N({programId:f,poolId:p,owner:u,version:5}),g=Buffer.alloc(V.span);V.encode({instruction:12,amount:k(a)},g);let m=[n({pubkey:p}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new d(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1})];for(let h=1;h<t.rewardInfos.length;h++)m.push(n({pubkey:i[h]})),m.push(n({pubkey:new d(t.rewardInfos[h].vault)}));if(c)for(let h of c)m.push(n({pubkey:h}));return new B({programId:f,keys:m,data:g})}function hc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a,userAuxiliaryLedgers:c}=r,[f,p]=[new d(e.programId),new d(e.id)],y=x([P("instruction"),s("amount")]),g=[n({pubkey:p}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:c[0]}),n({pubkey:u,isSigner:!0,isWritable:!1}),n({pubkey:o}),n({pubkey:new d(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1}),n({pubkey:i[1]}),n({pubkey:new d(t.rewardInfos[1].vault)})],m=Buffer.alloc(y.span);return y.encode({instruction:2,amount:a},m),new B({keys:g,programId:f,data:m})}function wc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a,userAuxiliaryLedgers:c}=r,[f,p]=[new d(e.programId),new d(e.id)],y=N({programId:f,poolId:p,owner:u,version:3}),g=Buffer.alloc(V.span);V.encode({instruction:11,amount:k(a)},g);let m=[n({pubkey:p}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new d(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1})];if(c)for(let h of c)m.push(n({pubkey:h}));return new B({programId:f,keys:m,data:g})}function Tc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a,userAuxiliaryLedgers:c}=r,[f,p]=[new d(e.programId),new d(e.id)],y=N({programId:f,poolId:p,owner:u,version:3}),g=Buffer.alloc(V.span);V.encode({instruction:10,amount:k(a)},g);let m=[n({pubkey:p}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new d(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1})];if(c)for(let h of c)m.push(n({pubkey:h}));return new B({programId:f,keys:m,data:g})}function xc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a,userAuxiliaryLedgers:c}=r,[f,p]=[new d(e.programId),new d(e.id)],y=N({programId:f,poolId:p,owner:u,version:5}),g=Buffer.alloc(V.span);V.encode({instruction:11,amount:k(a)},g);let m=[n({pubkey:p}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:y}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o}),n({pubkey:new d(t.lpVault)}),n({pubkey:i[0]}),n({pubkey:new d(t.rewardInfos[0].vault)}),n({pubkey:Z,isWritable:!1}),n({pubkey:K,isWritable:!1})];for(let h=1;h<t.rewardInfos.length;h++)m.push(n({pubkey:i[h]})),m.push(n({pubkey:new d(t.rewardInfos[h].vault)}));if(c)for(let h of c)m.push(n({pubkey:h}));return new B({programId:f,keys:m,data:g})}function Pc(r){let{farmInfo:e,farmKeys:t,lpAccount:o,rewardAccounts:i,owner:u,amount:a}=r,[c,f]=[new d(e.programId),new d(e.id)],p=N({programId:c,poolId:f,owner:u,version:6}),y=Buffer.alloc(V.span);V.encode({instruction:1,amount:k(a)},y);let g=[n({pubkey:K,isWritable:!1}),n({pubkey:G.programId,isWritable:!1}),n({pubkey:f}),n({pubkey:new d(t.authority),isWritable:!1}),n({pubkey:new d(t.lpVault)}),n({pubkey:p}),n({pubkey:u,isWritable:!1,isSigner:!0}),n({pubkey:o})];for(let m=0;m<t.rewardInfos.length;m++)g.push(n({pubkey:new d(t.rewardInfos[m].vault)})),g.push(n({pubkey:i[m]}));return new B({programId:c,keys:g,data:y})}export{uc as createAssociatedLedgerAccountInstruction,Tr as governanceCreateTokenOwnerRecord,fc as makeAddNewRewardInstruction,cc as makeCreateFarmInstruction,lc as makeCreatorWithdrawFarmRewardInstruction,Tc as makeDepositInstructionV3,xc as makeDepositInstructionV5,Pc as makeDepositInstructionV6,dc as makeDepositTokenInstruction,yc as makeDepositWithdrawInstruction,mc as makeRestartRewardInstruction,wc as makeWithdrawInstructionV3,hc as makeWithdrawInstructionV4,bc as makeWithdrawInstructionV5,gc as makeWithdrawInstructionV6,pc as makeWithdrawTokenInstruction,Pr as voterStakeRegistryCreateDepositEntry,xr as voterStakeRegistryCreateVoter,br as voterStakeRegistryDeposit,hr as voterStakeRegistryUpdateVoterWeightRecord,wr as voterStakeRegistryWithdraw};
//# sourceMappingURL=instruction.mjs.map