var Wt=Object.create;var fe=Object.defineProperty,Ut=Object.defineProperties,qt=Object.getOwnPropertyDescriptor,Gt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertyNames,Ne=Object.getOwnPropertySymbols,Ht=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var ct=(n,e,t)=>e in n?fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||(e={}))je.call(e,t)&&ct(n,t,e[t]);if(Ne)for(var t of Ne(e))lt.call(e,t)&&ct(n,t,e[t]);return n},Z=(n,e)=>Ut(n,Gt(e));var ge=(n,e)=>{var t={};for(var r in n)je.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ne)for(var r of Ne(n))e.indexOf(r)<0&&lt.call(n,r)&&(t[r]=n[r]);return t};var zt=(n,e)=>{for(var t in e)fe(n,t,{get:e[t],enumerable:!0})},mt=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of jt(e))!je.call(n,c)&&c!==t&&fe(n,c,{get:()=>e[c],enumerable:!(r=qt(e,c))||r.enumerable});return n};var W=(n,e,t)=>(t=n!=null?Wt(Ht(n)):{},mt(e||!n||!n.__esModule?fe(t,"default",{value:n,enumerable:!0}):t,n)),Zt=n=>mt(fe({},"__esModule",{value:!0}),n);var Tn={};zt(Tn,{claimLayout:()=>le,default:()=>Me,makeClaimInstruction:()=>De,makeClaimInstructionV4:()=>qe,makePurchaseInstruction:()=>yn,purchaseLayout:()=>We});module.exports=Zt(Tn);var pe=require("@solana/web3.js"),ut=W(require("bn.js"));var f=require("@solana/web3.js"),Pn=new f.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),wn=new f.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),An=new f.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Sn=new f.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),In=new f.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),kn=new f.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Bn=new f.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Cn=new f.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Ln=new f.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Rn=new f.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Dn=new f.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Mn=new f.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Nn=new f.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),_n=new f.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),En=new f.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),On=new f.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Jt=new f.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Qt=new f.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Xt=new f.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Yt=new f.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Kn=new f.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Fn=new f.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Vn=new f.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),vn=new f.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Wn=new f.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Un=new f.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),qn=new f.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Gn=new f.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),jn=new f.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Hn=new f.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),zn=new f.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX"),he={IDO_PROGRAM_ID_V1:Jt,IDO_PROGRAM_ID_V2:Qt,IDO_PROGRAM_ID_V3:Xt,IDO_PROGRAM_ID_V4:Yt};var Zn={OPEN_BOOK_PROGRAM:new f.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new f.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new f.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new f.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new f.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new f.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new f.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new f.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new f.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new f.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new f.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new f.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:f.PublicKey.default,Router:new f.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new f.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new f.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new f.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new f.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new f.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new f.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new f.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new f.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new f.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new f.PublicKey("Ray1111111111111111111111111111111111111111")};var O=require("@solana/web3.js"),pt=require("@solana/spl-token");function He({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Xn=[He({pubkey:pt.TOKEN_PROGRAM_ID,isWritable:!1}),He({pubkey:O.SystemProgram.programId,isWritable:!1}),He({pubkey:O.SYSVAR_RENT_PUBKEY,isWritable:!1})];function dt({publicKey:n,transformSol:e}){let t=ze(n.toString());if(t instanceof O.PublicKey)return e&&t.equals(ye)?se:t;if(e&&t.toString()===ye.toBase58())return se;if(typeof t=="string"){if(t===O.PublicKey.default.toBase58())return O.PublicKey.default;try{return new O.PublicKey(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function ze(n){try{return new O.PublicKey(n)}catch{return n}}var Yn=new O.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),$n=new O.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),ft=new O.PublicKey("SysvarRent111111111111111111111111111111111"),Ze=new O.PublicKey("SysvarC1ock11111111111111111111111111111111"),er=new O.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),tr=new O.PublicKey("Sysvar1nstructions1111111111111111111111111"),gt=O.SystemProgram.programId,nr=new O.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),rr=new O.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),or=new O.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),ir=new O.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),sr=new O.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),ar=new O.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),ur=new O.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),cr=new O.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),lr=new O.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),mr=new O.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),pr=new O.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),se=new O.PublicKey("So11111111111111111111111111111111111111112"),ye=O.PublicKey.default;var Et=require("@solana/web3.js"),Ot=W(require("bn.js"));var _t=W(require("big.js")),Le=W(require("bn.js"));var Q=W(require("bn.js")),an=W(require("decimal.js"));var ht=require("@solana/web3.js"),Je=require("@solana/spl-token"),yt={chainId:101,address:ht.PublicKey.default.toBase58(),programId:Je.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},re={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Je.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var _e=require("@solana/web3.js");var Qe=class{constructor({mint:e,decimals:t,symbol:r,name:c,skipMint:p=!1,isToken2022:g=!1}){if(e===ye.toBase58()||e instanceof _e.PublicKey&&ye.equals(e)){this.decimals=re.decimals,this.symbol=re.symbol,this.name=re.name,this.mint=new _e.PublicKey(re.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=c||e.toString().substring(0,6),this.mint=p?_e.PublicKey.default:dt({publicKey:e}),this.isToken2022=g}equals(e){return this===e?!0:this.mint.equals(e.mint)}},oe=Qe;oe.WSOL=new Qe(Z(F({},re),{mint:re.address}));var Xe=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}},Ee=Xe;Ee.SOL=new Xe(yt);var xe=W(require("big.js")),Pt=W(require("bn.js")),wt=W(require("decimal.js-light"));var be=require("lodash");var Ye=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},bt={},$t={};function q(n){let e=(0,be.get)(bt,n);if(!e){let t=(0,be.get)($t,n);e=new Ye({name:n,logLevel:t}),(0,be.set)(bt,n,e)}return e}var ae=W(require("bn.js"));var Tt=9007199254740991;function z(n){let e=q("Raydium_parseBigNumberish");if(n instanceof ae.default)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new ae.default(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=Tt||n<=-Tt)&&e.logWithError(`BigNumberish number overflow: ${n}`),new ae.default(String(n))):typeof n=="bigint"?new ae.default(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new ae.default(0))}var xt=W(require("toformat")),en=xt.default,Te=en;var Oe=q("module/fraction"),$e=Te(xe.default),Pe=Te(wt.default),nn={[0]:Pe.ROUND_DOWN,[1]:Pe.ROUND_HALF_UP,[2]:Pe.ROUND_UP},rn={[0]:xe.default.roundDown,[1]:xe.default.roundHalfUp,[2]:xe.default.roundUp},_=class{constructor(e,t=new Pt.default(1)){this.numerator=z(e),this.denominator=z(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new _(this.denominator,this.numerator)}add(e){let t=e instanceof _?e:new _(z(e));return this.denominator.eq(t.denominator)?new _(this.numerator.add(t.numerator),this.denominator):new _(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof _?e:new _(z(e));return this.denominator.eq(t.denominator)?new _(this.numerator.sub(t.numerator),this.denominator):new _(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof _?e:new _(z(e));return new _(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof _?e:new _(z(e));return new _(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||Oe.logWithError(`${e} is not an integer.`),e<=0&&Oe.logWithError(`${e} is not positive.`),Pe.set({precision:e+1,rounding:nn[r]});let c=new Pe(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return c.toFormat(c.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||Oe.logWithError(`${e} is not an integer.`),e<0&&Oe.logWithError(`${e} is negative.`),$e.DP=e,$e.RM=rn[r]||1,new $e(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var St=W(require("bn.js"));var At=new _(new St.default(100)),ue=class extends _{toSignificant(e=5,t,r){return this.mul(At).toSignificant(e,t,r)}toFixed(e=2,t,r){return this.mul(At).toFixed(e,t,r)}};var on=q("Raydium_price"),$=class extends _{constructor(t){let{baseToken:r,quoteToken:c,numerator:p,denominator:g}=t;super(p,g);this.baseToken=r,this.quoteToken=c,this.scalar=new _(et(r.decimals),et(c.decimals))}get raw(){return new _(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new $({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(t){this.quoteToken!==t.baseToken&&on.logWithError("mul token not equals");let r=super.mul(t);return new $({baseToken:this.baseToken,quoteToken:t.quoteToken,denominator:r.denominator,numerator:r.numerator})}toSignificant(t=this.quoteToken.decimals,r,c){return this.adjusted.toSignificant(t,r,c)}toFixed(t=this.quoteToken.decimals,r,c){return this.adjusted.toFixed(t,r,c)}};var sn=new Q.default(0),$r=new Q.default(1),eo=new Q.default(2),to=new Q.default(3),no=new Q.default(5),tt=new Q.default(10),ro=new Q.default(100),oo=new Q.default(1e3),io=new Q.default(1e4);function et(n){return tt.pow(z(n))}var kt=require("@solana/web3.js");var Ke=require("@solana/spl-token"),nt=q("Raydium_accountInfo_util");async function Bt(n,e,t){let{batchRequest:r,commitment:c="confirmed",chunkCount:p=100}=F({batchRequest:!1},t),g=rt(e,p),o=new Array(g.length).fill([]);if(r){let I=g.map(b=>{let A=n._buildArgs([b.map(w=>w.toBase58())],c,"base64");return{methodName:"getMultipleAccounts",args:A}}),m=rt(I,10);o=(await(await Promise.all(m.map(async b=>await n._rpcBatchRequest(b)))).flat()).map(b=>(b.error&&nt.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${b.error.message}`),b.result.value.map(A=>{if(A){let{data:w,executable:l,lamports:h,owner:a,rentEpoch:L}=A;return w.length!==2&&w[1]!=="base64"&&nt.logWithError("info must be base64 encoded, RPC_ERROR"),{data:Buffer.from(w[0],"base64"),executable:l,lamports:h,owner:new kt.PublicKey(a),rentEpoch:L}}return null})))}else try{o=await Promise.all(g.map(I=>n.getMultipleAccountsInfo(I,c)))}catch(I){I instanceof Error&&nt.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${I.message}`)}return o.flat()}function rt(n,e=1,t=[]){let r=[...n];if(e<=0)return t;for(;r.length;)t.push(r.splice(0,e));return t}var X=class{constructor(e){this._owner=e}get publicKey(){return X.isKeyPair(this._owner)?this._owner.publicKey:this._owner}get signer(){return X.isKeyPair(this._owner)?this._owner:void 0}get isKeyPair(){return X.isKeyPair(this._owner)}get isPublicKey(){return X.isPublicKey(this._owner)}static isKeyPair(e){return e.secretKey!==void 0}static isPublicKey(e){return!X.isKeyPair(e)}};var mn=require("@solana/web3.js"),pn=require("@solana/spl-token");var G=require("@solana/web3.js");var we={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};var Lt=require("@solana/spl-token"),Ct=q("Raydium_txUtil"),Rt=1644;function Ae(n){let e=[],t=[];return n.microLamports&&(e.push(G.ComputeBudgetProgram.setComputeUnitPrice({microLamports:n.microLamports})),t.push(we.SetComputeUnitPrice)),n.units&&(e.push(G.ComputeBudgetProgram.setComputeUnitLimit({units:n.units})),t.push(we.SetComputeUnitLimit)),{instructions:e,instructionTypes:t}}async function ie(n,e){var r,c;let t=e!=null?e:"confirmed";return(c=await((r=n.getLatestBlockhash)==null?void 0:r.call(n,{commitment:t})))==null?void 0:c.blockhash}async function Se(n,e){return n.getSignatureStatuses([e]),new Promise((t,r)=>{let c=setTimeout(r,6e4);n.onSignature(e,p=>{if(clearTimeout(c),!p.err){t("");return}r(Object.assign(p.err,{txId:e}))},"confirmed")})}function un(n,e){n.length<1&&Ct.logWithError(`no instructions provided: ${n.toString()}`),e.length<1&&Ct.logWithError(`no signers provided:, ${e.toString()}`);let t=new G.Transaction;t.recentBlockhash="11111111111111111111111111111111",t.feePayer=e[0],t.add(...n);try{return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64").length<Rt}catch{return!1}}function Ie({instructions:n,payer:e,signers:t}){return un(n,[e,...t])}function te({instructions:n,payer:e,lookupTableAddressAccount:t,recentBlockhash:r=G.Keypair.generate().publicKey.toString()}){let p=new G.TransactionMessage({payerKey:e,recentBlockhash:r,instructions:n}).compileToV0Message(Object.values(t!=null?t:{}));try{return Buffer.from(new G.VersionedTransaction(p).serialize()).toString("base64").length<Rt}catch{return!1}}var cn=n=>Buffer.isBuffer(n)?n:n instanceof Uint8Array?Buffer.from(n.buffer,n.byteOffset,n.byteLength):Buffer.from(n),ln=n=>{let e=n.serialize({requireAllSignatures:!1,verifySignatures:!1});n instanceof G.VersionedTransaction&&(e=cn(e));try{return e instanceof Buffer?e.toString("base64"):Buffer.from(e).toString("base64")}catch{return e.toString("base64")}};function ne(n){let e=[];return n.forEach(t=>{t instanceof G.Transaction&&(t.recentBlockhash||(t.recentBlockhash=Lt.TOKEN_PROGRAM_ID.toBase58()),t.feePayer||(t.feePayer=G.Keypair.generate().publicKey)),e.push(ln(t))}),console.log("simulate tx string:",e),e}var dn=W(require("bn.js"));var J=require("@solana/web3.js");async function Fe({connection:n,address:e,cluster:t="mainnet"}){let r=await Bt(n,[...new Set(e.map(p=>p.toString()))].map(p=>new J.PublicKey(p))),c={};for(let p=0;p<e.length;p++){let g=r[p],o=e[p];if(!g)continue;let I=new J.AddressLookupTableAccount({key:o,state:J.AddressLookupTableAccount.deserialize(g.data)});c[o.toString()]=I,t==="devnet"?ce[o.toString()]=I:ke[o.toString()]=I}return c}var ke={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new J.AddressLookupTableAccount({key:new J.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:J.AddressLookupTableAccount.deserialize(Buffer.from("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","base64"))})},ce={},Ve=async n=>{let e="EFhMuDw1PKEuckuFRW9PavNfTH4LKP5uKHgyXDmWpFCq";if(ce[e])return ce;let t=new J.PublicKey(e),r=await n.getAccountInfo(t);return r&&(ce[e]=new J.AddressLookupTableAccount({key:t,state:J.AddressLookupTableAccount.deserialize(r.data)})),ce};var C=require("@solana/web3.js"),Dt=W(require("axios"));var Be=2e3,Ce=class{constructor(e){this.instructions=[];this.endInstructions=[];this.lookupTableAddress=[];this.signers=[];this.instructionTypes=[];this.endInstructionTypes=[];this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var r;let e=(await Dt.default.get(`https://solanacompass.com/api/fees?cacheFreshTime=${3e5}`)).data,{avg:t}=(r=e==null?void 0:e[15])!=null?r:{};if(!!t)return{units:6e5,microLamports:Math.min(Math.ceil(t*1e6/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:r}=Ae(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){var t;return e?(this.endInstructions.push(C.SystemProgram.transfer({fromPubkey:(t=e.feePayer)!=null?t:this.feePayer,toPubkey:new C.PublicKey(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push(we.TransferTip),!0):!1}async calComputeBudget({config:e,defaultIns:t}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:r=[],instructionTypes:c=[],endInstructionTypes:p=[],lookupTableAddress:g=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...r),this.instructionTypes.push(...c),this.endInstructionTypes.push(...p),this.lookupTableAddress.push(...g.filter(o=>o!==C.PublicKey.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return e===0?await this.buildV0(F({},t||{})):this.build(t)}build(e){var r;let t=new C.Transaction;return this.allInstructions.length&&t.add(...this.allInstructions),t.feePayer=this.feePayer,((r=this.owner)==null?void 0:r.signer)&&!this.signers.some(c=>c.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:t,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async c=>{var P;let{recentBlockHash:p,skipPreflight:g=!0,sendAndConfirm:o,notSendToRpc:I}=c||{},m=p!=null?p:await ie(this.connection,this.blockhashCommitment);if(t.recentBlockhash=m,this.signers.length&&t.sign(...this.signers),ne([t]),(P=this.owner)!=null&&P.isKeyPair)return{txId:o?await(0,C.sendAndConfirmTransaction)(this.connection,t,this.signers.find(A=>A.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:g}):await this.connection.sendRawTransaction(t.serialize(),{skipPreflight:g}),signedTx:t};if(this.signAllTransactions){let b=await this.signAllTransactions([t]);if(this.signers.length)for(let A of b)try{A.sign(...this.signers)}catch{}return{txId:I?"":await this.connection.sendRawTransaction(b[0].serialize(),{skipPreflight:g}),signedTx:b[0]}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var m;let{extraPreBuildData:t=[],extInfo:r}=e,{transaction:c}=this.build(r),p=t.filter(P=>P.transaction.instructions.length>0),g=[c,...p.map(P=>P.transaction)],o=[this.signers,...p.map(P=>P.signers)],I=[...this.instructionTypes,...p.map(P=>P.instructionTypes).flat()];return(m=this.owner)!=null&&m.signer&&o.forEach(P=>{P.some(b=>b.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:g,signers:o,instructionTypes:I,execute:async P=>{var L;let{sequentially:b,onTxUpdate:A,skipTxCount:w=0,recentBlockHash:l,skipPreflight:h=!0}=P||{},a=l!=null?l:await ie(this.connection,this.blockhashCommitment);if((L=this.owner)!=null&&L.isKeyPair){if(b){let T=[],M=0;for(let u of g){if(++M,M<=w)continue;let i=await(0,C.sendAndConfirmTransaction)(this.connection,u,this.signers.find(s=>s.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:h});T.push(i)}return{txIds:T,signedTxs:g}}return{txIds:await await Promise.all(g.map(async T=>(T.recentBlockhash=a,await this.connection.sendRawTransaction(T.serialize(),{skipPreflight:h})))),signedTxs:g}}if(this.signAllTransactions){let T=g.map((u,i)=>(u.recentBlockhash=a,o[i].length&&u.sign(...o[i]),u));ne(T);let M=await this.signAllTransactions(T);if(b){let u=0,i=[],s=async()=>{if(!M[u])return;let y=await this.connection.sendRawTransaction(M[u].serialize(),{skipPreflight:h});i.push({txId:y,status:"sent",signedTx:M[u]}),A==null||A([...i]),u++;let d=!1,k=null,E=null,N=S=>{k!==null&&clearInterval(k),E!==null&&this.connection.removeSignatureListener(E);let B=i.findIndex(R=>R.txId===y);if(B>-1){if(i[B].status==="error"||i[B].status==="success")return;i[B].status=S.err?"error":"success"}A==null||A([...i]),S.err||s()};this.loopMultiTxStatus&&(k=setInterval(async()=>{var S;if(d){clearInterval(k);return}try{let B=await this.connection.getTransaction(y,{commitment:"confirmed",maxSupportedTransactionVersion:0});B&&(d=!0,clearInterval(k),N({err:((S=B.meta)==null?void 0:S.err)||null}),console.log("tx status from getTransaction:",y))}catch(B){d=!0,clearInterval(k),console.error("getTransaction timeout:",B,y)}},Be)),E=this.connection.onSignature(y,S=>{if(d){this.connection.removeSignatureListener(E);return}d=!0,N(S)},"confirmed"),this.connection.getSignatureStatus(y)};return await s(),{txIds:i.map(y=>y.txId),signedTxs:M}}else{let u=[];for(let i=0;i<M.length;i+=1){let s=await this.connection.sendRawTransaction(M[i].serialize(),{skipPreflight:h});u.push(s)}return{txIds:u,signedTxs:M}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:r}){return t===0?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e){var h;let l=e||{},{lookupTableCache:t={},lookupTableAddress:r=[],forerunCreate:c,recentBlockhash:p}=l,g=ge(l,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),o=F(F({},this.cluster==="devnet"?await Ve(this.connection):ke),t),I=Array.from(new Set([...r,...this.lookupTableAddress])),m=[];for(let a of I)o[a]===void 0&&m.push(new C.PublicKey(a));let P=await Fe({connection:this.connection,address:m});for(let[a,L]of Object.entries(P))o[a]=L;let b=c?C.PublicKey.default.toBase58():p!=null?p:await ie(this.connection,this.blockhashCommitment),A=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:b,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(o));((h=this.owner)==null?void 0:h.signer)&&!this.signers.some(a=>a.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let w=new C.VersionedTransaction(A);return w.sign(this.signers),{builder:this,transaction:w,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async a=>{var u;let{skipPreflight:L=!0,sendAndConfirm:T,notSendToRpc:M}=a||{};if(ne([w]),(u=this.owner)!=null&&u.isKeyPair){let i=await this.connection.sendTransaction(w,{skipPreflight:L});return T&&await Se(this.connection,i),{txId:i,signedTx:w}}if(this.signAllTransactions){let i=await this.signAllTransactions([w]);if(this.signers.length)for(let s of i)try{s.sign(this.signers)}catch{}return{txId:M?"":await this.connection.sendTransaction(i[0],{skipPreflight:L}),signedTx:i[0]}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:g||{}}}async buildV0MultiTx(e){var m;let{extraPreBuildData:t=[],buildProps:r}=e,{transaction:c}=await this.buildV0(r),p=t.filter(P=>P.builder.instructions.length>0),g=[c,...p.map(P=>P.transaction)],o=[this.signers,...p.map(P=>P.signers)],I=[...this.instructionTypes,...p.map(P=>P.instructionTypes).flat()];return(m=this.owner)!=null&&m.signer&&o.forEach(P=>{P.some(b=>b.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),g.forEach(async(P,b)=>{P.sign(o[b])}),{builder:this,transactions:g,signers:o,instructionTypes:I,buildProps:r,execute:async P=>{var h;let{sequentially:b,onTxUpdate:A,recentBlockHash:w,skipPreflight:l=!0}=P||{};if(w&&g.forEach(a=>a.message.recentBlockhash=w),ne(g),(h=this.owner)!=null&&h.isKeyPair){if(b){let a=[];for(let L of g){let T=await this.connection.sendTransaction(L,{skipPreflight:l});await Se(this.connection,T),a.push(T)}return{txIds:a,signedTxs:g}}return{txIds:await Promise.all(g.map(async a=>await this.connection.sendTransaction(a,{skipPreflight:l}))),signedTxs:g}}if(this.signAllTransactions){let a=await this.signAllTransactions(g);if(b){let L=0,T=[],M=async()=>{if(!a[L])return;let u=await this.connection.sendTransaction(a[L],{skipPreflight:l});T.push({txId:u,status:"sent",signedTx:a[L]}),A==null||A([...T]),L++;let i=!1,s=null,y=null,d=k=>{s!==null&&clearInterval(s),y!==null&&this.connection.removeSignatureListener(y);let E=T.findIndex(N=>N.txId===u);if(E>-1){if(T[E].status==="error"||T[E].status==="success")return;T[E].status=k.err?"error":"success"}A==null||A([...T]),k.err||M()};this.loopMultiTxStatus&&(s=setInterval(async()=>{var k;if(i){clearInterval(s);return}try{let E=await this.connection.getTransaction(u,{commitment:"confirmed",maxSupportedTransactionVersion:0});E&&(i=!0,clearInterval(s),d({err:((k=E.meta)==null?void 0:k.err)||null}),console.log("tx status from getTransaction:",u))}catch(E){i=!0,clearInterval(s),console.error("getTransaction timeout:",E,u)}},Be)),y=this.connection.onSignature(u,k=>{if(i){this.connection.removeSignatureListener(y);return}i=!0,d(k)},"confirmed"),this.connection.getSignatureStatus(u)};return M(),{txIds:[],signedTxs:a}}else{let L=[];for(let T=0;T<a.length;T+=1){let M=await this.connection.sendTransaction(a[T],{skipPreflight:l});L.push(M)}return{txIds:L,signedTxs:a}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async sizeCheckBuild(e){var A;let b=e||{},{splitIns:t=[],computeBudgetConfig:r}=b,c=ge(b,["splitIns","computeBudgetConfig"]),p=r?Ae(r):{instructions:[],instructionTypes:[]},g=this.signers.reduce((w,l)=>Z(F({},w),{[l.publicKey.toBase58()]:l}),{}),o=[],I=[],m=[],P=0;if(this.allInstructions.forEach(w=>{let l=[...m,w],h=r?[...p.instructions,...l]:l,L=[...new Set(l.map(T=>T.keys.filter(M=>M.isSigner).map(M=>M.pubkey.toString())).flat()).values()].map(T=>new C.PublicKey(T));if(w!==t[P]&&m.length<12&&(Ie({instructions:h,payer:this.feePayer,signers:L})||Ie({instructions:l,payer:this.feePayer,signers:L})))m.push(w);else{if(m.length===0)throw Error("item ins too big");P+=w===t[P]?1:0,Ie({instructions:r?[...p.instructions,...m]:[...m],payer:this.feePayer,signers:L})?o.push(new C.Transaction().add(...p.instructions,...m)):o.push(new C.Transaction().add(...m)),I.push(Array.from(new Set(m.map(T=>T.keys.filter(M=>M.isSigner).map(M=>M.pubkey.toString())).flat())).map(T=>g[T]).filter(T=>T!==void 0)),m=[w]}}),m.length>0){let l=[...new Set(m.map(h=>h.keys.filter(a=>a.isSigner).map(a=>a.pubkey.toString())).flat()).values()].map(h=>g[h]).filter(h=>h!==void 0);Ie({instructions:r?[...p.instructions,...m]:[...m],payer:this.feePayer,signers:l.map(h=>h.publicKey)})?o.push(new C.Transaction().add(...p.instructions,...m)):o.push(new C.Transaction().add(...m)),I.push(l)}return o.forEach(w=>w.feePayer=this.feePayer),(A=this.owner)!=null&&A.signer&&I.forEach(w=>{w.some(l=>l.publicKey.equals(this.owner.publicKey))||w.push(this.owner.signer)}),{builder:this,transactions:o,signers:I,instructionTypes:this.instructionTypes,execute:async w=>{var u;let{sequentially:l,onTxUpdate:h,skipTxCount:a=0,recentBlockHash:L,skipPreflight:T=!0}=w||{},M=L!=null?L:await ie(this.connection,this.blockhashCommitment);if(o.forEach(async(i,s)=>{i.recentBlockhash=M,I[s].length&&i.sign(...I[s])}),ne(o),(u=this.owner)!=null&&u.isKeyPair){if(l){let i=0,s=[];for(let y of o){if(++i,i<=a){s.push("tx skipped");continue}let d=await(0,C.sendAndConfirmTransaction)(this.connection,y,this.signers.find(k=>k.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:T});s.push(d)}return{txIds:s,signedTxs:o}}return{txIds:await Promise.all(o.map(async i=>await this.connection.sendRawTransaction(i.serialize(),{skipPreflight:T}))),signedTxs:o}}if(this.signAllTransactions){let i=await this.signAllTransactions(o.slice(a,o.length)),s=[...o.slice(0,a),...i];if(l){let y=0,d=[],k=async()=>{if(!s[y])return;y<a&&(d.push({txId:"",status:"success",signedTx:s[y]}),h==null||h([...d]),y++,k());let E=await this.connection.sendRawTransaction(s[y].serialize(),{skipPreflight:T});d.push({txId:E,status:"sent",signedTx:s[y]}),h==null||h([...d]),y++;let N=!1,S=null,B=null,R=V=>{S!==null&&clearInterval(S),B!==null&&this.connection.removeSignatureListener(B);let K=d.findIndex(j=>j.txId===E);if(K>-1){if(d[K].status==="error"||d[K].status==="success")return;d[K].status=V.err?"error":"success"}h==null||h([...d]),V.err||k()};this.loopMultiTxStatus&&(S=setInterval(async()=>{var V;if(N){clearInterval(S);return}try{let K=await this.connection.getTransaction(E,{commitment:"confirmed",maxSupportedTransactionVersion:0});K&&(N=!0,clearInterval(S),R({err:((V=K.meta)==null?void 0:V.err)||null}),console.log("tx status from getTransaction:",E))}catch(K){N=!0,clearInterval(S),console.error("getTransaction timeout:",K,E)}},Be)),B=this.connection.onSignature(E,V=>{if(N){this.connection.removeSignatureListener(B);return}N=!0,R(V)},"confirmed"),this.connection.getSignatureStatus(E)};return await k(),{txIds:d.map(E=>E.txId),signedTxs:s}}else{let y=[];for(let d=0;d<s.length;d+=1){let k=await this.connection.sendRawTransaction(s[d].serialize(),{skipPreflight:T});y.push(k)}return{txIds:y,signedTxs:s}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:c||{}}}async sizeCheckBuildV0(e){var M;let T=e||{},{computeBudgetConfig:t,splitIns:r=[],lookupTableCache:c={},lookupTableAddress:p=[]}=T,g=ge(T,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),o=F(F({},this.cluster==="devnet"?await Ve(this.connection):ke),c),I=Array.from(new Set([...this.lookupTableAddress,...p])),m=[];for(let u of I)o[u]===void 0&&m.push(new C.PublicKey(u));let P=await Fe({connection:this.connection,address:m});for(let[u,i]of Object.entries(P))o[u]=i;let b=t?Ae(t):{instructions:[],instructionTypes:[]},A=await ie(this.connection,this.blockhashCommitment),w=this.signers.reduce((u,i)=>Z(F({},u),{[i.publicKey.toBase58()]:i}),{}),l=[],h=[],a=[],L=0;if(this.allInstructions.forEach(u=>{let i=[...a,u],s=t?[...b.instructions,...i]:i;if(u!==r[L]&&a.length<12&&(te({instructions:s,payer:this.feePayer,lookupTableAddressAccount:o})||te({instructions:i,payer:this.feePayer,lookupTableAddressAccount:o})))a.push(u);else{if(a.length===0)throw Error("item ins too big");L+=u===r[L]?1:0;let y={};for(let d of[...new Set(I)])o[d]!==void 0&&(y[d]=o[d]);if(t&&te({instructions:[...b.instructions,...a],payer:this.feePayer,lookupTableAddressAccount:o,recentBlockhash:A})){let d=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...b.instructions,...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(d))}else{let d=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(d))}h.push(Array.from(new Set(a.map(d=>d.keys.filter(k=>k.isSigner).map(k=>k.pubkey.toString())).flat())).map(d=>w[d]).filter(d=>d!==void 0)),a=[u]}}),a.length>0){let i=[...new Set(a.map(s=>s.keys.filter(y=>y.isSigner).map(y=>y.pubkey.toString())).flat()).values()].map(s=>w[s]).filter(s=>s!==void 0);if(t&&te({instructions:[...b.instructions,...a],payer:this.feePayer,lookupTableAddressAccount:o,recentBlockhash:A})){let s=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...b.instructions,...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(s))}else{let s=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(s))}h.push(i)}return(M=this.owner)!=null&&M.signer&&h.forEach(u=>{u.some(i=>i.publicKey.equals(this.owner.publicKey))||u.push(this.owner.signer)}),l.forEach((u,i)=>{u.sign(h[i])}),{builder:this,transactions:l,buildProps:e,signers:h,blockHash:A,instructionTypes:this.instructionTypes,execute:async u=>{var E;let{sequentially:i,onTxUpdate:s,skipTxCount:y=0,recentBlockHash:d,skipPreflight:k=!0}=u||{};if(l.map(async(N,S)=>{h[S].length&&N.sign(h[S]),d&&(N.message.recentBlockhash=d)}),ne(l),(E=this.owner)!=null&&E.isKeyPair){if(i){let N=0,S=[];for(let B of l){if(++N,N<=y){console.log("skip tx: ",N),S.push("tx skipped");continue}let R=await this.connection.sendTransaction(B,{skipPreflight:k});await Se(this.connection,R),S.push(R)}return{txIds:S,signedTxs:l}}return{txIds:await Promise.all(l.map(async N=>await this.connection.sendTransaction(N,{skipPreflight:k}))),signedTxs:l}}if(this.signAllTransactions){let N=await this.signAllTransactions(l.slice(y,l.length)),S=[...l.slice(0,y),...N];if(i){let B=0,R=[],V=async()=>{if(!S[B])return;if(B<y){R.push({txId:"",status:"success",signedTx:S[B]}),s==null||s([...R]),B++,V();return}let K=await this.connection.sendTransaction(S[B],{skipPreflight:k});R.push({txId:K,status:"sent",signedTx:S[B]}),s==null||s([...R]),B++;let j=!1,H=null,Y=null,de=U=>{H!==null&&clearInterval(H),Y!==null&&this.connection.removeSignatureListener(Y);let v=R.findIndex(Ge=>Ge.txId===K);if(v>-1){if(R[v].status==="error"||R[v].status==="success")return;R[v].status=U.err?"error":"success"}s==null||s([...R]),U.err||V()};this.loopMultiTxStatus&&(H=setInterval(async()=>{var U;if(j){clearInterval(H);return}try{let v=await this.connection.getTransaction(K,{commitment:"confirmed",maxSupportedTransactionVersion:0});v&&(j=!0,clearInterval(H),de({err:((U=v.meta)==null?void 0:U.err)||null}),console.log("tx status from getTransaction:",K))}catch(v){j=!0,clearInterval(H),console.error("getTransaction timeout:",v,K)}},Be)),Y=this.connection.onSignature(K,U=>{if(j){this.connection.removeSignatureListener(Y);return}j=!0,de(U)},"confirmed"),this.connection.getSignatureStatus(K)};return V(),{txIds:[],signedTxs:S}}else{let B=[];for(let R=0;R<S.length;R+=1){let V=await this.connection.sendTransaction(S[R],{skipPreflight:k});B.push(V)}return{txIds:B,signedTxs:S}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:g||{}}}async buildSniperTransaction(e){var M;let T=e||{},{computeBudgetConfig:t,splitIns:r=[],lookupTableCache:c={},lookupTableAddress:p=[]}=T,g=ge(T,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),o=F(F({},this.cluster==="devnet"?await Ve(this.connection):ke),c),I=Array.from(new Set([...this.lookupTableAddress,...p])),m=[];for(let u of I)o[u]===void 0&&m.push(new C.PublicKey(u));let P=await Fe({connection:this.connection,address:m});for(let[u,i]of Object.entries(P))o[u]=i;let b=t?Ae(t):{instructions:[],instructionTypes:[]},A=await ie(this.connection,this.blockhashCommitment),w=this.signers.reduce((u,i)=>Z(F({},u),{[i.publicKey.toBase58()]:i}),{}),l=[],h=[],a=[],L=0;if(this.allInstructions.forEach(u=>{let i=[...a,u],s=t?[...b.instructions,...i]:i;if(u!==r[L]&&a.length<12&&(te({instructions:s,payer:this.feePayer,lookupTableAddressAccount:o})||te({instructions:i,payer:this.feePayer,lookupTableAddressAccount:o})))a.push(u);else{if(a.length===0)throw Error("item ins too big");L+=u===r[L]?1:0;let y={};for(let d of[...new Set(I)])o[d]!==void 0&&(y[d]=o[d]);if(t&&te({instructions:[...b.instructions,...a],payer:this.feePayer,lookupTableAddressAccount:o,recentBlockhash:A})){let d=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...b.instructions,...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(d))}else{let d=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(d))}h.push(Array.from(new Set(a.map(d=>d.keys.filter(k=>k.isSigner).map(k=>k.pubkey.toString())).flat())).map(d=>w[d]).filter(d=>d!==void 0)),a=[u]}}),a.length>0){let i=[...new Set(a.map(s=>s.keys.filter(y=>y.isSigner).map(y=>y.pubkey.toString())).flat()).values()].map(s=>w[s]).filter(s=>s!==void 0);if(t&&te({instructions:[...b.instructions,...a],payer:this.feePayer,lookupTableAddressAccount:o,recentBlockhash:A})){let s=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...b.instructions,...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(s))}else{let s=new C.TransactionMessage({payerKey:this.feePayer,recentBlockhash:A,instructions:[...a]}).compileToV0Message(Object.values(o));l.push(new C.VersionedTransaction(s))}h.push(i)}return(M=this.owner)!=null&&M.signer&&h.forEach(u=>{u.some(i=>i.publicKey.equals(this.owner.publicKey))||u.push(this.owner.signer)}),l.forEach((u,i)=>{u.sign(h[i])}),{builder:this,transactions:l,buildProps:e,signers:h,instructionTypes:this.instructionTypes,execute:async u=>{var E;let{sequentially:i,onTxUpdate:s,skipTxCount:y=0,recentBlockHash:d,skipPreflight:k=!0}=u||{};if(l.map(async(N,S)=>{h[S].length&&N.sign(h[S]),d&&(N.message.recentBlockhash=d)}),ne(l),(E=this.owner)!=null&&E.isKeyPair){if(i){let N=0,S=[];for(let B of l){if(++N,N<=y){console.log("skip tx: ",N),S.push("tx skipped");continue}let R=await this.connection.sendTransaction(B,{skipPreflight:k});await Se(this.connection,R),S.push(R)}return{txIds:S,signedTxs:l}}return{txIds:await Promise.all(l.map(async N=>await this.connection.sendTransaction(N,{skipPreflight:k}))),signedTxs:l}}if(this.signAllTransactions){let N=await this.signAllTransactions(l.slice(y,l.length)),S=[...l.slice(0,y),...N];if(i){let B=0,R=[],V=async()=>{if(!S[B])return;if(B<y){R.push({txId:"",status:"success",signedTx:S[B]}),s==null||s([...R]),B++,V();return}let K=await this.connection.sendTransaction(S[B],{skipPreflight:k});R.push({txId:K,status:"sent",signedTx:S[B]}),s==null||s([...R]),B++;let j=!1,H=null,Y=null,de=U=>{H!==null&&clearInterval(H),Y!==null&&this.connection.removeSignatureListener(Y);let v=R.findIndex(Ge=>Ge.txId===K);if(v>-1){if(R[v].status==="error"||R[v].status==="success")return;R[v].status=U.err?"error":"success"}s==null||s([...R]),U.err||V()};this.loopMultiTxStatus&&(H=setInterval(async()=>{var U;if(j){clearInterval(H);return}try{let v=await this.connection.getTransaction(K,{commitment:"confirmed",maxSupportedTransactionVersion:0});v&&(j=!0,clearInterval(H),de({err:((U=v.meta)==null?void 0:U.err)||null}),console.log("tx status from getTransaction:",K))}catch(v){j=!0,clearInterval(H),console.error("getTransaction timeout:",v,K)}},Be)),Y=this.connection.onSignature(K,U=>{if(j){this.connection.removeSignatureListener(Y);return}j=!0,de(U)},"confirmed"),this.connection.getSignatureStatus(K)};return V(),{txIds:[],signedTxs:S}}else{let B=[];for(let R=0;R<S.length;R+=1){let V=await this.connection.sendTransaction(S[R],{skipPreflight:k});B.push(V)}return{txIds:B,signedTxs:S}}}throw new Error("please provide owner in keypair format or signAllTransactions function")},extInfo:g||{}}}};var Mt=W(require("bn.js")),Ho=new Mt.default(1e6);var fn=q("Raydium_amount"),Nt=Te(_t.default);function gn(n,e){let t="0",r="0";if(n.includes(".")){let c=n.split(".");c.length===2?([t,r]=c,r=r.padEnd(e,"0")):fn.logWithError(`invalid number string, num: ${n}`)}else t=n;return[t,r.slice(0,e)||r]}var ee=class extends _{constructor(t,r,c=!0,p){let g=new Le.default(0),o=tt.pow(new Le.default(t.decimals));if(c)g=z(r);else{let I=new Le.default(0),m=new Le.default(0);if(typeof r=="string"||typeof r=="number"||typeof r=="bigint"){let[P,b]=gn(r.toString(),t.decimals);I=z(P),m=z(b)}I=I.mul(o),g=I.add(m)}super(g,o);this.logger=q(p||"TokenAmount"),this.token=t}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(t){return this.token.equals(t.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(t.raw)}lt(t){return this.token.equals(t.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(t.raw)}add(t){return this.token.equals(t.token)||this.logger.logWithError("add token not equals"),new ee(this.token,this.raw.add(t.raw))}subtract(t){return this.token.equals(t.token)||this.logger.logWithError("sub token not equals"),new ee(this.token,this.raw.sub(t.raw))}toSignificant(t=this.token.decimals,r,c=0){return super.toSignificant(t,r,c)}toFixed(t=this.token.decimals,r,c=0){return t>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(t,r,c)}toExact(t={groupSeparator:""}){return Nt.DP=this.token.decimals,new Nt(this.numerator.toString()).div(this.denominator.toString()).toFormat(t)}};function It(n){return typeof n=="object"&&n!==null&&![oe,ee,Et.PublicKey,_,Ot.default,$,ue].some(e=>typeof e=="object"&&n instanceof e)}function ve(n){return typeof n=="string"?ze(n):Array.isArray(n)?n.map(e=>ve(e)):It(n)?Object.fromEntries(Object.entries(n).map(([e,t])=>[e,ve(t)])):n}var ot=(...n)=>n.map(e=>{try{return typeof e=="object"?JSON.stringify(e):e}catch{return e}}).join(", "),Re=class{constructor({scope:e,moduleName:t}){this.disabled=!1;this.scope=e,this.logger=q(t)}createTxBuilder(e){return this.scope.checkOwner(),new Ce({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}createSniperTxBuilder(e,t){let r=new X(e);return new Ce({connection:this.scope.connection,feePayer:t,cluster:this.scope.cluster,owner:r,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(ot(e))}logInfo(...e){this.logger.info(ot(e))}logAndCreateError(...e){let t=ot(e);throw new Error(t)}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};var me=require("@solana/web3.js"),Ue=require("@solana/spl-token");var hn=require("@solana/web3.js"),vt=W(require("bn.js"));var x=require("@solana/buffer-layout");var Kt=x.Structure;var Ft=x.UInt;var Vt=x.nu64;function st(n){return new Ft(1,n)}var it=class extends Kt{decode(e,t){return super.decode(e,t)}};function at(n,e,t){return new it(n,e,t)}var We=at([st("instruction"),Vt("amount")]),le=at([st("instruction")]);function yn({programId:n,amount:e,instructionKeys:t}){let r=[{pubkey:gt,isSigner:!1,isWritable:!1},{pubkey:Ue.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ft,isSigner:!1,isWritable:!1},{pubkey:Ze,isSigner:!1,isWritable:!1},...Object.entries(t).map(([p,g])=>({pubkey:g,isSigner:p==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(p)}))],c=Buffer.alloc(We.span);return We.encode({instruction:1,amount:Number(e)},c),new me.TransactionInstruction({keys:r,programId:n,data:c})}function De({programId:n},e){let t=[{pubkey:Ue.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ze,isSigner:!1,isWritable:!1},...Object.entries(e).map(([c,p])=>({pubkey:p,isSigner:c==="userOwner",isWritable:!["authority","userOwner"].includes(c)}))],r=Buffer.alloc(le.span);return le.encode({instruction:2},r),new me.TransactionInstruction({keys:t,programId:n,data:r})}function qe(n){let{poolConfig:e,userKeys:t,side:r}=n,c=r==="base"?t.baseTokenAccount:t.quoteTokenAccount,p=r==="base"?e.baseVault:e.quoteVault,g=Buffer.alloc(le.span);le.encode({instruction:2},g);let o=[{pubkey:Ue.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:me.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:e.id,isWritable:!0,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!0,isSigner:!1},{pubkey:c,isWritable:!0,isSigner:!1},{pubkey:t.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:t.owner,isWritable:!1,isSigner:!0}];return new me.TransactionInstruction({programId:e.programId,keys:o,data:g})}var bn={[he.IDO_PROGRAM_ID_V1.toString()]:1,[he.IDO_PROGRAM_ID_V2.toString()]:2,[he.IDO_PROGRAM_ID_V3.toString()]:3,[he.IDO_PROGRAM_ID_V4.toString()]:4},Me=class extends Re{async claim({ownerInfo:e,idoKeys:t,associatedOnly:r=!0,checkCreateATAOwner:c=!1,txVersion:p,feePayer:g}){let o=this.createTxBuilder(g),I=bn[t.programId];I||this.logAndCreateError("invalid version",I);let m=ve(t),[P,b]=[!new ut.default(e.coin).isZero(),!new ut.default(e.pc).isZero()],A=m.projectInfo.mint.address.equals(se),{account:w,instructionParams:l}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:m.projectInfo.mint.programId,mint:m.projectInfo.mint.address,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!A,notUseTokenAccount:A,associatedOnly:A?!1:r,checkCreateATAOwner:c});!w&&P&&this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address),P&&l&&o.addInstruction(l);let h=m.buyInfo.mint.address.equals(se),{account:a,instructionParams:L}=await this.scope.account.getOrCreateTokenAccount({tokenProgram:m.buyInfo.mint.programId,mint:m.buyInfo.mint.address,owner:this.scope.ownerPubKey,createInfo:{payer:this.scope.ownerPubKey,amount:0},skipCloseAccount:!h,notUseTokenAccount:h,associatedOnly:h?!1:r,checkCreateATAOwner:c});if(!w&&b&&this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address),b&&L&&o.addInstruction(L),(!w||!a)&&this.logAndCreateError("target token accounts not found","mint",t.projectInfo.mint.address,t.buyInfo.mint.address),I===3)return o.addInstruction({instructions:[...P?[De({programId:m.programId},{idoId:m.id,authority:m.authority,poolTokenAccount:m.projectInfo.vault,userTokenAccount:w,userIdoInfo:new pe.PublicKey(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]:[],...b?[De({programId:new pe.PublicKey(t.programId)},{idoId:m.id,authority:m.authority,poolTokenAccount:m.buyInfo.vault,userTokenAccount:a,userIdoInfo:new pe.PublicKey(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]:[]]}).versionBuild({txVersion:p});if(I<3)return!P&&!b&&this.logAndCreateError("no claimable rewards"),o.addInstruction({instructions:[De({programId:m.programId},{idoId:m.id,authority:m.authority,poolQuoteTokenAccount:m.buyInfo.vault,poolBaseTokenAccount:m.projectInfo.vault,userQuoteTokenAccount:a,userBaseTokenAccount:w,userIdoInfo:new pe.PublicKey(e.userIdoInfo),userOwner:this.scope.ownerPubKey})]}).versionBuild({txVersion:p});let T={poolConfig:{id:m.id,programId:m.programId,authority:m.authority,baseVault:m.projectInfo.vault,quoteVault:m.buyInfo.vault,baseToken:t.projectInfo.mint,quoteToken:t.buyInfo.mint},userKeys:{baseTokenAccount:w,quoteTokenAccount:a,ledgerAccount:new pe.PublicKey(e.userIdoInfo),owner:this.scope.ownerPubKey}};return o.addInstruction({instructions:[...P?[qe(Z(F({},T),{side:"base"}))]:[],...b?[qe(Z(F({},T),{side:"quote"}))]:[]]}).versionBuild({txVersion:p})}};0&&(module.exports={claimLayout,makeClaimInstruction,makeClaimInstructionV4,makePurchaseInstruction,purchaseLayout});
//# sourceMappingURL=index.js.map