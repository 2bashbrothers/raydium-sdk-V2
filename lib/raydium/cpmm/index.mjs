var _t=Object.defineProperty,Dt=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var qt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable;var et=(n,e,t)=>e in n?_t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||(e={}))qt.call(e,t)&&et(n,t,e[t]);if($e)for(var t of $e(e))Gt.call(e,t)&&et(n,t,e[t]);return n},E=(n,e)=>Dt(n,vt(e));import{PublicKey as Jt}from"@solana/web3.js";import rt,{isBN as ot}from"bn.js";import{bits as pi,BitStructure as fi,blob as Ut,Blob as bi,cstr as yi,f32 as gi,f32be as Pi,f64 as ki,f64be as Ai,greedy as wi,Layout as Xt,ns64 as Ti,ns64be as xi,nu64 as hi,nu64be as Bi,offset as Ii,s16 as Si,s16be as Ki,s24 as Ci,s24be as Li,s32 as zt,s32be as Ri,s40 as Ni,s40be as Mi,s48 as Oi,s48be as Fi,s8 as Ei,seq as Ht,struct as Wi,Structure as Yt,u16 as jt,u16be as Vi,u24 as _i,u24be as Di,u32 as vi,u32be as qi,u40 as Gi,u40be as Ui,u48 as Xi,u48be as zi,u8 as Zt,UInt as Qt,union as Hi,Union as Yi,unionLayoutDiscriminator as ji,utf8 as Zi}from"@solana/buffer-layout";var Ke=Xt,tt=Yt;var Ce=Qt;var nt=Zt,Y=jt;var D=zt;var it=Ht;var C=Ut;var Z=class extends Ke{constructor(t,i,o){super(t,o);this.blob=C(t),this.signed=i}decode(t,i=0){let o=new rt(this.blob.decode(t,i),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,i,o=0){return typeof t=="number"&&(t=new rt(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),i,o)}};function h(n){return new Ce(1,n)}function Q(n){return new Ce(4,n)}function r(n){return new Z(8,!1,n)}function I(n){return new Z(16,!1,n)}function st(n){return new Z(8,!0,n)}function at(n){return new Z(16,!0,n)}var pe=class extends Ke{constructor(t,i,o,c){super(t.span,c);this.layout=t,this.decoder=i,this.encoder=o}decode(t,i){return this.decoder(this.layout.decode(t,i))}encode(t,i,o){return this.layout.encode(this.encoder(t),i,o)}getSpan(t,i){return this.layout.getSpan(t,i)}};function m(n){return new pe(C(32),e=>new Jt(e),e=>e.toBuffer(),n)}function X(n){return new pe(nt(),$t,en,n)}function $t(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function en(n){return n?1:0}var Le=class extends tt{decode(e,t){return super.decode(e,t)}};function k(n,e,t){return new Le(n,e,t)}function A(n,e,t){let i,o=typeof e=="number"?e:ot(e)?e.toNumber():new Proxy(e,{get(c,l){if(!i){let p=Reflect.get(c,"count");i=ot(p)?p.toNumber():p,Reflect.set(c,"count",i)}return Reflect.get(c,l)},set(c,l,p){return l==="count"&&(i=p),Reflect.set(c,l,p)}});return it(n,o,t)}var lr=k([C(8),h("bump"),X("disableCreatePool"),Y("index"),r("tradeFeeRate"),r("protocolFeeRate"),r("fundFeeRate"),r("createPoolFee"),m("protocolOwner"),m("fundOwner"),r("creatorFeeRate"),A(r(),15)]),mr=k([C(8),m("configId"),m("poolCreator"),m("vaultA"),m("vaultB"),m("mintLp"),m("mintA"),m("mintB"),m("mintProgramA"),m("mintProgramB"),m("observationId"),h("bump"),h("status"),h("lpDecimals"),h("mintDecimalA"),h("mintDecimalB"),r("lpAmount"),r("protocolFeesMintA"),r("protocolFeesMintB"),r("fundFeesMintA"),r("fundFeesMintB"),r("openTime"),r("epoch"),h("feeOn"),X("enableCreatorFee"),A(h(),6),r("creatorFeesMintA"),r("creatorFeesMintB"),A(r(),28)]),dr=k([C(8),m("configId"),A(r(),30)]);var tn=(i=>(i[i.BothToken=0]="BothToken",i[i.OnlyTokenA=1]="OnlyTokenA",i[i.OnlyTokenB=2]="OnlyTokenB",i))(tn||{});import{PublicKey as le,TransactionInstruction as q,Keypair as ri,SystemProgram as je}from"@solana/web3.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as he,TOKEN_2022_PROGRAM_ID as Ze,TOKEN_PROGRAM_ID as v}from"@solana/spl-token";import{PublicKey as wr}from"@solana/web3.js";import{get as ut,set as nn}from"lodash";var Re=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},ct={},rn={};function L(n){let e=ut(ct,n);if(!e){let t=ut(rn,n);e=new Re({name:n,logLevel:t}),nn(ct,n,e)}return e}import{MINT_SIZE as Br,TOKEN_PROGRAM_ID as Ir,getTransferFeeConfig as Sr,unpackMint as Kr}from"@solana/spl-token";var Cr=L("Raydium_accountInfo_util");import V from"bn.js";import cs from"decimal.js";import dn from"big.js";import Hr from"bn.js";import on from"toformat";var sn=on,ie=sn;import ye from"big.js";import un from"bn.js";import cn from"decimal.js-light";import re from"bn.js";var mt=9007199254740991;function W(n){let e=L("Raydium_parseBigNumberish");if(n instanceof re)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new re(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=mt||n<=-mt)&&e.logWithError(`BigNumberish number overflow: ${n}`),new re(String(n))):typeof n=="bigint"?new re(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new re(0))}var be=L("module/fraction"),Ne=ie(ye),oe=ie(cn),ln={[0]:oe.ROUND_DOWN,[1]:oe.ROUND_HALF_UP,[2]:oe.ROUND_UP},mn={[0]:ye.roundDown,[1]:ye.roundHalfUp,[2]:ye.roundUp},B=class{constructor(e,t=new un(1)){this.numerator=W(e),this.denominator=W(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new B(this.denominator,this.numerator)}add(e){let t=e instanceof B?e:new B(W(e));return this.denominator.eq(t.denominator)?new B(this.numerator.add(t.numerator),this.denominator):new B(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof B?e:new B(W(e));return this.denominator.eq(t.denominator)?new B(this.numerator.sub(t.numerator),this.denominator):new B(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof B?e:new B(W(e));return new B(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof B?e:new B(W(e));return new B(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||be.logWithError(`${e} is not an integer.`),e<=0&&be.logWithError(`${e} is not positive.`),oe.set({precision:e+1,rounding:ln[i]});let o=new oe(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||be.logWithError(`${e} is not an integer.`),e<0&&be.logWithError(`${e} is negative.`),Ne.DP=e,Ne.RM=mn[i]||1,new Ne(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var no=L("Raydium_amount"),io=ie(dn);import{PublicKey as fn}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as dt}from"@solana/spl-token";var Me={chainId:101,address:fn.default.toBase58(),programId:dt.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},z={chainId:101,address:"So11111111111111111111111111111111111111112",programId:dt.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as Fe}from"@solana/web3.js";import{PublicKey as S,SystemProgram as pt,SYSVAR_RENT_PUBKEY as bn}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as yn}from"@solana/spl-token";function Oe({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var mo=[Oe({pubkey:yn,isWritable:!1}),Oe({pubkey:pt.programId,isWritable:!1}),Oe({pubkey:bn,isWritable:!1})];function ft({publicKey:n,transformSol:e}){let t=bt(n.toString());if(t instanceof S)return e&&t.equals(se)?fe:t;if(e&&t.toString()===se.toBase58())return fe;if(typeof t=="string"){if(t===S.default.toBase58())return S.default;try{return new S(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function bt(n){try{return new S(n)}catch{return n}}var gn=new S("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),ge=new S("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Pe=new S("SysvarRent111111111111111111111111111111111"),po=new S("SysvarC1ock11111111111111111111111111111111"),J=new S("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),fo=new S("Sysvar1nstructions1111111111111111111111111"),yt=pt.programId,bo=new S("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),yo=new S("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),go=new S("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Po=new S("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),ko=new S("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Ao=new S("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),wo=new S("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),To=new S("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),xo=new S("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),ho=new S("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Bo=new S("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),fe=new S("So11111111111111111111111111111111111111112"),se=S.default;var Ee=class{constructor({mint:e,decimals:t,symbol:i,name:o,skipMint:c=!1,isToken2022:l=!1}){if(e===se.toBase58()||e instanceof Fe&&se.equals(e)){this.decimals=z.decimals,this.symbol=z.symbol,this.name=z.name,this.mint=new Fe(z.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=o||e.toString().substring(0,6),this.mint=c?Fe.default:ft({publicKey:e}),this.isToken2022=l}equals(e){return this===e?!0:this.mint.equals(e.mint)}},H=Ee;H.WSOL=new Ee(E(F({},z),{mint:z.address}));var We=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}},ke=We;ke.SOL=new We(Me);import Pn from"bn.js";var Wo=new B(new Pn(100));var Go=L("Raydium_price");var kn=new V(0),Ps=new V(1),ks=new V(2),As=new V(3),ws=new V(5),pn=new V(10),Ts=new V(100),xs=new V(1e3),hs=new V(1e4);function De(n,e,t){return n.mul(e).add(t).sub(new V(1)).div(t)}function we(n,e,t){return n.mul(e).div(t)}import{PublicKey as wn}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Tn}from"@solana/spl-token";import{ComputeBudgetProgram as Ns,Keypair as Fs,PublicKey as An,Transaction as Ws,TransactionMessage as _s,VersionedTransaction as Ds}from"@solana/web3.js";var $={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as Us}from"@solana/spl-token";var Xs=L("Raydium_txUtil");function M(n,e){let[t,i]=An.findProgramAddressSync(n,e);return{publicKey:t,nonce:i}}function ee(n,e,t){return M([n.toBuffer(),(t!=null?t:Tn).toBuffer(),e.toBuffer()],new wn("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}import{PublicKey as s}from"@solana/web3.js";var Js=new s("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),$s=new s("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),ea=new s("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),ta=new s("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),na=new s("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),ia=new s("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),ra=new s("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),oa=new s("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),sa=new s("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),aa=new s("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),xn=new s("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),hn=new s("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Bn=new s("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),ua=new s("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ca=new s("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),la=new s("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),ma=new s("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),da=new s("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),pa=new s("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),fa=new s("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),gt=new s("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Pt=new s("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),ba=new s("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),ya=new s("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),ga=new s("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Pa=new s("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),ka=new s("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Aa=new s("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),wa=new s("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Ta=new s("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),xa=new s("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var ha={OPEN_BOOK_PROGRAM:new s("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new s("Ray1111111111111111111111111111111111111111"),AMM_V4:new s("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new s("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new s("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new s("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new s("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new s("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new s("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new s("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new s("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new s("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:s.default,Router:new s("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new s("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new s("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new s("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new s("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new s("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new s("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new s("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new s("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new s("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new s("Ray1111111111111111111111111111111111111111")};import Sa from"bn.js";import{PublicKey as Ra,AddressLookupTableAccount as Na}from"@solana/web3.js";import{PublicKey as Ya,sendAndConfirmTransaction as ja,SystemProgram as Ja,Transaction as $a,TransactionMessage as tu,VersionedTransaction as nu}from"@solana/web3.js";import ru from"axios";import{PublicKey as du}from"@solana/web3.js";import fu from"bn.js";import Kn from"bn.js";var j=new Kn(1e6);var Cn=Buffer.from("vault_and_lp_mint_auth_seed","utf8"),Ln=Buffer.from("amm_config","utf8"),Rn=Buffer.from("pool","utf8"),Nn=Buffer.from("pool_lp_mint","utf8"),Mn=Buffer.from("pool_vault","utf8"),On=Buffer.from("observation","utf8"),Fn=Buffer.from("permission","utf8");function En(n){return M([Cn],n)}function Du(n,e){return M([Ln,_n(e)],n)}function ve(n,e,t,i){return M([Rn,e.toBuffer(),t.toBuffer(),i.toBuffer()],n)}function Wn(n,e){return M([Nn,e.toBuffer()],n)}function At(n,e,t){return M([Mn,e.toBuffer(),t.toBuffer()],n)}function Vn(n,e){return M([On,e.toBuffer()],n)}function _n(n){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,n,!1),new Uint8Array(e)}function vu({poolId:n,programId:e,configId:t,mintA:i,mintB:o}){let c=En(e).publicKey,l=n||ve(e,t,i,o).publicKey,p=Wn(e,l).publicKey,y=At(e,l,i).publicKey,d=At(e,l,o).publicKey,f=Vn(e,l).publicKey;return{poolId:l,configId:t,authority:c,lpMint:p,vaultA:y,vaultB:d,observationId:f}}var Dn=Buffer.from("locked_liquidity","utf8");function wt(n,e){return M([Dn,e.toBuffer()],n)}function qu(n,e){return M([Fn,e.toBuffer()],n)}import{PublicKey as Zm}from"@solana/web3.js";import Jm from"bn.js";import ed from"decimal.js";import{AccountLayout as id,createAssociatedTokenAccountIdempotentInstruction as rd,TOKEN_2022_PROGRAM_ID as od,TOKEN_PROGRAM_ID as sd}from"@solana/spl-token";import{PublicKey as zu}from"@solana/web3.js";import{MintLayout as Yu,TOKEN_PROGRAM_ID as Zu}from"@solana/spl-token";import{Keypair as km,PublicKey as Am,SystemProgram as Tm,TransactionInstruction as xm}from"@solana/web3.js";import Bm from"bn.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as Km,TOKEN_2022_PROGRAM_ID as Cm,TOKEN_PROGRAM_ID as Lm}from"@solana/spl-token";import Jl from"bn.js";import em from"decimal.js";import O from"bn.js";var qe=new O(0),Tt=new O(1),xt=new O(-1),Te=new O(1).shln(64),ht=new O(1).shln(128),vn=Te.sub(Tt);var qn=ht.subn(1),te=-443636,ae=-te,Ge=new O("4295048016"),Ue=new O("79226673521066979257578248091"),lc=new O("4295048017"),mc=new O("79226673521066979257578248090");var Gn=new O(10).pow(new O(6));var dc=new O("18446744073700000000");import Wl from"bn.js";import _l from"decimal.js";var kc=Buffer.from("amm_config","utf8"),Ac=Buffer.from("pool","utf8"),wc=Buffer.from("pool_vault","utf8"),Tc=Buffer.from("pool_reward_vault","utf8"),xc=Buffer.from("position","utf8"),hc=Buffer.from("tick_array","utf8"),Bc=Buffer.from("operation","utf8"),Ic=Buffer.from("pool_tick_array_bitmap_extension","utf8"),Sc=Buffer.from("observation","utf8");function Xe(n){return M([Buffer.from("metadata","utf8"),J.toBuffer(),n.toBuffer()],J)}var Kc=Buffer.from("locked_position","utf8");var Cc=Buffer.from("support_mint","utf8");import{PublicKey as cl}from"@solana/web3.js";import{TOKEN_2022_PROGRAM_ID as ml}from"@solana/spl-token";import pl from"bn.js";import bl from"decimal.js";import Nc from"bn.js";import Oc from"decimal.js";var Ye=14;var xe=60;var Yn=k([C(8),h("bump"),Y("index"),m(""),Q("protocolFeeRate"),Q("tradeFeeRate"),Y("tickSpacing"),A(r(),8,"")]),jn=k([Q("blockTimestamp"),st("tickCumulative"),A(r(),4)]),Ot=k([C(8),X("initialized"),r("recentEpoch"),Y("observationIndex"),m("poolId"),A(jn,100,"observations"),A(r(),4)]),Zn=k([h("rewardState"),r("openTime"),r("endTime"),r("lastUpdateTime"),I("emissionsPerSecondX64"),r("rewardTotalEmissioned"),r("rewardClaimed"),m("tokenMint"),m("tokenVault"),m("creator"),I("rewardGrowthGlobalX64")]),Rt=k([C(8),h("bump"),m("ammConfig"),m("creator"),m("mintA"),m("mintB"),m("vaultA"),m("vaultB"),m("observationId"),h("mintDecimalsA"),h("mintDecimalsB"),Y("tickSpacing"),I("liquidity"),I("sqrtPriceX64"),D("tickCurrent"),Q(),I("feeGrowthGlobalX64A"),I("feeGrowthGlobalX64B"),r("protocolFeesTokenA"),r("protocolFeesTokenB"),I("swapInAmountTokenA"),I("swapOutAmountTokenB"),I("swapInAmountTokenB"),I("swapOutAmountTokenA"),h("status"),A(h(),7,""),A(Zn,3,"rewardInfos"),A(r(),16,"tickArrayBitmap"),r("totalFeesTokenA"),r("totalFeesClaimedTokenA"),r("totalFeesTokenB"),r("totalFeesClaimedTokenB"),r("fundFeesTokenA"),r("fundFeesTokenB"),r("startTime"),A(r(),15*4-3,"padding")]),Qn=k([I("growthInsideLastX64"),r("rewardAmountOwed")]),Nt=k([C(8),h("bump"),m("nftMint"),m("poolId"),D("tickLower"),D("tickUpper"),I("liquidity"),I("feeGrowthInsideLastX64A"),I("feeGrowthInsideLastX64B"),r("tokenFeesOwedA"),r("tokenFeesOwedB"),A(Qn,3,"rewardInfos"),A(r(),8,"")]),cm=k([C(8),h("bump"),m("poolId"),D("tickLowerIndex"),D("tickUpperIndex"),I("liquidity"),I("feeGrowthInsideLastX64A"),I("feeGrowthInsideLastX64B"),r("tokenFeesOwedA"),r("tokenFeesOwedB"),A(I(),3,"rewardGrowthInside"),A(r(),8,"")]),Jn=k([D("tick"),at("liquidityNet"),I("liquidityGross"),I("feeGrowthOutsideX64A"),I("feeGrowthOutsideX64B"),A(I(),3,"rewardGrowthsOutsideX64"),A(Q(),13,"")]),Kt=k([C(8),m("poolId"),D("startTickIndex"),A(Jn,xe,"ticks"),h("initializedTickCount"),A(h(),115,"")]),$n=k([C(329),A(m(),100,"whitelistMints")]),Hn=k([C(8),m("poolId"),A(A(r(),8),Ye,"positiveTickArrayBitmap"),A(A(r(),8),Ye,"negativeTickArrayBitmap")]),lm=k([r(),h("bump"),m("owner"),m("poolId"),m("positionId"),m("nftAccount"),A(r(),8)]),ei=k([C(8),h("bump"),m("lockOwner"),m("poolId"),m("positionId"),m("nftAccount"),m("lockNftMint"),r("recentEpoch"),A(r(),8)]);Ot.span;var _m=L("Raydium_Clmm");var oi=L("Raydium_cpmm"),G={initialize:[175,175,109,31,13,152,155,237],deposit:[242,35,198,137,82,225,242,182],withdraw:[183,18,70,156,148,109,161,34],swapBaseInput:[143,190,90,218,196,30,51,222],swapBaseOutput:[55,217,98,86,163,74,180,173],lockCpLiquidity:[216,157,29,78,38,51,31,26],collectCpFee:[8,30,51,199,209,184,247,133],createPermissionPda:Buffer.from([135,136,2,216,137,169,181,202]),closePermissionPda:Buffer.from([156,84,32,118,69,135,70,123]),initializeWithPermission:Buffer.from([63,55,254,65,49,178,89,121]),collectCreatorFee:Buffer.from([20,22,86,123,198,28,219,132])};function Qd(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x,T,b,K,R,_){let U=k([r("amountMaxA"),r("amountMaxB"),r("openTime")]),Ie=ve(n,t,c,l).publicKey,Se=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!o.equals(Ie),isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:yt,isSigner:!1,isWritable:!1},{pubkey:Pe,isSigner:!1,isWritable:!1}],ne=Buffer.alloc(U.span);return U.encode({amountMaxA:K,amountMaxB:R,openTime:_},ne),new q({keys:Se,programId:n,data:Buffer.from([...G.initialize,...ne])})}function Jd(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x){let T=k([r("lpAmount"),r("amountMaxA"),r("amountMaxB")]),b=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:Ze,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0}],K=Buffer.alloc(T.span);return oi.debug("cpmm deposit data",{lpAmount:P.toString(),amountMaxA:w.toString(),amountMaxB:x.toString()}),T.encode({lpAmount:P,amountMaxA:w,amountMaxB:x},K),new q({keys:b,programId:n,data:Buffer.from([...G.deposit,...K])})}function $d(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x){let T=k([r("lpAmount"),r("amountMinA"),r("amountMinB")]),b=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:Ze,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:ge,isSigner:!1,isWritable:!1}],K=Buffer.alloc(T.span);return T.encode({lpAmount:P,amountMinA:w,amountMinB:x},K),new q({keys:b,programId:n,data:Buffer.from([...G.withdraw,...K])})}function ep(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x,T){let b=k([r("amountIn"),r("amounOutMin")]),K=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0}],R=Buffer.alloc(b.span);return b.encode({amountIn:x,amounOutMin:T},R),new q({keys:K,programId:n,data:Buffer.from([...G.swapBaseInput,...R])})}function tp(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x,T){let b=k([r("amountInMax"),r("amountOut")]),K=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0}],R=Buffer.alloc(b.span);return b.encode({amountInMax:x,amountOut:T},R),new q({keys:K,programId:n,data:Buffer.from([...G.swapBaseOutput,...R])})}async function np(n){var b;let{ownerInfo:e,poolInfo:t,poolKeys:i,feeNftOwner:o,getEphemeralSigners:c}=n,l=[],[p,y]=[new le(t.id),new le(t.lpMint.address)],d;if(c)d=new le((await c(1))[0]);else{let K=ri.generate();l.push(K),d=K.publicKey}let{publicKey:f}=ee(o,d,v),{publicKey:g}=Xe(d),{publicKey:P}=wt(n.lockProgram,d),{publicKey:w}=ee(e.wallet,y,v),{publicKey:x}=ee(n.lockAuthProgram,y,v),T=si({programId:n.lockProgram,auth:n.lockAuthProgram,payer:e.feePayer,liquidityOwner:e.wallet,nftOwner:o,nftMint:d,nftAccount:f,poolId:p,lockPda:P,mintLp:y,userLpVault:w,lockLpVault:x,poolVaultA:new le(i.vault.A),poolVaultB:new le(i.vault.B),metadataAccount:g,lpAmount:n.lpAmount,withMetadata:(b=n.withMetadata)!=null?b:!0});return{address:{nftMint:d,nftAccount:f,metadataAccount:g,lockPda:P,userLpVault:w,lockLpVault:x},instructions:[T],signers:l,instructionTypes:[$.CpmmLockLp],lookupTableAddress:[]}}function si({programId:n,auth:e,payer:t,liquidityOwner:i,nftOwner:o,nftMint:c,nftAccount:l,poolId:p,lockPda:y,mintLp:d,userLpVault:f,lockLpVault:g,poolVaultA:P,poolVaultB:w,metadataAccount:x,lpAmount:T,withMetadata:b}){let K=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!1},{pubkey:je.programId,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:J,isSigner:!1,isWritable:!1}],R=k([r("lpAmount"),X("withMetadata")]),_=Buffer.alloc(R.span);R.encode({lpAmount:T,withMetadata:b},_);let U=Buffer.from([...G.lockCpLiquidity,..._]);return new q({keys:K,programId:n,data:U})}function ip({programId:n,nftOwner:e,auth:t,nftAccount:i,lockPda:o,poolId:c,mintLp:l,userVaultA:p,userVaultB:y,poolVaultA:d,poolVaultB:f,mintA:g,mintB:P,lockLpVault:w,lpFeeAmount:x,cpmmProgram:T,cpmmAuthProgram:b}){let K=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:T!=null?T:gt,isSigner:!1,isWritable:!1},{pubkey:b!=null?b:Pt,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:Ze,isSigner:!1,isWritable:!1},{pubkey:ge,isSigner:!1,isWritable:!1}],R=k([r("lpFeeAmount")]),_=Buffer.alloc(R.span);R.encode({lpFeeAmount:x},_);let U=Buffer.from([...G.collectCpFee,..._]);return new q({keys:K,programId:n,data:U})}function rp(n,e,t,i,o,c,l,p,y,d,f,g,P){let w=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:je.programId,isSigner:!1,isWritable:!1}];return new q({keys:w,programId:n,data:G.collectCreatorFee})}function op(n,e,t,i,o,c,l,p,y,d,f,g,P,w,x,T,b,K,R,_,U,Ie,Se){let ne=k([r("amountA"),r("amountB"),r("openTime"),h("feeOn")]),Vt=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:je.programId,isSigner:!1,isWritable:!1}],Je=Buffer.alloc(ne.span);return ne.encode({amountA:_,amountB:U,openTime:Ie,feeOn:Se},Je),new q({keys:Vt,programId:n,data:Buffer.from([...G.initializeWithPermission,...Je])})}import Et from"bn.js";import Be from"bn.js";function Qe(n,e){if(e.isZero())throw Error("divisor is zero");return n.mod(e)}function ai(n,e){if(e.isZero())throw Error("rhs is zero");let t=n.div(e);return Qe(n,e).gt(me)&&(t=t.add(new Be(1))),[t,e]}var me=new Be(0),de=class{static swapBaseInputWithoutFees(e,t,i){let o=e.mul(i),c=t.add(e);return o.div(c)}static swapBaseOutputWithoutFees(e,t,i){let o=t.mul(e),c=i.sub(e),[l]=ai(o,c);return l}static lpTokensToTradingTokens(e,t,i,o,c){let l=e.mul(i).div(t),p=e.mul(o).div(t);if(c===0)return{tokenAmount0:l,tokenAmount1:p};if(c===1)return Qe(e.mul(i),t).gt(me)&&l.gt(me)&&(l=l.add(new Be(1))),Qe(e.mul(o),t).gt(me)&&p.gt(me)&&(p=p.add(new Be(1))),{tokenAmount0:l,tokenAmount1:p};throw Error("roundDirection value error")}};import ui from"bn.js";var N=class{static tradingFee(e,t){return De(e,t,j)}static protocolFee(e,t){return we(e,t,j)}static fundFee(e,t){return we(e,t,j)}static creatorFee(e,t){return De(e,t,j)}static splitCreatorFee(e,t,i){return we(e,i,t.add(i))}static calculatePreFeeAmount(e,t){if(t.isZero())return e;let i=e.mul(j),o=j.sub(t);return i.add(o).sub(new ui(1)).div(o)}};var Ft=(t=>(t[t.Floor=0]="Floor",t[t.Ceiling=1]="Ceiling",t))(Ft||{}),ci=(t=>(t[t.ZeroForOne=0]="ZeroForOne",t[t.OneForZero=1]="OneForZero",t))(ci||{}),li=(t=>(t[t.OneForZero=0]="OneForZero",t[t.ZeroForOne=1]="ZeroForOne",t))(li||{}),Wt=class{static validate_supply(e,t){if(e.isZero())throw Error("tokenAmount0 is zero");if(t.isZero())throw Error("tokenAmount1 is zero")}static swapBaseInput(e,t,i,o,c,l,p,y){let d=new Et(0),f=N.tradingFee(e,o),g;y?(d=N.creatorFee(e,c),g=e.sub(f).sub(d)):g=e.sub(f);let P=N.protocolFee(f,l),w=N.protocolFee(f,p),x=de.swapBaseInputWithoutFees(g,t,i),T;return y?T=x:(d=N.creatorFee(x,c),T=x.sub(d)),{newInputVaultAmount:t.add(g),newOutputVaultAmount:i.sub(x),inputAmount:e,outputAmount:T,tradeFee:f,protocolFee:P,fundFee:w,creatorFee:d}}static swapBaseOutput(e,t,i,o,c,l,p,y){let d,f=new Et(0),g;if(y)g=e;else{let b=N.calculatePreFeeAmount(e,c);f=b.sub(e),g=b}let P=de.swapBaseOutputWithoutFees(g,t,i),w;if(y){let b=N.calculatePreFeeAmount(P,o.add(c)),K=b.sub(P);f=N.splitCreatorFee(K,o,c),d=K.sub(f),w=b}else{let b=N.calculatePreFeeAmount(P,o);d=b.sub(P),w=b}let x=N.protocolFee(d,l),T=N.fundFee(d,p);return{newInputVaultAmount:t.add(P),newOutputVaultAmount:e.sub(g),inputAmount:w,outputAmount:e,tradeFee:d,protocolFee:x,fundFee:T,creatorFee:f}}};export{de as ConstantProductCurve,lr as CpmmConfigInfoLayout,N as CpmmFee,dr as CpmmPermission,mr as CpmmPoolInfoLayout,Wt as CurveCalculator,tn as FeeOn,Dn as LOCK_LIQUIDITY_SEED,Ft as RoundDirection,ci as TradeDirection,li as TradeDirectionOpposite,ip as collectCpFeeInstruction,si as cpmmLockPositionInstruction,wt as getCpLockPda,Du as getCpmmPdaAmmConfigId,ve as getCpmmPdaPoolId,vu as getCreatePoolKeys,Wn as getPdaLpMint,Vn as getPdaObservationId,qu as getPdaPermissionId,En as getPdaPoolAuthority,At as getPdaVault,op as initializeWithPermission,rp as makeCollectCreatorFeeInstruction,np as makeCpmmLockInstruction,Qd as makeCreateCpmmPoolInInstruction,Jd as makeDepositCpmmInInstruction,ep as makeSwapCpmmBaseInInstruction,tp as makeSwapCpmmBaseOutInstruction,$d as makeWithdrawCpmmInInstruction};
//# sourceMappingURL=index.mjs.map