var Xt=Object.create;var re=Object.defineProperty,Ht=Object.defineProperties,zt=Object.getOwnPropertyDescriptor,Yt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertyNames,Qe=Object.getOwnPropertySymbols,Zt=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var Je=(t,e,n)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W=(t,e)=>{for(var n in e||(e={}))$e.call(e,n)&&Je(t,n,e[n]);if(Qe)for(var n of Qe(e))Qt.call(e,n)&&Je(t,n,e[n]);return t},E=(t,e)=>Ht(t,Yt(e));var Jt=(t,e)=>{for(var n in e)re(t,n,{get:e[n],enumerable:!0})},et=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of jt(e))!$e.call(t,c)&&c!==n&&re(t,c,{get:()=>e[c],enumerable:!(i=zt(e,c))||i.enumerable});return t};var p=(t,e,n)=>(n=t!=null?Xt(Zt(t)):{},et(e||!t||!t.__esModule?re(n,"default",{value:t,enumerable:!0}):n,t)),$t=t=>et(re({},"__esModule",{value:!0}),t);var fi={};Jt(fi,{collectCpFeeInstruction:()=>mi,cpmmLockPositionInstruction:()=>Gt,initializeWithPermission:()=>pi,makeCollectCreatorFeeInstruction:()=>di,makeCpmmLockInstruction:()=>li,makeCreateCpmmPoolInInstruction:()=>oi,makeDepositCpmmInInstruction:()=>si,makeSwapCpmmBaseInInstruction:()=>ci,makeSwapCpmmBaseOutInstruction:()=>ui,makeWithdrawCpmmInInstruction:()=>ai});module.exports=$t(fi);var A=require("@solana/web3.js"),R=require("@solana/spl-token");var tn=require("@solana/web3.js");var oe=require("lodash");var Re=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let n=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(n)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},tt={},en={};function L(t){let e=(0,oe.get)(tt,t);if(!e){let n=(0,oe.get)(en,t);e=new Re({name:t,logLevel:n}),(0,oe.set)(tt,t,e)}return e}var be=require("@solana/spl-token"),Ti=L("Raydium_accountInfo_util");var D=p(require("bn.js")),mn=p(require("decimal.js"));var at=p(require("big.js")),an=p(require("bn.js"));var it=p(require("toformat")),nn=it.default,se=nn;var ae=p(require("big.js")),ot=p(require("bn.js")),st=p(require("decimal.js-light"));var Y=p(require("bn.js"));var rt=9007199254740991;function _(t){let e=L("Raydium_parseBigNumberish");if(t instanceof Y.default)return t;if(typeof t=="string"){if(t.match(/^-?[0-9]+$/))return new Y.default(t);e.logWithError(`invalid BigNumberish string: ${t}`)}return typeof t=="number"?(t%1&&e.logWithError(`BigNumberish number underflow: ${t}`),(t>=rt||t<=-rt)&&e.logWithError(`BigNumberish number overflow: ${t}`),new Y.default(String(t))):typeof t=="bigint"?new Y.default(t.toString()):(e.error(`invalid BigNumberish value: ${t}`),new Y.default(0))}var ge=L("module/fraction"),Le=se(ae.default),ce=se(st.default),on={[0]:ce.ROUND_DOWN,[1]:ce.ROUND_HALF_UP,[2]:ce.ROUND_UP},sn={[0]:ae.default.roundDown,[1]:ae.default.roundHalfUp,[2]:ae.default.roundUp},y=class{constructor(e,n=new ot.default(1)){this.numerator=_(e),this.denominator=_(n)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new y(this.denominator,this.numerator)}add(e){let n=e instanceof y?e:new y(_(e));return this.denominator.eq(n.denominator)?new y(this.numerator.add(n.numerator),this.denominator):new y(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(e){let n=e instanceof y?e:new y(_(e));return this.denominator.eq(n.denominator)?new y(this.numerator.sub(n.numerator),this.denominator):new y(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(e){let n=e instanceof y?e:new y(_(e));return new y(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(e){let n=e instanceof y?e:new y(_(e));return new y(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(e,n={groupSeparator:""},i=1){Number.isInteger(e)||ge.logWithError(`${e} is not an integer.`),e<=0&&ge.logWithError(`${e} is not positive.`),ce.set({precision:e+1,rounding:on[i]});let c=new ce(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return c.toFormat(c.decimalPlaces(),n)}toFixed(e,n={groupSeparator:""},i=1){return Number.isInteger(e)||ge.logWithError(`${e} is not an integer.`),e<0&&ge.logWithError(`${e} is negative.`),Le.DP=e,Le.RM=sn[i]||1,new Le(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,n)}isZero(){return this.numerator.isZero()}};var vi=L("Raydium_amount"),qi=se(at.default);var ct=require("@solana/web3.js"),Ne=require("@solana/spl-token"),Me={chainId:101,address:ct.PublicKey.default.toBase58(),programId:Ne.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},U={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Ne.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var we=require("@solana/web3.js");var l=require("@solana/web3.js"),ut=require("@solana/spl-token");function Oe({pubkey:t,isSigner:e=!1,isWritable:n=!0}){return{pubkey:t,isWritable:n,isSigner:e}}var Hi=[Oe({pubkey:ut.TOKEN_PROGRAM_ID,isWritable:!1}),Oe({pubkey:l.SystemProgram.programId,isWritable:!1}),Oe({pubkey:l.SYSVAR_RENT_PUBKEY,isWritable:!1})];function lt({publicKey:t,transformSol:e}){let n=mt(t.toString());if(n instanceof l.PublicKey)return e&&n.equals(ue)?ye:n;if(e&&n.toString()===ue.toBase58())return ye;if(typeof n=="string"){if(n===l.PublicKey.default.toBase58())return l.PublicKey.default;try{return new l.PublicKey(n)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function mt(t){try{return new l.PublicKey(t)}catch{return t}}var un=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Pe=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),ke=new l.PublicKey("SysvarRent111111111111111111111111111111111"),zi=new l.PublicKey("SysvarC1ock11111111111111111111111111111111"),j=new l.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Yi=new l.PublicKey("Sysvar1nstructions1111111111111111111111111"),dt=l.SystemProgram.programId,ji=new l.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Zi=new l.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Qi=new l.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Ji=new l.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),$i=new l.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),er=new l.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),tr=new l.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),nr=new l.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),ir=new l.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),rr=new l.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),or=new l.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),ye=new l.PublicKey("So11111111111111111111111111111111111111112"),ue=l.PublicKey.default;var Fe=class{constructor({mint:e,decimals:n,symbol:i,name:c,skipMint:u=!1,isToken2022:m=!1}){if(e===ue.toBase58()||e instanceof we.PublicKey&&ue.equals(e)){this.decimals=U.decimals,this.symbol=U.symbol,this.name=U.name,this.mint=new we.PublicKey(U.address),this.isToken2022=!1;return}this.decimals=n,this.symbol=i||e.toString().substring(0,6),this.name=c||e.toString().substring(0,6),this.mint=u?we.PublicKey.default:lt({publicKey:e}),this.isToken2022=m}equals(e){return this===e?!0:this.mint.equals(e.mint)}},X=Fe;X.WSOL=new Fe(E(W({},U),{mint:U.address}));var We=class{constructor({decimals:e,symbol:n="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=n,this.name=i}equals(e){return this===e}},Ae=We;Ae.SOL=new We(Me);var pt=p(require("bn.js"));var br=new y(new pt.default(100));var Ar=L("Raydium_price");var ln=new D.default(0),zr=new D.default(1),Yr=new D.default(2),jr=new D.default(3),Zr=new D.default(5),cn=new D.default(10),Qr=new D.default(100),Jr=new D.default(1e3),$r=new D.default(1e4);var ft=require("@solana/web3.js"),bt=require("@solana/spl-token");var H=require("@solana/web3.js");var Z={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};var dn=require("@solana/spl-token"),po=L("Raydium_txUtil");function z(t,e){let[n,i]=H.PublicKey.findProgramAddressSync(t,e);return{publicKey:n,nonce:i}}function Q(t,e,n){return z([t.toBuffer(),(n!=null?n:bt.TOKEN_PROGRAM_ID).toBuffer(),e.toBuffer()],new ft.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var r=require("@solana/web3.js"),go=new r.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Po=new r.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),ko=new r.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),wo=new r.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Ao=new r.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),To=new r.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),ho=new r.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),xo=new r.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Bo=new r.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Io=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),pn=new r.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),fn=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),bn=new r.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),So=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Ko=new r.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Co=new r.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Ro=new r.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Lo=new r.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),No=new r.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Mo=new r.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),yt=new r.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),gt=new r.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Oo=new r.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Fo=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Wo=new r.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Eo=new r.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),_o=new r.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Do=new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Vo=new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),vo=new r.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),qo=new r.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Go={OPEN_BOOK_PROGRAM:new r.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new r.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new r.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new r.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new r.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new r.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new r.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new r.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new r.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new r.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:r.PublicKey.default,Router:new r.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new r.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new r.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new r.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new r.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new r.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new r.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new r.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new r.PublicKey("Ray1111111111111111111111111111111111111111")};var yn=p(require("bn.js"));var kt=require("@solana/web3.js");var J=require("@solana/web3.js"),kn=p(require("axios"));var wn=require("@solana/web3.js"),An=p(require("bn.js"));var wt=p(require("bn.js")),ks=new wt.default(1e6);var vs=Buffer.from("vault_and_lp_mint_auth_seed","utf8"),qs=Buffer.from("amm_config","utf8"),Tn=Buffer.from("pool","utf8"),Gs=Buffer.from("pool_lp_mint","utf8"),Us=Buffer.from("pool_vault","utf8"),Xs=Buffer.from("observation","utf8"),Hs=Buffer.from("permission","utf8");function At(t,e,n,i){return z([Tn,e.toBuffer(),n.toBuffer(),i.toBuffer()],t)}var hn=Buffer.from("locked_liquidity","utf8");function Tt(t,e){return z([hn,e.toBuffer()],t)}var It=require("@solana/web3.js"),$=p(require("bn.js"));var o=require("@solana/buffer-layout"),De=o.Layout,ht=o.Structure;var Ve=o.UInt;var xt=o.u8,le=o.u16;var v=o.s32;var Bt=o.seq;var O=o.blob;var ee=class extends De{constructor(n,i,c){super(n,c);this.blob=O(n),this.signed=i}decode(n,i=0){let c=new $.default(this.blob.decode(n,i),10,"le");return this.signed?c.fromTwos(this.span*8).clone():c}encode(n,i,c=0){return typeof n=="number"&&(n=new $.default(n)),this.signed&&(n=n.toTwos(this.span*8)),this.blob.encode(n.toArrayLike(Buffer,"le",this.span),i,c)}};function N(t){return new Ve(1,t)}function te(t){return new Ve(4,t)}function s(t){return new ee(8,!1,t)}function P(t){return new ee(16,!1,t)}function St(t){return new ee(8,!0,t)}function Kt(t){return new ee(16,!0,t)}var he=class extends De{constructor(n,i,c,u){super(n.span,u);this.layout=n,this.decoder=i,this.encoder=c}decode(n,i){return this.decoder(this.layout.decode(n,i))}encode(n,i,c){return this.layout.encode(this.encoder(n),i,c)}getSpan(n,i){return this.layout.getSpan(n,i)}};function d(t){return new he(O(32),e=>new It.PublicKey(e),e=>e.toBuffer(),t)}function me(t){return new he(xt(),xn,Bn,t)}function xn(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Bn(t){return t?1:0}var ve=class extends ht{decode(e,n){return super.decode(e,n)}};function g(t,e,n){return new ve(t,e,n)}function k(t,e,n){let i,c=typeof e=="number"?e:(0,$.isBN)(e)?e.toNumber():new Proxy(e,{get(u,m){if(!i){let f=Reflect.get(u,"count");i=(0,$.isBN)(f)?f.toNumber():f,Reflect.set(u,"count",i)}return Reflect.get(u,m)},set(u,m,f){return m==="count"&&(i=f),Reflect.set(u,m,f)}});return Bt(t,c,n)}var ti=require("@solana/web3.js"),ni=p(require("bn.js")),ii=p(require("decimal.js"));var Se=require("@solana/spl-token");var In=require("@solana/web3.js"),Ct=require("@solana/spl-token");var Ie=require("@solana/web3.js"),ei=p(require("bn.js"));var je=require("@solana/spl-token");var qn=p(require("bn.js")),Gn=p(require("decimal.js"));var F=p(require("bn.js")),qe=new F.default(0),Rt=new F.default(1),Lt=new F.default(-1),xe=new F.default(1).shln(64),Nt=new F.default(1).shln(128),Sn=xe.sub(Rt);var Kn=Nt.subn(1),ne=-443636,de=-ne,Ge=new F.default("4295048016"),Ue=new F.default("79226673521066979257578248091"),Pa=new F.default("4295048017"),ka=new F.default("79226673521066979257578248090");var Cn=new F.default(10).pow(new F.default(6));var wa=new F.default("18446744073700000000");var Vn=p(require("bn.js")),vn=p(require("decimal.js"));var Sa=Buffer.from("amm_config","utf8"),Ka=Buffer.from("pool","utf8"),Ca=Buffer.from("pool_vault","utf8"),Ra=Buffer.from("pool_reward_vault","utf8"),La=Buffer.from("position","utf8"),Na=Buffer.from("tick_array","utf8"),Ma=Buffer.from("operation","utf8"),Oa=Buffer.from("pool_tick_array_bitmap_extension","utf8"),Fa=Buffer.from("observation","utf8");function Xe(t){return z([Buffer.from("metadata","utf8"),j.toBuffer(),t.toBuffer()],j)}var Wa=Buffer.from("locked_position","utf8");var Ea=Buffer.from("support_mint","utf8");var Fn=require("@solana/web3.js"),Wn=require("@solana/spl-token"),En=p(require("bn.js")),_n=p(require("decimal.js"));var Rn=p(require("bn.js")),Ln=p(require("decimal.js"));var Ye=14;var Be=60;var Un=g([O(8),N("bump"),le("index"),d(""),te("protocolFeeRate"),te("tradeFeeRate"),le("tickSpacing"),k(s(),8,"")]),Xn=g([te("blockTimestamp"),St("tickCumulative"),k(s(),4)]),qt=g([O(8),me("initialized"),s("recentEpoch"),le("observationIndex"),d("poolId"),k(Xn,100,"observations"),k(s(),4)]),Hn=g([N("rewardState"),s("openTime"),s("endTime"),s("lastUpdateTime"),P("emissionsPerSecondX64"),s("rewardTotalEmissioned"),s("rewardClaimed"),d("tokenMint"),d("tokenVault"),d("creator"),P("rewardGrowthGlobalX64")]),Dt=g([O(8),N("bump"),d("ammConfig"),d("creator"),d("mintA"),d("mintB"),d("vaultA"),d("vaultB"),d("observationId"),N("mintDecimalsA"),N("mintDecimalsB"),le("tickSpacing"),P("liquidity"),P("sqrtPriceX64"),v("tickCurrent"),te(),P("feeGrowthGlobalX64A"),P("feeGrowthGlobalX64B"),s("protocolFeesTokenA"),s("protocolFeesTokenB"),P("swapInAmountTokenA"),P("swapOutAmountTokenB"),P("swapInAmountTokenB"),P("swapOutAmountTokenA"),N("status"),k(N(),7,""),k(Hn,3,"rewardInfos"),k(s(),16,"tickArrayBitmap"),s("totalFeesTokenA"),s("totalFeesClaimedTokenA"),s("totalFeesTokenB"),s("totalFeesClaimedTokenB"),s("fundFeesTokenA"),s("fundFeesTokenB"),s("startTime"),k(s(),15*4-3,"padding")]),zn=g([P("growthInsideLastX64"),s("rewardAmountOwed")]),Vt=g([O(8),N("bump"),d("nftMint"),d("poolId"),v("tickLower"),v("tickUpper"),P("liquidity"),P("feeGrowthInsideLastX64A"),P("feeGrowthInsideLastX64B"),s("tokenFeesOwedA"),s("tokenFeesOwedB"),k(zn,3,"rewardInfos"),k(s(),8,"")]),Qc=g([O(8),N("bump"),d("poolId"),v("tickLowerIndex"),v("tickUpperIndex"),P("liquidity"),P("feeGrowthInsideLastX64A"),P("feeGrowthInsideLastX64B"),s("tokenFeesOwedA"),s("tokenFeesOwedB"),k(P(),3,"rewardGrowthInside"),k(s(),8,"")]),Yn=g([v("tick"),Kt("liquidityNet"),P("liquidityGross"),P("feeGrowthOutsideX64A"),P("feeGrowthOutsideX64B"),k(P(),3,"rewardGrowthsOutsideX64"),k(te(),13,"")]),Wt=g([O(8),d("poolId"),v("startTickIndex"),k(Yn,Be,"ticks"),N("initializedTickCount"),k(N(),115,"")]),jn=g([O(329),k(d(),100,"whitelistMints")]),Dn=g([O(8),d("poolId"),k(k(s(),8),Ye,"positiveTickArrayBitmap"),k(k(s(),8),Ye,"negativeTickArrayBitmap")]),Jc=g([s(),N("bump"),d("owner"),d("poolId"),d("positionId"),d("nftAccount"),k(s(),8)]),Zn=g([O(8),N("bump"),d("lockOwner"),d("poolId"),d("positionId"),d("nftAccount"),d("lockNftMint"),s("recentEpoch"),k(s(),8)]);qt.span;var yu=L("Raydium_Clmm");var ri=L("Raydium_cpmm"),q={initialize:[175,175,109,31,13,152,155,237],deposit:[242,35,198,137,82,225,242,182],withdraw:[183,18,70,156,148,109,161,34],swapBaseInput:[143,190,90,218,196,30,51,222],swapBaseOutput:[55,217,98,86,163,74,180,173],lockCpLiquidity:[216,157,29,78,38,51,31,26],collectCpFee:[8,30,51,199,209,184,247,133],createPermissionPda:Buffer.from([135,136,2,216,137,169,181,202]),closePermissionPda:Buffer.from([156,84,32,118,69,135,70,123]),initializeWithPermission:Buffer.from([63,55,254,65,49,178,89,121]),collectCreatorFee:Buffer.from([20,22,86,123,198,28,219,132])};function oi(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C,B,w,K,M,V){let G=g([s("amountMaxA"),s("amountMaxB"),s("openTime")]),Ke=At(t,n,u,m).publicKey,Ce=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!c.equals(Ke),isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:R.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:dt,isSigner:!1,isWritable:!1},{pubkey:ke,isSigner:!1,isWritable:!1}],ie=Buffer.alloc(G.span);return G.encode({amountMaxA:K,amountMaxB:M,openTime:V},ie),new A.TransactionInstruction({keys:Ce,programId:t,data:Buffer.from([...q.initialize,...ie])})}function si(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C){let B=g([s("lpAmount"),s("amountMaxA"),s("amountMaxB")]),w=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:R.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!0}],K=Buffer.alloc(B.span);return ri.debug("cpmm deposit data",{lpAmount:h.toString(),amountMaxA:x.toString(),amountMaxB:C.toString()}),B.encode({lpAmount:h,amountMaxA:x,amountMaxB:C},K),new A.TransactionInstruction({keys:w,programId:t,data:Buffer.from([...q.deposit,...K])})}function ai(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C){let B=g([s("lpAmount"),s("amountMinA"),s("amountMinB")]),w=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:R.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Pe,isSigner:!1,isWritable:!1}],K=Buffer.alloc(B.span);return B.encode({lpAmount:h,amountMinA:x,amountMinB:C},K),new A.TransactionInstruction({keys:w,programId:t,data:Buffer.from([...q.withdraw,...K])})}function ci(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C,B){let w=g([s("amountIn"),s("amounOutMin")]),K=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0}],M=Buffer.alloc(w.span);return w.encode({amountIn:C,amounOutMin:B},M),new A.TransactionInstruction({keys:K,programId:t,data:Buffer.from([...q.swapBaseInput,...M])})}function ui(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C,B){let w=g([s("amountInMax"),s("amountOut")]),K=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0}],M=Buffer.alloc(w.span);return w.encode({amountInMax:C,amountOut:B},M),new A.TransactionInstruction({keys:K,programId:t,data:Buffer.from([...q.swapBaseOutput,...M])})}async function li(t){var w;let{ownerInfo:e,poolInfo:n,poolKeys:i,feeNftOwner:c,getEphemeralSigners:u}=t,m=[],[f,T]=[new A.PublicKey(n.id),new A.PublicKey(n.lpMint.address)],b;if(u)b=new A.PublicKey((await u(1))[0]);else{let K=A.Keypair.generate();m.push(K),b=K.publicKey}let{publicKey:I}=Q(c,b,R.TOKEN_PROGRAM_ID),{publicKey:S}=Xe(b),{publicKey:h}=Tt(t.lockProgram,b),{publicKey:x}=Q(e.wallet,T,R.TOKEN_PROGRAM_ID),{publicKey:C}=Q(t.lockAuthProgram,T,R.TOKEN_PROGRAM_ID),B=Gt({programId:t.lockProgram,auth:t.lockAuthProgram,payer:e.feePayer,liquidityOwner:e.wallet,nftOwner:c,nftMint:b,nftAccount:I,poolId:f,lockPda:h,mintLp:T,userLpVault:x,lockLpVault:C,poolVaultA:new A.PublicKey(i.vault.A),poolVaultB:new A.PublicKey(i.vault.B),metadataAccount:S,lpAmount:t.lpAmount,withMetadata:(w=t.withMetadata)!=null?w:!0});return{address:{nftMint:b,nftAccount:I,metadataAccount:S,lockPda:h,userLpVault:x,lockLpVault:C},instructions:[B],signers:m,instructionTypes:[Z.CpmmLockLp],lookupTableAddress:[]}}function Gt({programId:t,auth:e,payer:n,liquidityOwner:i,nftOwner:c,nftMint:u,nftAccount:m,poolId:f,lockPda:T,mintLp:b,userLpVault:I,lockLpVault:S,poolVaultA:h,poolVaultB:x,metadataAccount:C,lpAmount:B,withMetadata:w}){let K=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:R.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:j,isSigner:!1,isWritable:!1}],M=g([s("lpAmount"),me("withMetadata")]),V=Buffer.alloc(M.span);M.encode({lpAmount:B,withMetadata:w},V);let G=Buffer.from([...q.lockCpLiquidity,...V]);return new A.TransactionInstruction({keys:K,programId:t,data:G})}function mi({programId:t,nftOwner:e,auth:n,nftAccount:i,lockPda:c,poolId:u,mintLp:m,userVaultA:f,userVaultB:T,poolVaultA:b,poolVaultB:I,mintA:S,mintB:h,lockLpVault:x,lpFeeAmount:C,cpmmProgram:B,cpmmAuthProgram:w}){let K=[{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:B!=null?B:yt,isSigner:!1,isWritable:!1},{pubkey:w!=null?w:gt,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:R.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Pe,isSigner:!1,isWritable:!1}],M=g([s("lpFeeAmount")]),V=Buffer.alloc(M.span);M.encode({lpFeeAmount:C},V);let G=Buffer.from([...q.collectCpFee,...V]);return new A.TransactionInstruction({keys:K,programId:t,data:G})}function di(t,e,n,i,c,u,m,f,T,b,I,S,h){let x=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:R.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1}];return new A.TransactionInstruction({keys:x,programId:t,data:q.collectCreatorFee})}function pi(t,e,n,i,c,u,m,f,T,b,I,S,h,x,C,B,w,K,M,V,G,Ke,Ce){let ie=g([s("amountA"),s("amountB"),s("openTime"),N("feeOn")]),Ut=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:R.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:R.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:A.SystemProgram.programId,isSigner:!1,isWritable:!1}],Ze=Buffer.alloc(ie.span);return ie.encode({amountA:V,amountB:G,openTime:Ke,feeOn:Ce},Ze),new A.TransactionInstruction({keys:Ut,programId:t,data:Buffer.from([...q.initializeWithPermission,...Ze])})}0&&(module.exports={collectCpFeeInstruction,cpmmLockPositionInstruction,initializeWithPermission,makeCollectCreatorFeeInstruction,makeCpmmLockInstruction,makeCreateCpmmPoolInInstruction,makeDepositCpmmInInstruction,makeSwapCpmmBaseInInstruction,makeSwapCpmmBaseOutInstruction,makeWithdrawCpmmInInstruction});
//# sourceMappingURL=instruction.js.map