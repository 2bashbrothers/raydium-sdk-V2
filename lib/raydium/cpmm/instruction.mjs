var St=Object.defineProperty,Kt=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var Rt=Object.prototype.hasOwnProperty,Lt=Object.prototype.propertyIsEnumerable;var Xe=(n,e,t)=>e in n?St(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||(e={}))Rt.call(e,t)&&Xe(n,t,e[t]);if(Ue)for(var t of Ue(e))Lt.call(e,t)&&Xe(n,t,e[t]);return n},O=(n,e)=>Kt(n,Ct(e));import{PublicKey as ce,TransactionInstruction as V,Keypair as Fn,SystemProgram as ve}from"@solana/web3.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as ke,TOKEN_2022_PROGRAM_ID as qe,TOKEN_PROGRAM_ID as D}from"@solana/spl-token";import{PublicKey as Xn}from"@solana/web3.js";import{get as He,set as Nt}from"lodash";var Te=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},ze={},Mt={};function K(n){let e=He(ze,n);if(!e){let t=He(Mt,n);e=new Te({name:n,logLevel:t}),Nt(ze,n,e)}return e}import{MINT_SIZE as jn,TOKEN_PROGRAM_ID as Zn,getTransferFeeConfig as Qn,unpackMint as Jn}from"@solana/spl-token";var $n=K("Raydium_accountInfo_util");import E from"bn.js";import Nr from"decimal.js";import vt from"big.js";import gi from"bn.js";import Ot from"toformat";var Ft=Ot,$=Ft;import me from"big.js";import Et from"bn.js";import _t from"decimal.js-light";import ee from"bn.js";var je=9007199254740991;function F(n){let e=K("Raydium_parseBigNumberish");if(n instanceof ee)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new ee(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=je||n<=-je)&&e.logWithError(`BigNumberish number overflow: ${n}`),new ee(String(n))):typeof n=="bigint"?new ee(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new ee(0))}var le=K("module/fraction"),he=$(me),te=$(_t),Dt={[0]:te.ROUND_DOWN,[1]:te.ROUND_HALF_UP,[2]:te.ROUND_UP},Vt={[0]:me.roundDown,[1]:me.roundHalfUp,[2]:me.roundUp},f=class{constructor(e,t=new Et(1)){this.numerator=F(e),this.denominator=F(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new f(this.denominator,this.numerator)}add(e){let t=e instanceof f?e:new f(F(e));return this.denominator.eq(t.denominator)?new f(this.numerator.add(t.numerator),this.denominator):new f(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof f?e:new f(F(e));return this.denominator.eq(t.denominator)?new f(this.numerator.sub(t.numerator),this.denominator):new f(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof f?e:new f(F(e));return new f(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof f?e:new f(F(e));return new f(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||le.logWithError(`${e} is not an integer.`),e<=0&&le.logWithError(`${e} is not positive.`),te.set({precision:e+1,rounding:Dt[i]});let c=new te(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return c.toFormat(c.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||le.logWithError(`${e} is not an integer.`),e<0&&le.logWithError(`${e} is negative.`),he.DP=e,he.RM=Vt[i]||1,new he(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var Ii=K("Raydium_amount"),Si=$(vt);import{PublicKey as Gt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Ze}from"@solana/spl-token";var xe={chainId:101,address:Gt.default.toBase58(),programId:Ze.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},G={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Ze.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as Ie}from"@solana/web3.js";import{PublicKey as y,SystemProgram as Qe,SYSVAR_RENT_PUBKEY as Ut}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Xt}from"@solana/spl-token";function Be({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Fi=[Be({pubkey:Xt,isWritable:!1}),Be({pubkey:Qe.programId,isWritable:!1}),Be({pubkey:Ut,isWritable:!1})];function Je({publicKey:n,transformSol:e}){let t=$e(n.toString());if(t instanceof y)return e&&t.equals(ne)?ue:t;if(e&&t.toString()===ne.toBase58())return ue;if(typeof t=="string"){if(t===y.default.toBase58())return y.default;try{return new y(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function $e(n){try{return new y(n)}catch{return n}}var Ht=new y("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),de=new y("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),pe=new y("SysvarRent111111111111111111111111111111111"),Wi=new y("SysvarC1ock11111111111111111111111111111111"),H=new y("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ei=new y("Sysvar1nstructions1111111111111111111111111"),et=Qe.programId,_i=new y("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Di=new y("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Vi=new y("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),vi=new y("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),qi=new y("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Gi=new y("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Ui=new y("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Xi=new y("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Hi=new y("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),zi=new y("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Yi=new y("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),ue=new y("So11111111111111111111111111111111111111112"),ne=y.default;var Se=class{constructor({mint:e,decimals:t,symbol:i,name:c,skipMint:u=!1,isToken2022:l=!1}){if(e===ne.toBase58()||e instanceof Ie&&ne.equals(e)){this.decimals=G.decimals,this.symbol=G.symbol,this.name=G.name,this.mint=new Ie(G.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=c||e.toString().substring(0,6),this.mint=u?Ie.default:Je({publicKey:e}),this.isToken2022=l}equals(e){return this===e?!0:this.mint.equals(e.mint)}},U=Se;U.WSOL=new Se(O(M({},G),{mint:G.address}));var Ke=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}},fe=Ke;fe.SOL=new Ke(xe);import zt from"bn.js";var sr=new f(new zt(100));var dr=K("Raydium_price");var Yt=new E(0),vr=new E(1),qr=new E(2),Gr=new E(3),Ur=new E(5),qt=new E(10),Xr=new E(100),Hr=new E(1e3),zr=new E(1e4);import{PublicKey as Zt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Qt}from"@solana/spl-token";import{ComputeBudgetProgram as to,Keypair as ro,PublicKey as jt,Transaction as so,TransactionMessage as co,VersionedTransaction as uo}from"@solana/web3.js";var z={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as fo}from"@solana/spl-token";var bo=K("Raydium_txUtil");function X(n,e){let[t,i]=jt.findProgramAddressSync(n,e);return{publicKey:t,nonce:i}}function Y(n,e,t){return X([n.toBuffer(),(t!=null?t:Qt).toBuffer(),e.toBuffer()],new Zt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}import{PublicKey as r}from"@solana/web3.js";var To=new r("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),ho=new r("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),xo=new r("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Bo=new r("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Io=new r("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),So=new r("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Ko=new r("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Co=new r("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Ro=new r("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Lo=new r("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Jt=new r("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),$t=new r("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),en=new r("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),No=new r("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Mo=new r("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Oo=new r("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Fo=new r("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Wo=new r("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Eo=new r("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),_o=new r("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),tt=new r("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),nt=new r("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Do=new r("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Vo=new r("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),vo=new r("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),qo=new r("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),Go=new r("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Uo=new r("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Xo=new r("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Ho=new r("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),zo=new r("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Yo={OPEN_BOOK_PROGRAM:new r("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new r("Ray1111111111111111111111111111111111111111"),AMM_V4:new r("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new r("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new r("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new r("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new r("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new r("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new r("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new r("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new r("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new r("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:r.default,Router:new r("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new r("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new r("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new r("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new r("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new r("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new r("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new r("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new r("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new r("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new r("Ray1111111111111111111111111111111111111111")};import Qo from"bn.js";import{PublicKey as ts,AddressLookupTableAccount as ns}from"@solana/web3.js";import{PublicKey as Ps,sendAndConfirmTransaction as ks,SystemProgram as Ts,Transaction as hs,TransactionMessage as Bs,VersionedTransaction as Is}from"@solana/web3.js";import Ks from"axios";import{PublicKey as Ws}from"@solana/web3.js";import _s from"bn.js";import rn from"bn.js";var Gs=new rn(1e6);var ma=Buffer.from("vault_and_lp_mint_auth_seed","utf8"),da=Buffer.from("amm_config","utf8"),on=Buffer.from("pool","utf8"),pa=Buffer.from("pool_lp_mint","utf8"),fa=Buffer.from("pool_vault","utf8"),ba=Buffer.from("observation","utf8"),ya=Buffer.from("permission","utf8");function rt(n,e,t,i){return X([on,e.toBuffer(),t.toBuffer(),i.toBuffer()],n)}var sn=Buffer.from("locked_liquidity","utf8");function ot(n,e){return X([sn,e.toBuffer()],n)}import{PublicKey as bn}from"@solana/web3.js";import ut,{isBN as lt}from"bn.js";import{bits as ka,BitStructure as wa,blob as an,Blob as Aa,cstr as Ta,f32 as ha,f32be as xa,f64 as Ba,f64be as Ia,greedy as Sa,Layout as cn,ns64 as Ka,ns64be as Ca,nu64 as Ra,nu64be as La,offset as Na,s16 as Ma,s16be as Oa,s24 as Fa,s24be as Wa,s32 as un,s32be as Ea,s40 as _a,s40be as Da,s48 as Va,s48be as va,s8 as qa,seq as ln,struct as Ga,Structure as mn,u16 as dn,u16be as Ua,u24 as Xa,u24be as Ha,u32 as za,u32be as Ya,u40 as ja,u40be as Za,u48 as Qa,u48be as Ja,u8 as pn,UInt as fn,union as $a,Union as ec,unionLayoutDiscriminator as tc,utf8 as nc}from"@solana/buffer-layout";var Le=cn,st=mn;var Ne=fn;var at=pn,ie=dn;var _=un;var ct=ln;var L=an;var j=class extends Le{constructor(t,i,c){super(t,c);this.blob=L(t),this.signed=i}decode(t,i=0){let c=new ut(this.blob.decode(t,i),10,"le");return this.signed?c.fromTwos(this.span*8).clone():c}encode(t,i,c=0){return typeof t=="number"&&(t=new ut(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),i,c)}};function C(n){return new Ne(1,n)}function Z(n){return new Ne(4,n)}function o(n){return new j(8,!1,n)}function g(n){return new j(16,!1,n)}function mt(n){return new j(8,!0,n)}function dt(n){return new j(16,!0,n)}var ye=class extends Le{constructor(t,i,c,u){super(t.span,u);this.layout=t,this.decoder=i,this.encoder=c}decode(t,i){return this.decoder(this.layout.decode(t,i))}encode(t,i,c){return this.layout.encode(this.encoder(t),i,c)}getSpan(t,i){return this.layout.getSpan(t,i)}};function m(n){return new ye(L(32),e=>new bn(e),e=>e.toBuffer(),n)}function re(n){return new ye(at(),yn,gn,n)}function yn(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function gn(n){return n?1:0}var Me=class extends st{decode(e,t){return super.decode(e,t)}};function b(n,e,t){return new Me(n,e,t)}function P(n,e,t){let i,c=typeof e=="number"?e:lt(e)?e.toNumber():new Proxy(e,{get(u,l){if(!i){let d=Reflect.get(u,"count");i=lt(d)?d.toNumber():d,Reflect.set(u,"count",i)}return Reflect.get(u,l)},set(u,l,d){return l==="count"&&(i=d),Reflect.set(u,l,d)}});return ct(n,c,t)}import{PublicKey as Am}from"@solana/web3.js";import hm from"bn.js";import Bm from"decimal.js";import{AccountLayout as Km,createAssociatedTokenAccountIdempotentInstruction as Cm,TOKEN_2022_PROGRAM_ID as Rm,TOKEN_PROGRAM_ID as Lm}from"@solana/spl-token";import{PublicKey as gc}from"@solana/web3.js";import{MintLayout as kc,TOKEN_PROGRAM_ID as Ac}from"@solana/spl-token";import{Keypair as Ul,PublicKey as Xl,SystemProgram as zl,TransactionInstruction as Yl}from"@solana/web3.js";import Zl from"bn.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as $l,TOKEN_2022_PROGRAM_ID as em,TOKEN_PROGRAM_ID as tm}from"@solana/spl-token";import hl from"bn.js";import Bl from"decimal.js";import N from"bn.js";var Oe=new N(0),pt=new N(1),ft=new N(-1),ge=new N(1).shln(64),bt=new N(1).shln(128),Pn=ge.sub(pt);var kn=bt.subn(1),Q=-443636,oe=-Q,Fe=new N("4295048016"),We=new N("79226673521066979257578248091"),Fc=new N("4295048017"),Wc=new N("79226673521066979257578248090");var wn=new N(10).pow(new N(6));var Ec=new N("18446744073700000000");import cl from"bn.js";import ll from"decimal.js";var Uc=Buffer.from("amm_config","utf8"),Xc=Buffer.from("pool","utf8"),Hc=Buffer.from("pool_vault","utf8"),zc=Buffer.from("pool_reward_vault","utf8"),Yc=Buffer.from("position","utf8"),jc=Buffer.from("tick_array","utf8"),Zc=Buffer.from("operation","utf8"),Qc=Buffer.from("pool_tick_array_bitmap_extension","utf8"),Jc=Buffer.from("observation","utf8");function Ee(n){return X([Buffer.from("metadata","utf8"),H.toBuffer(),n.toBuffer()],H)}var $c=Buffer.from("locked_position","utf8");var eu=Buffer.from("support_mint","utf8");import{PublicKey as Ou}from"@solana/web3.js";import{TOKEN_2022_PROGRAM_ID as Wu}from"@solana/spl-token";import _u from"bn.js";import Vu from"decimal.js";import iu from"bn.js";import ou from"decimal.js";var Ve=14;var Pe=60;var Bn=b([L(8),C("bump"),ie("index"),m(""),Z("protocolFeeRate"),Z("tradeFeeRate"),ie("tickSpacing"),P(o(),8,"")]),In=b([Z("blockTimestamp"),mt("tickCumulative"),P(o(),4)]),Bt=b([L(8),re("initialized"),o("recentEpoch"),ie("observationIndex"),m("poolId"),P(In,100,"observations"),P(o(),4)]),Sn=b([C("rewardState"),o("openTime"),o("endTime"),o("lastUpdateTime"),g("emissionsPerSecondX64"),o("rewardTotalEmissioned"),o("rewardClaimed"),m("tokenMint"),m("tokenVault"),m("creator"),g("rewardGrowthGlobalX64")]),Tt=b([L(8),C("bump"),m("ammConfig"),m("creator"),m("mintA"),m("mintB"),m("vaultA"),m("vaultB"),m("observationId"),C("mintDecimalsA"),C("mintDecimalsB"),ie("tickSpacing"),g("liquidity"),g("sqrtPriceX64"),_("tickCurrent"),Z(),g("feeGrowthGlobalX64A"),g("feeGrowthGlobalX64B"),o("protocolFeesTokenA"),o("protocolFeesTokenB"),g("swapInAmountTokenA"),g("swapOutAmountTokenB"),g("swapInAmountTokenB"),g("swapOutAmountTokenA"),C("status"),P(C(),7,""),P(Sn,3,"rewardInfos"),P(o(),16,"tickArrayBitmap"),o("totalFeesTokenA"),o("totalFeesClaimedTokenA"),o("totalFeesTokenB"),o("totalFeesClaimedTokenB"),o("fundFeesTokenA"),o("fundFeesTokenB"),o("startTime"),P(o(),15*4-3,"padding")]),Kn=b([g("growthInsideLastX64"),o("rewardAmountOwed")]),ht=b([L(8),C("bump"),m("nftMint"),m("poolId"),_("tickLower"),_("tickUpper"),g("liquidity"),g("feeGrowthInsideLastX64A"),g("feeGrowthInsideLastX64B"),o("tokenFeesOwedA"),o("tokenFeesOwedB"),P(Kn,3,"rewardInfos"),P(o(),8,"")]),Ol=b([L(8),C("bump"),m("poolId"),_("tickLowerIndex"),_("tickUpperIndex"),g("liquidity"),g("feeGrowthInsideLastX64A"),g("feeGrowthInsideLastX64B"),o("tokenFeesOwedA"),o("tokenFeesOwedB"),P(g(),3,"rewardGrowthInside"),P(o(),8,"")]),Cn=b([_("tick"),dt("liquidityNet"),g("liquidityGross"),g("feeGrowthOutsideX64A"),g("feeGrowthOutsideX64B"),P(g(),3,"rewardGrowthsOutsideX64"),P(Z(),13,"")]),kt=b([L(8),m("poolId"),_("startTickIndex"),P(Cn,Pe,"ticks"),C("initializedTickCount"),P(C(),115,"")]),Rn=b([L(329),P(m(),100,"whitelistMints")]),xn=b([L(8),m("poolId"),P(P(o(),8),Ve,"positiveTickArrayBitmap"),P(P(o(),8),Ve,"negativeTickArrayBitmap")]),Fl=b([o(),C("bump"),m("owner"),m("poolId"),m("positionId"),m("nftAccount"),P(o(),8)]),Ln=b([L(8),C("bump"),m("lockOwner"),m("poolId"),m("positionId"),m("nftAccount"),m("lockNftMint"),o("recentEpoch"),P(o(),8)]);Bt.span;var lm=K("Raydium_Clmm");var Wn=K("Raydium_cpmm"),v={initialize:[175,175,109,31,13,152,155,237],deposit:[242,35,198,137,82,225,242,182],withdraw:[183,18,70,156,148,109,161,34],swapBaseInput:[143,190,90,218,196,30,51,222],swapBaseOutput:[55,217,98,86,163,74,180,173],lockCpLiquidity:[216,157,29,78,38,51,31,26],collectCpFee:[8,30,51,199,209,184,247,133],createPermissionPda:Buffer.from([135,136,2,216,137,169,181,202]),closePermissionPda:Buffer.from([156,84,32,118,69,135,70,123]),initializeWithPermission:Buffer.from([63,55,254,65,49,178,89,121]),collectCreatorFee:Buffer.from([20,22,86,123,198,28,219,132])};function Td(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S,h,k,I,R,W){let q=b([o("amountMaxA"),o("amountMaxB"),o("openTime")]),we=rt(n,t,u,l).publicKey,Ae=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!c.equals(we),isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:pe,isSigner:!1,isWritable:!1}],J=Buffer.alloc(q.span);return q.encode({amountMaxA:I,amountMaxB:R,openTime:W},J),new V({keys:Ae,programId:n,data:Buffer.from([...v.initialize,...J])})}function hd(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S){let h=b([o("lpAmount"),o("amountMaxA"),o("amountMaxB")]),k=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0}],I=Buffer.alloc(h.span);return Wn.debug("cpmm deposit data",{lpAmount:A.toString(),amountMaxA:T.toString(),amountMaxB:S.toString()}),h.encode({lpAmount:A,amountMaxA:T,amountMaxB:S},I),new V({keys:k,programId:n,data:Buffer.from([...v.deposit,...I])})}function xd(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S){let h=b([o("lpAmount"),o("amountMinA"),o("amountMinB")]),k=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:de,isSigner:!1,isWritable:!1}],I=Buffer.alloc(h.span);return h.encode({lpAmount:A,amountMinA:T,amountMinB:S},I),new V({keys:k,programId:n,data:Buffer.from([...v.withdraw,...I])})}function Bd(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S,h){let k=b([o("amountIn"),o("amounOutMin")]),I=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0}],R=Buffer.alloc(k.span);return k.encode({amountIn:S,amounOutMin:h},R),new V({keys:I,programId:n,data:Buffer.from([...v.swapBaseInput,...R])})}function Id(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S,h){let k=b([o("amountInMax"),o("amountOut")]),I=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0}],R=Buffer.alloc(k.span);return k.encode({amountInMax:S,amountOut:h},R),new V({keys:I,programId:n,data:Buffer.from([...v.swapBaseOutput,...R])})}async function Sd(n){var k;let{ownerInfo:e,poolInfo:t,poolKeys:i,feeNftOwner:c,getEphemeralSigners:u}=n,l=[],[d,w]=[new ce(t.id),new ce(t.lpMint.address)],p;if(u)p=new ce((await u(1))[0]);else{let I=Fn.generate();l.push(I),p=I.publicKey}let{publicKey:x}=Y(c,p,D),{publicKey:B}=Ee(p),{publicKey:A}=ot(n.lockProgram,p),{publicKey:T}=Y(e.wallet,w,D),{publicKey:S}=Y(n.lockAuthProgram,w,D),h=En({programId:n.lockProgram,auth:n.lockAuthProgram,payer:e.feePayer,liquidityOwner:e.wallet,nftOwner:c,nftMint:p,nftAccount:x,poolId:d,lockPda:A,mintLp:w,userLpVault:T,lockLpVault:S,poolVaultA:new ce(i.vault.A),poolVaultB:new ce(i.vault.B),metadataAccount:B,lpAmount:n.lpAmount,withMetadata:(k=n.withMetadata)!=null?k:!0});return{address:{nftMint:p,nftAccount:x,metadataAccount:B,lockPda:A,userLpVault:T,lockLpVault:S},instructions:[h],signers:l,instructionTypes:[z.CpmmLockLp],lookupTableAddress:[]}}function En({programId:n,auth:e,payer:t,liquidityOwner:i,nftOwner:c,nftMint:u,nftAccount:l,poolId:d,lockPda:w,mintLp:p,userLpVault:x,lockLpVault:B,poolVaultA:A,poolVaultB:T,metadataAccount:S,lpAmount:h,withMetadata:k}){let I=[{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!0,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:ve.programId,isSigner:!1,isWritable:!1},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:H,isSigner:!1,isWritable:!1}],R=b([o("lpAmount"),re("withMetadata")]),W=Buffer.alloc(R.span);R.encode({lpAmount:h,withMetadata:k},W);let q=Buffer.from([...v.lockCpLiquidity,...W]);return new V({keys:I,programId:n,data:q})}function Kd({programId:n,nftOwner:e,auth:t,nftAccount:i,lockPda:c,poolId:u,mintLp:l,userVaultA:d,userVaultB:w,poolVaultA:p,poolVaultB:x,mintA:B,mintB:A,lockLpVault:T,lpFeeAmount:S,cpmmProgram:h,cpmmAuthProgram:k}){let I=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:h!=null?h:tt,isSigner:!1,isWritable:!1},{pubkey:k!=null?k:nt,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:qe,isSigner:!1,isWritable:!1},{pubkey:de,isSigner:!1,isWritable:!1}],R=b([o("lpFeeAmount")]),W=Buffer.alloc(R.span);R.encode({lpFeeAmount:S},W);let q=Buffer.from([...v.collectCpFee,...W]);return new V({keys:I,programId:n,data:q})}function Cd(n,e,t,i,c,u,l,d,w,p,x,B,A){let T=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:ve.programId,isSigner:!1,isWritable:!1}];return new V({keys:T,programId:n,data:v.collectCreatorFee})}function Rd(n,e,t,i,c,u,l,d,w,p,x,B,A,T,S,h,k,I,R,W,q,we,Ae){let J=b([o("amountA"),o("amountB"),o("openTime"),C("feeOn")]),It=[{pubkey:e,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:I,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:ve.programId,isSigner:!1,isWritable:!1}],Ge=Buffer.alloc(J.span);return J.encode({amountA:W,amountB:q,openTime:we,feeOn:Ae},Ge),new V({keys:It,programId:n,data:Buffer.from([...v.initializeWithPermission,...Ge])})}export{Kd as collectCpFeeInstruction,En as cpmmLockPositionInstruction,Rd as initializeWithPermission,Cd as makeCollectCreatorFeeInstruction,Sd as makeCpmmLockInstruction,Td as makeCreateCpmmPoolInInstruction,hd as makeDepositCpmmInInstruction,Bd as makeSwapCpmmBaseInInstruction,Id as makeSwapCpmmBaseOutInstruction,xd as makeWithdrawCpmmInInstruction};
//# sourceMappingURL=instruction.mjs.map