var Fe=Object.defineProperty,Ke=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var me=(n,e,t)=>e in n?Fe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||(e={}))Ve.call(e,t)&&me(n,t,e[t]);if(le)for(var t of le(e))ve.call(e,t)&&me(n,t,e[t]);return n},k=(n,e)=>Ke(n,Oe(e));import{PublicKey as He}from"@solana/web3.js";import fe,{isBN as Rn}from"bn.js";import{bits as Rt,BitStructure as _t,blob as We,Blob as Nt,cstr as Dt,f32 as Mt,f32be as Et,f64 as Ft,f64be as Kt,greedy as Ot,Layout as Ue,ns64 as Vt,ns64be as vt,nu64 as Wt,nu64be as Ut,offset as qt,s16 as Gt,s16be as Ht,s24 as jt,s24be as zt,s32 as Yt,s32be as Jt,s40 as Xt,s40be as Zt,s48 as Qt,s48be as $t,s8 as en,seq as tn,struct as nn,Structure as qe,u16 as rn,u16be as on,u24 as sn,u24be as an,u32 as cn,u32be as un,u40 as ln,u40be as mn,u48 as pn,u48be as fn,u8 as dn,UInt as Ge,union as gn,Union as hn,unionLayoutDiscriminator as yn,utf8 as bn}from"@solana/buffer-layout";var j=Ue,pe=qe;var z=Ge;var Y=We;var J=class extends j{constructor(t,r,o){super(t,o);this.blob=Y(t),this.signed=r}decode(t,r=0){let o=new fe(this.blob.decode(t,r),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,r,o=0){return typeof t=="number"&&(t=new fe(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),r,o)}};function de(n){return new z(1,n)}function K(n){return new z(4,n)}function O(n){return new J(8,!1,n)}var X=class extends j{constructor(t,r,o,u){super(t.span,u);this.layout=t,this.decoder=r,this.encoder=o}decode(t,r){return this.decoder(this.layout.decode(t,r))}encode(t,r,o){return this.layout.encode(this.encoder(t),r,o)}getSpan(t,r){return this.layout.getSpan(t,r)}};function _(n){return new X(Y(32),e=>new He(e),e=>e.toBuffer(),n)}var Z=class extends pe{decode(e,t){return super.decode(e,t)}};function ge(n,e,t){return new Z(n,e,t)}var N=ge([_("mint"),_("owner"),O("amount"),K("delegateOption"),_("delegate"),de("state"),K("isNativeOption"),O("isNative"),O("delegatedAmount"),K("closeAuthorityOption"),_("closeAuthority")]);import{Keypair as ht,PublicKey as Me}from"@solana/web3.js";import yt from"bn.js";import{PublicKey as Un}from"@solana/web3.js";import{get as he,set as je}from"lodash";var Q=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},ye={},ze={};function h(n){let e=he(ye,n);if(!e){let t=he(ze,n);e=new Q({name:n,logLevel:t}),je(ye,n,e)}return e}import{MINT_SIZE as jn,TOKEN_PROGRAM_ID as zn,getTransferFeeConfig as Yn,unpackMint as Jn}from"@solana/spl-token";var Xn=h("Raydium_accountInfo_util");import T from"bn.js";import Fo from"decimal.js";import tt from"big.js";import gr from"bn.js";import Ye from"toformat";var Je=Ye,D=Je;import v from"big.js";import Ze from"bn.js";import Qe from"decimal.js-light";import M from"bn.js";var be=9007199254740991;function y(n){let e=h("Raydium_parseBigNumberish");if(n instanceof M)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new M(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=be||n<=-be)&&e.logWithError(`BigNumberish number overflow: ${n}`),new M(String(n))):typeof n=="bigint"?new M(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new M(0))}var V=h("module/fraction"),ee=D(v),E=D(Qe),$e={[0]:E.ROUND_DOWN,[1]:E.ROUND_HALF_UP,[2]:E.ROUND_UP},et={[0]:v.roundDown,[1]:v.roundHalfUp,[2]:v.roundUp},p=class{constructor(e,t=new Ze(1)){this.numerator=y(e),this.denominator=y(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new p(this.denominator,this.numerator)}add(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.add(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.sub(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||V.logWithError(`${e} is not an integer.`),e<=0&&V.logWithError(`${e} is not positive.`),E.set({precision:e+1,rounding:$e[r]});let o=new E(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||V.logWithError(`${e} is not an integer.`),e<0&&V.logWithError(`${e} is negative.`),ee.DP=e,ee.RM=et[r]||1,new ee(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var Sr=h("Raydium_amount"),Br=D(tt);import{PublicKey as rt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as xe}from"@solana/spl-token";var Te={chainId:101,address:rt.default.toBase58(),programId:xe.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},x={chainId:101,address:"So11111111111111111111111111111111111111112",programId:xe.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as ne}from"@solana/web3.js";import{PublicKey as f,SystemProgram as we,SYSVAR_RENT_PUBKEY as ot}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as it}from"@solana/spl-token";function te({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Dr=[te({pubkey:it,isWritable:!1}),te({pubkey:we.programId,isWritable:!1}),te({pubkey:ot,isWritable:!1})];function Pe({publicKey:n,transformSol:e}){let t=Ae(n.toString());if(t instanceof f)return e&&t.equals(F)?$:t;if(e&&t.toString()===F.toBase58())return $;if(typeof t=="string"){if(t===f.default.toBase58())return f.default;try{return new f(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Ae(n){try{return new f(n)}catch{return n}}var Mr=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Er=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Fr=new f("SysvarRent111111111111111111111111111111111"),Kr=new f("SysvarC1ock11111111111111111111111111111111"),Or=new f("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Vr=new f("Sysvar1nstructions1111111111111111111111111"),vr=we.programId,Wr=new f("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Ur=new f("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),qr=new f("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Gr=new f("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Hr=new f("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),jr=new f("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),zr=new f("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Yr=new f("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Jr=new f("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Xr=new f("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Zr=new f("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),$=new f("So11111111111111111111111111111111111111112"),F=f.default;var re=class{constructor({mint:e,decimals:t,symbol:r,name:o,skipMint:u=!1,isToken2022:s=!1}){if(e===F.toBase58()||e instanceof ne&&F.equals(e)){this.decimals=x.decimals,this.symbol=x.symbol,this.name=x.name,this.mint=new ne(x.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=o||e.toString().substring(0,6),this.mint=u?ne.default:Pe({publicKey:e}),this.isToken2022=s}equals(e){return this===e?!0:this.mint.equals(e.mint)}},L=re;L.WSOL=new re(k(S({},x),{mint:x.address}));var oe=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}},W=oe;W.SOL=new oe(Te);import st from"bn.js";var uo=new p(new st(100));var ho=h("Raydium_price");var at=new T(0),Ho=new T(1),jo=new T(2),zo=new T(3),Yo=new T(5),nt=new T(10),Jo=new T(100),Xo=new T(1e3),Zo=new T(1e4);import{PublicKey as ut}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as lt}from"@solana/spl-token";import{ComputeBudgetProgram as ii,Keypair as ci,PublicKey as ct,Transaction as li,TransactionMessage as pi,VersionedTransaction as fi}from"@solana/web3.js";var I={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as yi}from"@solana/spl-token";var bi=h("Raydium_txUtil");function Le(n,e){let[t,r]=ct.findProgramAddressSync(n,e);return{publicKey:t,nonce:r}}function Ie(n,e,t){return Le([n.toBuffer(),(t!=null?t:lt).toBuffer(),e.toBuffer()],new ut("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}import{PublicKey as i}from"@solana/web3.js";var Bi=new i("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),ki=new i("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Li=new i("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Ii=new i("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Ci=new i("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Ri=new i("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),_i=new i("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Ni=new i("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Di=new i("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Mi=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Ei=new i("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Fi=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ki=new i("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Oi=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Vi=new i("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),vi=new i("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Wi=new i("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Ui=new i("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),qi=new i("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Gi=new i("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Hi=new i("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),ji=new i("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),zi=new i("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Yi=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ji=new i("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Xi=new i("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),Zi=new i("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Qi=new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),$i=new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),es=new i("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),ts=new i("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var ns={OPEN_BOOK_PROGRAM:new i("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new i("Ray1111111111111111111111111111111111111111"),AMM_V4:new i("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new i("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new i("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new i("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new i("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new i("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new i("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new i("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:i.default,Router:new i("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new i("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new i("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new i("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new i("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new i("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new i("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new i("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new i("Ray1111111111111111111111111111111111111111")};import is from"bn.js";import{PublicKey as ls,AddressLookupTableAccount as ms}from"@solana/web3.js";import{PublicKey as Cs,sendAndConfirmTransaction as Rs,SystemProgram as Ds,Transaction as Ms,TransactionMessage as Fs,VersionedTransaction as Ks}from"@solana/web3.js";import Vs from"axios";import{PublicKey as zs}from"@solana/web3.js";import Js from"bn.js";import mt from"bn.js";var ea=new mt(1e6);import{TOKEN_PROGRAM_ID as bt}from"@solana/spl-token";function pt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function ie(n,...e){if(!pt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function se(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ce(n,e){ie(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var q=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),b=(n,e)=>n<<32-e|n>>>e;var Aa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ft(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ae(n){return typeof n=="string"&&(n=ft(n)),ie(n),n}var U=class{clone(){return this._cloneInto()}},Sa={}.toString;function Re(n){let e=r=>n().update(ae(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function dt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let o=BigInt(32),u=BigInt(4294967295),s=Number(t>>o&u),l=Number(t&u),d=r?4:0,g=r?0:4;n.setUint32(e+d,s,r),n.setUint32(e+g,l,r)}var _e=(n,e,t)=>n&e^~n&t,Ne=(n,e,t)=>n&e^n&t^e&t,G=class extends U{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=q(this.buffer)}update(e){se(this);let{view:t,buffer:r,blockLen:o}=this;e=ae(e);let u=e.length;for(let s=0;s<u;){let l=Math.min(o-this.pos,u-s);if(l===o){let d=q(e);for(;o<=u-s;s+=o)this.process(d,s);continue}r.set(e.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){se(this),Ce(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:u}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let m=s;m<o;m++)t[m]=0;dt(r,o-8,BigInt(this.length*8),u),this.process(r,0);let l=q(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let g=d/4,w=this.get();if(g>w.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<g;m++)l.setUint32(4*m,w[m],u)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:o,finished:u,destroyed:s,pos:l}=this;return e.length=o,e.pos=l,e.finished=u,e.destroyed=s,o%t&&e.buffer.set(r),e}};var gt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64),ce=class extends G{constructor(){super(64,32,8,!1),this.A=P[0]|0,this.B=P[1]|0,this.C=P[2]|0,this.D=P[3]|0,this.E=P[4]|0,this.F=P[5]|0,this.G=P[6]|0,this.H=P[7]|0}get(){let{A:e,B:t,C:r,D:o,E:u,F:s,G:l,H:d}=this;return[e,t,r,o,u,s,l,d]}set(e,t,r,o,u,s,l,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=u|0,this.F=s|0,this.G=l|0,this.H=d|0}process(e,t){for(let m=0;m<16;m++,t+=4)A[m]=e.getUint32(t,!1);for(let m=16;m<64;m++){let R=A[m-15],B=A[m-2],ue=b(R,7)^b(R,18)^R>>>3,H=b(B,17)^b(B,19)^B>>>10;A[m]=H+A[m-7]+ue+A[m-16]|0}let{A:r,B:o,C:u,D:s,E:l,F:d,G:g,H:w}=this;for(let m=0;m<64;m++){let R=b(l,6)^b(l,11)^b(l,25),B=w+R+_e(l,d,g)+gt[m]+A[m]|0,H=(b(r,2)^b(r,13)^b(r,22))+Ne(r,o,u)|0;w=g,g=d,d=l,l=s+B|0,s=u,u=o,o=r,r=B+H|0}r=r+this.A|0,o=o+this.B|0,u=u+this.C|0,s=s+this.D|0,l=l+this.E|0,d=d+this.F|0,g=g+this.G|0,w=w+this.H|0,this.set(r,o,u,s,l,d,g,w)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var De=Re(()=>new ce);var Wa=h("Raydium_Util");function Ua({owner:n,solAccountResp:e,tokenAccountResp:t}){let r=[],o=[];for(let{pubkey:u,account:s}of t.value){let l=N.decode(s.data),{mint:d,amount:g}=l;r.push({publicKey:u,mint:d,amount:g,isAssociated:Ie(n,d,s.owner).publicKey.equals(u),isNative:!1,programId:s.owner}),o.push({pubkey:u,accountInfo:l,programId:s.owner})}return e&&r.push({mint:Me.default,amount:new yt(String(e.lamports)),isNative:!0,programId:e.owner}),{tokenAccounts:r,tokenAccountRawInfos:o}}function Ee({fromPublicKey:n,programId:e=bt,assignSeed:t}){let r=t?btoa(t).slice(0,32):ht.generate().publicKey.toBase58().slice(0,32);return{publicKey:xt(n,r,e),seed:r}}function xt(n,e,t){let r=Buffer.concat([n.toBuffer(),Buffer.from(e),t.toBuffer()]),o=De(r);return new Me(o)}import{PublicKey as Tt,SystemProgram as wt}from"@solana/web3.js";import Pt from"bn.js";import{createCloseAccountInstruction as At,createInitializeAccountInstruction as St,createTransferInstruction as Bt,TOKEN_PROGRAM_ID as C}from"@solana/spl-token";function kt(n){let{mint:e,tokenAccount:t,owner:r,programId:o=C}=n;return St(t,e,r,o)}function Lt(n){let{tokenAccount:e,payer:t,multiSigners:r=[],owner:o,programId:u=C}=n;return At(e,t,o,r,u)}async function rc(n){let{connection:e,amount:t,commitment:r,payer:o,owner:u,skipCloseAccount:s}=n,l=await e.getMinimumBalanceForRentExemption(N.span,r),d=y(t).add(new Pt(l)),g=Ee({fromPublicKey:o,programId:C});return{addresses:{newAccount:g.publicKey},signers:[],instructions:[wt.createAccountWithSeed({fromPubkey:o,basePubkey:o,seed:g.seed,newAccountPubkey:g.publicKey,lamports:d.toNumber(),space:N.span,programId:C}),kt({mint:new Tt(x.address),tokenAccount:g.publicKey,owner:u,programId:C})],instructionTypes:[I.CreateAccount,I.InitAccount],endInstructionTypes:s?[]:[I.CloseAccount],endInstructions:s?[]:[Lt({tokenAccount:g.publicKey,payer:o,owner:u})]}}function oc({source:n,destination:e,owner:t,amount:r,multiSigners:o=[],tokenProgram:u=C}){return Bt(n,e,t,BigInt(String(r)),o,u)}export{Lt as closeAccountInstruction,rc as createWSolAccountInstructions,Ee as generatePubKey,kt as initTokenAccountInstruction,oc as makeTransferInstruction,Ua as parseTokenAccountResp,N as splAccountLayout};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=index.mjs.map