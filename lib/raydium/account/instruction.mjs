var _e=Object.defineProperty,Ee=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var me=(n,e,t)=>e in n?_e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||(e={}))Oe.call(e,t)&&me(n,t,e[t]);if(le)for(var t of le(e))Ke.call(e,t)&&me(n,t,e[t]);return n},L=(n,e)=>Ee(n,Fe(e));import{PublicKey as yt,SystemProgram as bt}from"@solana/web3.js";import xt from"bn.js";import{PublicKey as Nt}from"@solana/web3.js";import{get as pe,set as Ve}from"lodash";var j=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},fe={},Ue={};function h(n){let e=pe(fe,n);if(!e){let t=pe(Ue,n);e=new j({name:n,logLevel:t}),Ve(fe,n,e)}return e}import{MINT_SIZE as Ft,TOKEN_PROGRAM_ID as Ot,getTransferFeeConfig as Kt,unpackMint as Vt}from"@solana/spl-token";var Ut=h("Raydium_accountInfo_util");import T from"bn.js";import _r from"decimal.js";import Ze from"big.js";import sn from"bn.js";import We from"toformat";var ve=We,D=ve;import O from"big.js";import Ge from"bn.js";import He from"decimal.js-light";import N from"bn.js";var de=9007199254740991;function y(n){let e=h("Raydium_parseBigNumberish");if(n instanceof N)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new N(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=de||n<=-de)&&e.logWithError(`BigNumberish number overflow: ${n}`),new N(String(n))):typeof n=="bigint"?new N(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new N(0))}var F=h("module/fraction"),Z=D(O),M=D(He),je={[0]:M.ROUND_DOWN,[1]:M.ROUND_HALF_UP,[2]:M.ROUND_UP},ze={[0]:O.roundDown,[1]:O.roundHalfUp,[2]:O.roundUp},p=class{constructor(e,t=new Ge(1)){this.numerator=y(e),this.denominator=y(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new p(this.denominator,this.numerator)}add(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.add(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.sub(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||F.logWithError(`${e} is not an integer.`),e<=0&&F.logWithError(`${e} is not positive.`),M.set({precision:e+1,rounding:je[r]});let o=new M(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||F.logWithError(`${e} is not an integer.`),e<0&&F.logWithError(`${e} is negative.`),Z.DP=e,Z.RM=ze[r]||1,new Z(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var gn=h("Raydium_amount"),hn=D(Ze);import{PublicKey as Je}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ge}from"@solana/spl-token";var he={chainId:101,address:Je.default.toBase58(),programId:ge.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},x={chainId:101,address:"So11111111111111111111111111111111111111112",programId:ge.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as J}from"@solana/web3.js";import{PublicKey as f,SystemProgram as ye,SYSVAR_RENT_PUBKEY as Ye}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Qe}from"@solana/spl-token";function X({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Sn=[X({pubkey:Qe,isWritable:!1}),X({pubkey:ye.programId,isWritable:!1}),X({pubkey:Ye,isWritable:!1})];function be({publicKey:n,transformSol:e}){let t=xe(n.toString());if(t instanceof f)return e&&t.equals(_)?z:t;if(e&&t.toString()===_.toBase58())return z;if(typeof t=="string"){if(t===f.default.toBase58())return f.default;try{return new f(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function xe(n){try{return new f(n)}catch{return n}}var Bn=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Ln=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),kn=new f("SysvarRent111111111111111111111111111111111"),Cn=new f("SysvarC1ock11111111111111111111111111111111"),In=new f("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Rn=new f("Sysvar1nstructions1111111111111111111111111"),Dn=ye.programId,Nn=new f("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Mn=new f("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),_n=new f("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),En=new f("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Fn=new f("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),On=new f("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Kn=new f("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Vn=new f("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Un=new f("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Wn=new f("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),vn=new f("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),z=new f("So11111111111111111111111111111111111111112"),_=f.default;var Y=class{constructor({mint:e,decimals:t,symbol:r,name:o,skipMint:u=!1,isToken2022:c=!1}){if(e===_.toBase58()||e instanceof J&&_.equals(e)){this.decimals=x.decimals,this.symbol=x.symbol,this.name=x.name,this.mint=new J(x.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=o||e.toString().substring(0,6),this.mint=u?J.default:be({publicKey:e}),this.isToken2022=c}equals(e){return this===e?!0:this.mint.equals(e.mint)}},k=Y;k.WSOL=new Y(L(S({},x),{mint:x.address}));var Q=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}},K=Q;K.SOL=new Q(he);import $e from"bn.js";var er=new p(new $e(100));var sr=h("Raydium_price");import{PublicKey as Ar}from"@solana/web3.js";import Br from"bn.js";var et=new T(0),Gr=new T(1),Hr=new T(2),jr=new T(3),zr=new T(5),Xe=new T(10),Zr=new T(100),Xr=new T(1e3),Jr=new T(1e4);import{PublicKey as Ao}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Bo}from"@solana/spl-token";import{ComputeBudgetProgram as oo,Keypair as ao,PublicKey as uo,Transaction as lo,TransactionMessage as po,VersionedTransaction as fo}from"@solana/web3.js";var C={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as bo}from"@solana/spl-token";var xo=h("Raydium_txUtil");import{PublicKey as i}from"@solana/web3.js";var Io=new i("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Ro=new i("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Do=new i("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),No=new i("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Mo=new i("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),_o=new i("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Eo=new i("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Fo=new i("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Oo=new i("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Ko=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Vo=new i("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Uo=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Wo=new i("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),vo=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),qo=new i("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Go=new i("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Ho=new i("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),jo=new i("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),zo=new i("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Zo=new i("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Xo=new i("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Jo=new i("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Yo=new i("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Qo=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),$o=new i("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),ei=new i("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),ti=new i("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),ni=new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),ri=new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),oi=new i("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),ii=new i("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var si={OPEN_BOOK_PROGRAM:new i("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new i("Ray1111111111111111111111111111111111111111"),AMM_V4:new i("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new i("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new i("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new i("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new i("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new i("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new i("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new i("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:i.default,Router:new i("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new i("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new i("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new i("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new i("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new i("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new i("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new i("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new i("Ray1111111111111111111111111111111111111111")};import ci from"bn.js";import{PublicKey as tt,AddressLookupTableAccount as Ae}from"@solana/web3.js";var nt={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new Ae({key:new tt("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:Ae.deserialize(Buffer.from("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","base64"))})};import{PublicKey as Ii,sendAndConfirmTransaction as Ri,SystemProgram as Mi,Transaction as _i,TransactionMessage as Fi,VersionedTransaction as Oi}from"@solana/web3.js";import Vi from"axios";import rt from"bn.js";var ji=new rt(1e6);import{createCloseAccountInstruction as Tt,createInitializeAccountInstruction as wt,createTransferInstruction as Pt,TOKEN_PROGRAM_ID as I}from"@solana/spl-token";import{Keypair as ft,PublicKey as dt}from"@solana/web3.js";import Fa from"bn.js";import{TOKEN_PROGRAM_ID as gt}from"@solana/spl-token";function ot(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function $(n,...e){if(!ot(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function ee(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Se(n,e){$(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var U=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),b=(n,e)=>n<<32-e|n>>>e;var gs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function it(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function te(n){return typeof n=="string"&&(n=it(n)),$(n),n}var V=class{clone(){return this._cloneInto()}},hs={}.toString;function Be(n){let e=r=>n().update(te(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function st(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let o=BigInt(32),u=BigInt(4294967295),c=Number(t>>o&u),l=Number(t&u),d=r?4:0,g=r?0:4;n.setUint32(e+d,c,r),n.setUint32(e+g,l,r)}var Le=(n,e,t)=>n&e^~n&t,ke=(n,e,t)=>n&e^n&t^e&t,W=class extends V{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=U(this.buffer)}update(e){ee(this);let{view:t,buffer:r,blockLen:o}=this;e=te(e);let u=e.length;for(let c=0;c<u;){let l=Math.min(o-this.pos,u-c);if(l===o){let d=U(e);for(;o<=u-c;c+=o)this.process(d,c);continue}r.set(e.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ee(this),Se(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:u}=this,{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(r,0),c=0);for(let m=c;m<o;m++)t[m]=0;st(r,o-8,BigInt(this.length*8),u),this.process(r,0);let l=U(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let g=d/4,w=this.get();if(g>w.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<g;m++)l.setUint32(4*m,w[m],u)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:o,finished:u,destroyed:c,pos:l}=this;return e.length=o,e.pos=l,e.finished=u,e.destroyed=c,o%t&&e.buffer.set(r),e}};var at=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64),ne=class extends W{constructor(){super(64,32,8,!1),this.A=P[0]|0,this.B=P[1]|0,this.C=P[2]|0,this.D=P[3]|0,this.E=P[4]|0,this.F=P[5]|0,this.G=P[6]|0,this.H=P[7]|0}get(){let{A:e,B:t,C:r,D:o,E:u,F:c,G:l,H:d}=this;return[e,t,r,o,u,c,l,d]}set(e,t,r,o,u,c,l,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=u|0,this.F=c|0,this.G=l|0,this.H=d|0}process(e,t){for(let m=0;m<16;m++,t+=4)A[m]=e.getUint32(t,!1);for(let m=16;m<64;m++){let R=A[m-15],B=A[m-2],ce=b(R,7)^b(R,18)^R>>>3,H=b(B,17)^b(B,19)^B>>>10;A[m]=H+A[m-7]+ce+A[m-16]|0}let{A:r,B:o,C:u,D:c,E:l,F:d,G:g,H:w}=this;for(let m=0;m<64;m++){let R=b(l,6)^b(l,11)^b(l,25),B=w+R+Le(l,d,g)+at[m]+A[m]|0,H=(b(r,2)^b(r,13)^b(r,22))+ke(r,o,u)|0;w=g,g=d,d=l,l=c+B|0,c=u,u=o,o=r,r=B+H|0}r=r+this.A|0,o=o+this.B|0,u=u+this.C|0,c=c+this.D|0,l=l+this.E|0,d=d+this.F|0,g=g+this.G|0,w=w+this.H|0,this.set(r,o,u,c,l,d,g,w)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Ce=Be(()=>new ne);import{PublicKey as pt}from"@solana/web3.js";import Re,{isBN as Sa}from"bn.js";import{bits as Bs,BitStructure as Ls,blob as ut,Blob as ks,cstr as Cs,f32 as Is,f32be as Rs,f64 as Ds,f64be as Ns,greedy as Ms,Layout as ct,ns64 as _s,ns64be as Es,nu64 as Fs,nu64be as Os,offset as Ks,s16 as Vs,s16be as Us,s24 as Ws,s24be as vs,s32 as qs,s32be as Gs,s40 as Hs,s40be as js,s48 as zs,s48be as Zs,s8 as Xs,seq as Js,struct as Ys,Structure as lt,u16 as Qs,u16be as $s,u24 as ea,u24be as ta,u32 as na,u32be as ra,u40 as oa,u40be as ia,u48 as sa,u48be as aa,u8 as ua,UInt as mt,union as ca,Union as la,unionLayoutDiscriminator as ma,utf8 as pa}from"@solana/buffer-layout";var re=ct,Ie=lt;var oe=mt;var ie=ut;var se=class extends re{constructor(t,r,o){super(t,o);this.blob=ie(t),this.signed=r}decode(t,r=0){let o=new Re(this.blob.decode(t,r),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,r,o=0){return typeof t=="number"&&(t=new Re(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),r,o)}};function De(n){return new oe(1,n)}function v(n){return new oe(4,n)}function q(n){return new se(8,!1,n)}var ae=class extends re{constructor(t,r,o,u){super(t.span,u);this.layout=t,this.decoder=r,this.encoder=o}decode(t,r){return this.decoder(this.layout.decode(t,r))}encode(t,r,o){return this.layout.encode(this.encoder(t),r,o)}getSpan(t,r){return this.layout.getSpan(t,r)}};function E(n){return new ae(ie(32),e=>new pt(e),e=>e.toBuffer(),n)}var ue=class extends Ie{decode(e,t){return super.decode(e,t)}};function Ne(n,e,t){return new ue(n,e,t)}var G=Ne([E("mint"),E("owner"),q("amount"),v("delegateOption"),E("delegate"),De("state"),v("isNativeOption"),q("isNative"),q("delegatedAmount"),v("closeAuthorityOption"),E("closeAuthority")]);var Wa=h("Raydium_Util");function Me({fromPublicKey:n,programId:e=gt,assignSeed:t}){let r=t?btoa(t).slice(0,32):ft.generate().publicKey.toBase58().slice(0,32);return{publicKey:ht(n,r,e),seed:r}}function ht(n,e,t){let r=Buffer.concat([n.toBuffer(),Buffer.from(e),t.toBuffer()]),o=Ce(r);return new dt(o)}function At(n){let{mint:e,tokenAccount:t,owner:r,programId:o=I}=n;return wt(t,e,r,o)}function St(n){let{tokenAccount:e,payer:t,multiSigners:r=[],owner:o,programId:u=I}=n;return Tt(e,t,o,r,u)}async function nu(n){let{connection:e,amount:t,commitment:r,payer:o,owner:u,skipCloseAccount:c}=n,l=await e.getMinimumBalanceForRentExemption(G.span,r),d=y(t).add(new xt(l)),g=Me({fromPublicKey:o,programId:I});return{addresses:{newAccount:g.publicKey},signers:[],instructions:[bt.createAccountWithSeed({fromPubkey:o,basePubkey:o,seed:g.seed,newAccountPubkey:g.publicKey,lamports:d.toNumber(),space:G.span,programId:I}),At({mint:new yt(x.address),tokenAccount:g.publicKey,owner:u,programId:I})],instructionTypes:[C.CreateAccount,C.InitAccount],endInstructionTypes:c?[]:[C.CloseAccount],endInstructions:c?[]:[St({tokenAccount:g.publicKey,payer:o,owner:u})]}}function ru({source:n,destination:e,owner:t,amount:r,multiSigners:o=[],tokenProgram:u=I}){return Pt(n,e,t,BigInt(String(r)),o,u)}export{St as closeAccountInstruction,nu as createWSolAccountInstructions,At as initTokenAccountInstruction,ru as makeTransferInstruction};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=instruction.mjs.map