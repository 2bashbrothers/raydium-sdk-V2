var Ne=Object.defineProperty,Me=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var me=(n,e,t)=>e in n?Ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||(e={}))Fe.call(e,t)&&me(n,t,e[t]);if(le)for(var t of le(e))Oe.call(e,t)&&me(n,t,e[t]);return n},k=(n,e)=>Me(n,Ee(e));import{PublicKey as dt,SystemProgram as gt}from"@solana/web3.js";import ht from"bn.js";import{PublicKey as Ct}from"@solana/web3.js";import{get as pe,set as Ke}from"lodash";var j=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},fe={},Ve={};function h(n){let e=pe(fe,n);if(!e){let t=pe(Ve,n);e=new j({name:n,logLevel:t}),Ke(fe,n,e)}return e}import{MINT_SIZE as Nt,TOKEN_PROGRAM_ID as Mt,getTransferFeeConfig as Et,unpackMint as Ft}from"@solana/spl-token";var Ot=h("Raydium_accountInfo_util");import T from"bn.js";import Ar from"decimal.js";import ze from"big.js";import nn from"bn.js";import ve from"toformat";var We=ve,_=We;import O from"big.js";import qe from"bn.js";import Ge from"decimal.js-light";import D from"bn.js";var de=9007199254740991;function y(n){let e=h("Raydium_parseBigNumberish");if(n instanceof D)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new D(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=de||n<=-de)&&e.logWithError(`BigNumberish number overflow: ${n}`),new D(String(n))):typeof n=="bigint"?new D(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new D(0))}var F=h("module/fraction"),Y=_(O),N=_(Ge),He={[0]:N.ROUND_DOWN,[1]:N.ROUND_HALF_UP,[2]:N.ROUND_UP},je={[0]:O.roundDown,[1]:O.roundHalfUp,[2]:O.roundUp},p=class{constructor(e,t=new qe(1)){this.numerator=y(e),this.denominator=y(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new p(this.denominator,this.numerator)}add(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.add(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof p?e:new p(y(e));return this.denominator.eq(t.denominator)?new p(this.numerator.sub(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof p?e:new p(y(e));return new p(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||F.logWithError(`${e} is not an integer.`),e<=0&&F.logWithError(`${e} is not positive.`),N.set({precision:e+1,rounding:He[r]});let o=new N(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return o.toFormat(o.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||F.logWithError(`${e} is not an integer.`),e<0&&F.logWithError(`${e} is negative.`),Y.DP=e,Y.RM=je[r]||1,new Y(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var pn=h("Raydium_amount"),fn=_(ze);import{PublicKey as Je}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ge}from"@solana/spl-token";var he={chainId:101,address:Je.default.toBase58(),programId:ge.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},x={chainId:101,address:"So11111111111111111111111111111111111111112",programId:ge.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as X}from"@solana/web3.js";import{PublicKey as f,SystemProgram as ye,SYSVAR_RENT_PUBKEY as Xe}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Ze}from"@solana/spl-token";function J({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var wn=[J({pubkey:Ze,isWritable:!1}),J({pubkey:ye.programId,isWritable:!1}),J({pubkey:Xe,isWritable:!1})];function be({publicKey:n,transformSol:e}){let t=xe(n.toString());if(t instanceof f)return e&&t.equals(M)?z:t;if(e&&t.toString()===M.toBase58())return z;if(typeof t=="string"){if(t===f.default.toBase58())return f.default;try{return new f(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function xe(n){try{return new f(n)}catch{return n}}var Pn=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),An=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Sn=new f("SysvarRent111111111111111111111111111111111"),Bn=new f("SysvarC1ock11111111111111111111111111111111"),kn=new f("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ln=new f("Sysvar1nstructions1111111111111111111111111"),In=ye.programId,Cn=new f("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Rn=new f("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),_n=new f("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Dn=new f("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Nn=new f("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Mn=new f("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),En=new f("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Fn=new f("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),On=new f("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Kn=new f("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Vn=new f("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),z=new f("So11111111111111111111111111111111111111112"),M=f.default;var Z=class{constructor({mint:e,decimals:t,symbol:r,name:o,skipMint:c=!1,isToken2022:u=!1}){if(e===M.toBase58()||e instanceof X&&M.equals(e)){this.decimals=x.decimals,this.symbol=x.symbol,this.name=x.name,this.mint=new X(x.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=o||e.toString().substring(0,6),this.mint=c?X.default:be({publicKey:e}),this.isToken2022=u}equals(e){return this===e?!0:this.mint.equals(e.mint)}},L=Z;L.WSOL=new Z(k(S({},x),{mint:x.address}));var Q=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}},K=Q;K.SOL=new Q(he);import Qe from"bn.js";var Zn=new p(new Qe(100));var rr=h("Raydium_price");var $e=new T(0),Dr=new T(1),Nr=new T(2),Mr=new T(3),Er=new T(5),Ye=new T(10),Fr=new T(100),Or=new T(1e3),Kr=new T(1e4);import{PublicKey as lo}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as po}from"@solana/spl-token";import{ComputeBudgetProgram as jr,Keypair as Jr,PublicKey as Xr,Transaction as Qr,TransactionMessage as eo,VersionedTransaction as to}from"@solana/web3.js";var I={CreateAccount:"CreateAccount",InitAccount:"InitAccount",CreateATA:"CreateATA",CloseAccount:"CloseAccount",TransferAmount:"TransferAmount",InitMint:"InitMint",MintTo:"MintTo",InitMarket:"InitMarket",Util1216OwnerClaim:"Util1216OwnerClaim",SetComputeUnitPrice:"SetComputeUnitPrice",SetComputeUnitLimit:"SetComputeUnitLimit",ClmmCreatePool:"ClmmCreatePool",ClmmOpenPosition:"ClmmOpenPosition",ClmmIncreasePosition:"ClmmIncreasePosition",ClmmDecreasePosition:"ClmmDecreasePosition",ClmmClosePosition:"ClmmClosePosition",ClmmSwapBaseIn:"ClmmSwapBaseIn",ClmmSwapBaseOut:"ClmmSwapBaseOut",ClmmInitReward:"ClmmInitReward",ClmmSetReward:"ClmmSetReward",ClmmCollectReward:"ClmmCollectReward",ClmmLockPosition:"ClmmLockPosition",ClmmHarvestLockPosition:"ClmmHarvestLockPosition",AmmV4Swap:"AmmV4Swap",AmmV4AddLiquidity:"AmmV4AddLiquidity",AmmV4RemoveLiquidity:"AmmV4RemoveLiquidity",AmmV4SimulatePoolInfo:"AmmV4SimulatePoolInfo",AmmV4SwapBaseIn:"AmmV4SwapBaseIn",AmmV4SwapBaseOut:"AmmV4SwapBaseOut",AmmV4CreatePool:"AmmV4CreatePool",AmmV4InitPool:"AmmV4InitPool",AmmV5AddLiquidity:"AmmV5AddLiquidity",AmmV5RemoveLiquidity:"AmmV5RemoveLiquidity",AmmV5SimulatePoolInfo:"AmmV5SimulatePoolInfo",AmmV5SwapBaseIn:"AmmV5SwapBaseIn",AmmV5SwapBaseOut:"AmmV5SwapBaseOut",RouteSwap:"RouteSwap",RouteSwap1:"RouteSwap1",RouteSwap2:"RouteSwap2",FarmV3Deposit:"FarmV3Deposit",FarmV3Withdraw:"FarmV3Withdraw",FarmV3CreateLedger:"FarmV3CreateLedger",FarmV4Withdraw:"FarmV4Withdraw",FarmV5Deposit:"FarmV5Deposit",FarmV5Withdraw:"FarmV5Withdraw",FarmV5CreateLedger:"FarmV5CreateLedger",FarmV6Deposit:"FarmV6Deposit",FarmV6Withdraw:"FarmV6Withdraw",FarmV6Create:"FarmV6Create",FarmV6Restart:"FarmV6Restart",FarmV6CreatorAddReward:"FarmV6CreatorAddReward",FarmV6CreatorWithdraw:"FarmV6CreatorWithdraw",CpmmCreatePool:"CpmmCreatePool",CpmmAddLiquidity:"CpmmAddLiquidity",CpmmWithdrawLiquidity:"CpmmWithdrawLiquidity",CpmmSwapBaseIn:"CpmmSwapBaseIn",CpmmSwapBaseOut:"CpmmSwapBaseOut",CpmmLockLp:"CpmmLockLp",CpmmCollectLockFee:"CpmmCollectLockFee",TransferTip:"TransferTip"};import{TOKEN_PROGRAM_ID as io}from"@solana/spl-token";var so=h("Raydium_txUtil");import{PublicKey as i}from"@solana/web3.js";var yo=new i("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),bo=new i("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),xo=new i("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),To=new i("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),wo=new i("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Po=new i("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),Ao=new i("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),So=new i("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Bo=new i("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ko=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Lo=new i("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Io=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Co=new i("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),Ro=new i("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),_o=new i("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Do=new i("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),No=new i("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Mo=new i("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Eo=new i("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),Fo=new i("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Oo=new i("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Ko=new i("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),Vo=new i("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),vo=new i("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Wo=new i("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Uo=new i("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),qo=new i("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Go=new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Ho=new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),jo=new i("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),zo=new i("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Yo={OPEN_BOOK_PROGRAM:new i("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new i("Ray1111111111111111111111111111111111111111"),AMM_V4:new i("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new i("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new i("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new i("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new i("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new i("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new i("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new i("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new i("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:i.default,Router:new i("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new i("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new i("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new i("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new i("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new i("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new i("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new i("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new i("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new i("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new i("Ray1111111111111111111111111111111111111111")};import Zo from"bn.js";import{PublicKey as ni,AddressLookupTableAccount as ri}from"@solana/web3.js";import{PublicKey as wi,sendAndConfirmTransaction as Pi,SystemProgram as Bi,Transaction as ki,TransactionMessage as Ii,VersionedTransaction as Ci}from"@solana/web3.js";import _i from"axios";import{PublicKey as Vi}from"@solana/web3.js";import Wi from"bn.js";import et from"bn.js";var ji=new et(1e6);import{createCloseAccountInstruction as yt,createInitializeAccountInstruction as bt,createTransferInstruction as xt,TOKEN_PROGRAM_ID as C}from"@solana/spl-token";import{Keypair as lt,PublicKey as mt}from"@solana/web3.js";import Fa from"bn.js";import{TOKEN_PROGRAM_ID as pt}from"@solana/spl-token";function tt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function $(n,...e){if(!tt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function ee(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ae(n,e){$(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var v=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),b=(n,e)=>n<<32-e|n>>>e;var gs=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function te(n){return typeof n=="string"&&(n=nt(n)),$(n),n}var V=class{clone(){return this._cloneInto()}},hs={}.toString;function Se(n){let e=r=>n().update(te(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function rt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let o=BigInt(32),c=BigInt(4294967295),u=Number(t>>o&c),l=Number(t&c),d=r?4:0,g=r?0:4;n.setUint32(e+d,u,r),n.setUint32(e+g,l,r)}var Be=(n,e,t)=>n&e^~n&t,ke=(n,e,t)=>n&e^n&t^e&t,W=class extends V{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=v(this.buffer)}update(e){ee(this);let{view:t,buffer:r,blockLen:o}=this;e=te(e);let c=e.length;for(let u=0;u<c;){let l=Math.min(o-this.pos,c-u);if(l===o){let d=v(e);for(;o<=c-u;u+=o)this.process(d,u);continue}r.set(e.subarray(u,u+l),this.pos),this.pos+=l,u+=l,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ee(this),Ae(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:c}=this,{pos:u}=this;t[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>o-u&&(this.process(r,0),u=0);for(let m=u;m<o;m++)t[m]=0;rt(r,o-8,BigInt(this.length*8),c),this.process(r,0);let l=v(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let g=d/4,w=this.get();if(g>w.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<g;m++)l.setUint32(4*m,w[m],c)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:o,finished:c,destroyed:u,pos:l}=this;return e.length=o,e.pos=l,e.finished=c,e.destroyed=u,o%t&&e.buffer.set(r),e}};var ot=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),P=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64),ne=class extends W{constructor(){super(64,32,8,!1),this.A=P[0]|0,this.B=P[1]|0,this.C=P[2]|0,this.D=P[3]|0,this.E=P[4]|0,this.F=P[5]|0,this.G=P[6]|0,this.H=P[7]|0}get(){let{A:e,B:t,C:r,D:o,E:c,F:u,G:l,H:d}=this;return[e,t,r,o,c,u,l,d]}set(e,t,r,o,c,u,l,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=c|0,this.F=u|0,this.G=l|0,this.H=d|0}process(e,t){for(let m=0;m<16;m++,t+=4)A[m]=e.getUint32(t,!1);for(let m=16;m<64;m++){let R=A[m-15],B=A[m-2],ue=b(R,7)^b(R,18)^R>>>3,H=b(B,17)^b(B,19)^B>>>10;A[m]=H+A[m-7]+ue+A[m-16]|0}let{A:r,B:o,C:c,D:u,E:l,F:d,G:g,H:w}=this;for(let m=0;m<64;m++){let R=b(l,6)^b(l,11)^b(l,25),B=w+R+Be(l,d,g)+ot[m]+A[m]|0,H=(b(r,2)^b(r,13)^b(r,22))+ke(r,o,c)|0;w=g,g=d,d=l,l=u+B|0,u=c,c=o,o=r,r=B+H|0}r=r+this.A|0,o=o+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,g=g+this.G|0,w=w+this.H|0,this.set(r,o,c,u,l,d,g,w)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Le=Se(()=>new ne);import{PublicKey as ut}from"@solana/web3.js";import Ce,{isBN as Sa}from"bn.js";import{bits as Bs,BitStructure as ks,blob as it,Blob as Ls,cstr as Is,f32 as Cs,f32be as Rs,f64 as _s,f64be as Ds,greedy as Ns,Layout as st,ns64 as Ms,ns64be as Es,nu64 as Fs,nu64be as Os,offset as Ks,s16 as Vs,s16be as vs,s24 as Ws,s24be as Us,s32 as qs,s32be as Gs,s40 as Hs,s40be as js,s48 as zs,s48be as Ys,s8 as Js,seq as Xs,struct as Zs,Structure as at,u16 as Qs,u16be as $s,u24 as ea,u24be as ta,u32 as na,u32be as ra,u40 as oa,u40be as ia,u48 as sa,u48be as aa,u8 as ca,UInt as ct,union as ua,Union as la,unionLayoutDiscriminator as ma,utf8 as pa}from"@solana/buffer-layout";var re=st,Ie=at;var oe=ct;var ie=it;var se=class extends re{constructor(t,r,o){super(t,o);this.blob=ie(t),this.signed=r}decode(t,r=0){let o=new Ce(this.blob.decode(t,r),10,"le");return this.signed?o.fromTwos(this.span*8).clone():o}encode(t,r,o=0){return typeof t=="number"&&(t=new Ce(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),r,o)}};function Re(n){return new oe(1,n)}function U(n){return new oe(4,n)}function q(n){return new se(8,!1,n)}var ae=class extends re{constructor(t,r,o,c){super(t.span,c);this.layout=t,this.decoder=r,this.encoder=o}decode(t,r){return this.decoder(this.layout.decode(t,r))}encode(t,r,o){return this.layout.encode(this.encoder(t),r,o)}getSpan(t,r){return this.layout.getSpan(t,r)}};function E(n){return new ae(ie(32),e=>new ut(e),e=>e.toBuffer(),n)}var ce=class extends Ie{decode(e,t){return super.decode(e,t)}};function _e(n,e,t){return new ce(n,e,t)}var G=_e([E("mint"),E("owner"),q("amount"),U("delegateOption"),E("delegate"),Re("state"),U("isNativeOption"),q("isNative"),q("delegatedAmount"),U("closeAuthorityOption"),E("closeAuthority")]);var Wa=h("Raydium_Util");function De({fromPublicKey:n,programId:e=pt,assignSeed:t}){let r=t?btoa(t).slice(0,32):lt.generate().publicKey.toBase58().slice(0,32);return{publicKey:ft(n,r,e),seed:r}}function ft(n,e,t){let r=Buffer.concat([n.toBuffer(),Buffer.from(e),t.toBuffer()]),o=Le(r);return new mt(o)}function Tt(n){let{mint:e,tokenAccount:t,owner:r,programId:o=C}=n;return bt(t,e,r,o)}function wt(n){let{tokenAccount:e,payer:t,multiSigners:r=[],owner:o,programId:c=C}=n;return yt(e,t,o,r,c)}async function nc(n){let{connection:e,amount:t,commitment:r,payer:o,owner:c,skipCloseAccount:u}=n,l=await e.getMinimumBalanceForRentExemption(G.span,r),d=y(t).add(new ht(l)),g=De({fromPublicKey:o,programId:C});return{addresses:{newAccount:g.publicKey},signers:[],instructions:[gt.createAccountWithSeed({fromPubkey:o,basePubkey:o,seed:g.seed,newAccountPubkey:g.publicKey,lamports:d.toNumber(),space:G.span,programId:C}),Tt({mint:new dt(x.address),tokenAccount:g.publicKey,owner:c,programId:C})],instructionTypes:[I.CreateAccount,I.InitAccount],endInstructionTypes:u?[]:[I.CloseAccount],endInstructions:u?[]:[wt({tokenAccount:g.publicKey,payer:o,owner:c})]}}function rc({source:n,destination:e,owner:t,amount:r,multiSigners:o=[],tokenProgram:c=C}){return xt(n,e,t,BigInt(String(r)),o,c)}export{wt as closeAccountInstruction,nc as createWSolAccountInstructions,Tt as initTokenAccountInstruction,rc as makeTransferInstruction};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=instruction.mjs.map