var _e=Object.defineProperty,Ee=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ce=(n,e,t)=>e in n?_e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,A=(n,e)=>{for(var t in e||(e={}))Oe.call(e,t)&&ce(n,t,e[t]);if(ae)for(var t of ae(e))Ve.call(e,t)&&ce(n,t,e[t]);return n},L=(n,e)=>Ee(n,Fe(e));import{Keypair as yt,PublicKey as Ne}from"@solana/web3.js";import bt from"bn.js";import{PublicKey as Ct}from"@solana/web3.js";import{get as ue,set as Ke}from"lodash";var q=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(r=>typeof r=="object"?JSON.stringify(r):r).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},le={},ve={};function g(n){let e=ue(le,n);if(!e){let t=ue(ve,n);e=new q({name:n,logLevel:t}),Ke(le,n,e)}return e}import{MINT_SIZE as Mt,TOKEN_PROGRAM_ID as Nt,getTransferFeeConfig as _t,unpackMint as Et}from"@solana/spl-token";var Ft=g("Raydium_accountInfo_util");import x from"bn.js";import Rr from"decimal.js";import Ze from"big.js";import tn from"bn.js";import Ue from"toformat";var We=Ue,I=We;import E from"big.js";import Ge from"bn.js";import He from"decimal.js-light";import R from"bn.js";var pe=9007199254740991;function b(n){let e=g("Raydium_parseBigNumberish");if(n instanceof R)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new R(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=pe||n<=-pe)&&e.logWithError(`BigNumberish number overflow: ${n}`),new R(String(n))):typeof n=="bigint"?new R(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new R(0))}var _=g("module/fraction"),H=I(E),D=I(He),je={[0]:D.ROUND_DOWN,[1]:D.ROUND_HALF_UP,[2]:D.ROUND_UP},ze={[0]:E.roundDown,[1]:E.roundHalfUp,[2]:E.roundUp},m=class{constructor(e,t=new Ge(1)){this.numerator=b(e),this.denominator=b(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new m(this.denominator,this.numerator)}add(e){let t=e instanceof m?e:new m(b(e));return this.denominator.eq(t.denominator)?new m(this.numerator.add(t.numerator),this.denominator):new m(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof m?e:new m(b(e));return this.denominator.eq(t.denominator)?new m(this.numerator.sub(t.numerator),this.denominator):new m(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof m?e:new m(b(e));return new m(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof m?e:new m(b(e));return new m(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||_.logWithError(`${e} is not an integer.`),e<=0&&_.logWithError(`${e} is not positive.`),D.set({precision:e+1,rounding:je[r]});let i=new D(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||_.logWithError(`${e} is not an integer.`),e<0&&_.logWithError(`${e} is negative.`),H.DP=e,H.RM=ze[r]||1,new H(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var pn=g("Raydium_amount"),mn=I(Ze);import{PublicKey as Xe}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as me}from"@solana/spl-token";var fe={chainId:101,address:Xe.default.toBase58(),programId:me.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},S={chainId:101,address:"So11111111111111111111111111111111111111112",programId:me.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as z}from"@solana/web3.js";import{PublicKey as f,SystemProgram as de,SYSVAR_RENT_PUBKEY as Qe}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Ye}from"@solana/spl-token";function j({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Tn=[j({pubkey:Ye,isWritable:!1}),j({pubkey:de.programId,isWritable:!1}),j({pubkey:Qe,isWritable:!1})];function ge({publicKey:n,transformSol:e}){let t=he(n.toString());if(t instanceof f)return e&&t.equals(M)?G:t;if(e&&t.toString()===M.toBase58())return G;if(typeof t=="string"){if(t===f.default.toBase58())return f.default;try{return new f(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function he(n){try{return new f(n)}catch{return n}}var wn=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Pn=new f("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),An=new f("SysvarRent111111111111111111111111111111111"),Sn=new f("SysvarC1ock11111111111111111111111111111111"),Bn=new f("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ln=new f("Sysvar1nstructions1111111111111111111111111"),kn=de.programId,Cn=new f("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),In=new f("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Rn=new f("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Dn=new f("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Mn=new f("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Nn=new f("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),_n=new f("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),En=new f("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Fn=new f("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),On=new f("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Vn=new f("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),G=new f("So11111111111111111111111111111111111111112"),M=f.default;var Z=class{constructor({mint:e,decimals:t,symbol:r,name:i,skipMint:u=!1,isToken2022:s=!1}){if(e===M.toBase58()||e instanceof z&&M.equals(e)){this.decimals=S.decimals,this.symbol=S.symbol,this.name=S.name,this.mint=new z(S.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=u?z.default:ge({publicKey:e}),this.isToken2022=s}equals(e){return this===e?!0:this.mint.equals(e.mint)}},k=Z;k.WSOL=new Z(L(A({},S),{mint:S.address}));var J=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}},F=J;F.SOL=new J(fe);import $e from"bn.js";var Xn=new m(new $e(100));var nr=g("Raydium_price");import{PublicKey as xr}from"@solana/web3.js";import wr from"bn.js";var et=new x(0),vr=new x(1),Ur=new x(2),Wr=new x(3),qr=new x(5),Je=new x(10),Gr=new x(100),Hr=new x(1e3),jr=new x(1e4);import{PublicKey as rt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ot}from"@solana/spl-token";import{ComputeBudgetProgram as eo,Keypair as ro,PublicKey as nt,Transaction as io,TransactionMessage as ao,VersionedTransaction as co}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as mo}from"@solana/spl-token";var fo=g("Raydium_txUtil");function Te(n,e){let[t,r]=nt.findProgramAddressSync(n,e);return{publicKey:t,nonce:r}}function we(n,e,t){return Te([n.toBuffer(),(t!=null?t:ot).toBuffer(),e.toBuffer()],new rt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}import{PublicKey as o}from"@solana/web3.js";var wo=new o("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Po=new o("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Ao=new o("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),So=new o("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),Bo=new o("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Lo=new o("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),ko=new o("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Co=new o("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Io=new o("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Ro=new o("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Do=new o("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Mo=new o("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),No=new o("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),_o=new o("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Eo=new o("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),Fo=new o("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),Oo=new o("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),Vo=new o("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),Ko=new o("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),vo=new o("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),Uo=new o("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Wo=new o("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),qo=new o("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Go=new o("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Ho=new o("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),jo=new o("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),zo=new o("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),Zo=new o("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Jo=new o("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Xo=new o("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),Qo=new o("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Yo={OPEN_BOOK_PROGRAM:new o("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new o("Ray1111111111111111111111111111111111111111"),AMM_V4:new o("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new o("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new o("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new o("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new o("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new o("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new o("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new o("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new o("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new o("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:o.default,Router:new o("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new o("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new o("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new o("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new o("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new o("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new o("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new o("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new o("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new o("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new o("Ray1111111111111111111111111111111111111111")};import ti from"bn.js";import{PublicKey as it,AddressLookupTableAccount as Pe}from"@solana/web3.js";var st={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new Pe({key:new it("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:Pe.deserialize(Buffer.from("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","base64"))})};import{PublicKey as wi,sendAndConfirmTransaction as Pi,SystemProgram as Bi,Transaction as Li,TransactionMessage as Ci,VersionedTransaction as Ii}from"@solana/web3.js";import Di from"axios";import at from"bn.js";var Vi=new at(1e6);import{TOKEN_PROGRAM_ID as xt}from"@solana/spl-token";function ct(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function X(n,...e){if(!ct(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Q(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Ae(n,e){X(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var V=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),y=(n,e)=>n<<32-e|n>>>e;var as=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ut(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Y(n){return typeof n=="string"&&(n=ut(n)),X(n),n}var O=class{clone(){return this._cloneInto()}},cs={}.toString;function Se(n){let e=r=>n().update(Y(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function lt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let i=BigInt(32),u=BigInt(4294967295),s=Number(t>>i&u),l=Number(t&u),d=r?4:0,h=r?0:4;n.setUint32(e+d,s,r),n.setUint32(e+h,l,r)}var Be=(n,e,t)=>n&e^~n&t,Le=(n,e,t)=>n&e^n&t^e&t,K=class extends O{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=V(this.buffer)}update(e){Q(this);let{view:t,buffer:r,blockLen:i}=this;e=Y(e);let u=e.length;for(let s=0;s<u;){let l=Math.min(i-this.pos,u-s);if(l===i){let d=V(e);for(;i<=u-s;s+=i)this.process(d,s);continue}r.set(e.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Q(this),Ae(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:u}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let p=s;p<i;p++)t[p]=0;lt(r,i-8,BigInt(this.length*8),u),this.process(r,0);let l=V(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=d/4,T=this.get();if(h>T.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<h;p++)l.setUint32(4*p,T[p],u)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:u,destroyed:s,pos:l}=this;return e.length=i,e.pos=l,e.finished=u,e.destroyed=s,i%t&&e.buffer.set(r),e}};var pt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),w=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),P=new Uint32Array(64),$=class extends K{constructor(){super(64,32,8,!1),this.A=w[0]|0,this.B=w[1]|0,this.C=w[2]|0,this.D=w[3]|0,this.E=w[4]|0,this.F=w[5]|0,this.G=w[6]|0,this.H=w[7]|0}get(){let{A:e,B:t,C:r,D:i,E:u,F:s,G:l,H:d}=this;return[e,t,r,i,u,s,l,d]}set(e,t,r,i,u,s,l,d){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=u|0,this.F=s|0,this.G=l|0,this.H=d|0}process(e,t){for(let p=0;p<16;p++,t+=4)P[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let C=P[p-15],B=P[p-2],se=y(C,7)^y(C,18)^C>>>3,W=y(B,17)^y(B,19)^B>>>10;P[p]=W+P[p-7]+se+P[p-16]|0}let{A:r,B:i,C:u,D:s,E:l,F:d,G:h,H:T}=this;for(let p=0;p<64;p++){let C=y(l,6)^y(l,11)^y(l,25),B=T+C+Be(l,d,h)+pt[p]+P[p]|0,W=(y(r,2)^y(r,13)^y(r,22))+Le(r,i,u)|0;T=h,h=d,d=l,l=s+B|0,s=u,u=i,i=r,r=B+W|0}r=r+this.A|0,i=i+this.B|0,u=u+this.C|0,s=s+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,T=T+this.H|0,this.set(r,i,u,s,l,d,h,T)}roundClean(){P.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var ke=Se(()=>new $);import{PublicKey as ht}from"@solana/web3.js";import Ie,{isBN as ha}from"bn.js";import{bits as ys,BitStructure as bs,blob as mt,Blob as xs,cstr as Ts,f32 as ws,f32be as Ps,f64 as As,f64be as Ss,greedy as Bs,Layout as ft,ns64 as Ls,ns64be as ks,nu64 as Cs,nu64be as Is,offset as Rs,s16 as Ds,s16be as Ms,s24 as Ns,s24be as _s,s32 as Es,s32be as Fs,s40 as Os,s40be as Vs,s48 as Ks,s48be as vs,s8 as Us,seq as Ws,struct as qs,Structure as dt,u16 as Gs,u16be as Hs,u24 as js,u24be as zs,u32 as Zs,u32be as Js,u40 as Xs,u40be as Qs,u48 as Ys,u48be as $s,u8 as ea,UInt as gt,union as ta,Union as na,unionLayoutDiscriminator as ra,utf8 as oa}from"@solana/buffer-layout";var ee=ft,Ce=dt;var te=gt;var ne=mt;var re=class extends ee{constructor(t,r,i){super(t,i);this.blob=ne(t),this.signed=r}decode(t,r=0){let i=new Ie(this.blob.decode(t,r),10,"le");return this.signed?i.fromTwos(this.span*8).clone():i}encode(t,r,i=0){return typeof t=="number"&&(t=new Ie(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),r,i)}};function Re(n){return new te(1,n)}function v(n){return new te(4,n)}function U(n){return new re(8,!1,n)}var oe=class extends ee{constructor(t,r,i,u){super(t.span,u);this.layout=t,this.decoder=r,this.encoder=i}decode(t,r){return this.decoder(this.layout.decode(t,r))}encode(t,r,i){return this.layout.encode(this.encoder(t),r,i)}getSpan(t,r){return this.layout.getSpan(t,r)}};function N(n){return new oe(ne(32),e=>new ht(e),e=>e.toBuffer(),n)}var ie=class extends Ce{decode(e,t){return super.decode(e,t)}};function De(n,e,t){return new ie(n,e,t)}var Me=De([N("mint"),N("owner"),U("amount"),v("delegateOption"),N("delegate"),Re("state"),v("isNativeOption"),U("isNative"),U("delegatedAmount"),v("closeAuthorityOption"),N("closeAuthority")]);var Da=g("Raydium_Util");function Ma({owner:n,solAccountResp:e,tokenAccountResp:t}){let r=[],i=[];for(let{pubkey:u,account:s}of t.value){let l=Me.decode(s.data),{mint:d,amount:h}=l;r.push({publicKey:u,mint:d,amount:h,isAssociated:we(n,d,s.owner).publicKey.equals(u),isNative:!1,programId:s.owner}),i.push({pubkey:u,accountInfo:l,programId:s.owner})}return e&&r.push({mint:Ne.default,amount:new bt(String(e.lamports)),isNative:!0,programId:e.owner}),{tokenAccounts:r,tokenAccountRawInfos:i}}function Na({fromPublicKey:n,programId:e=xt,assignSeed:t}){let r=t?btoa(t).slice(0,32):yt.generate().publicKey.toBase58().slice(0,32);return{publicKey:Tt(n,r,e),seed:r}}function Tt(n,e,t){let r=Buffer.concat([n.toBuffer(),Buffer.from(e),t.toBuffer()]),i=ke(r);return new Ne(i)}export{Na as generatePubKey,Ma as parseTokenAccountResp};
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
//# sourceMappingURL=util.mjs.map