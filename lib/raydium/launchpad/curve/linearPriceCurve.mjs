var ot=Object.defineProperty,st=Object.defineProperties;var at=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var ct=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var Be=(n,e,t)=>e in n?ot(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,h=(n,e)=>{for(var t in e||(e={}))ct.call(e,t)&&Be(n,t,e[t]);if(xe)for(var t of xe(e))ut.call(e,t)&&Be(n,t,e[t]);return n},x=(n,e)=>st(n,at(e));import w from"bn.js";import L from"decimal.js";import{PublicKey as zl}from"@solana/web3.js";import jl from"bn.js";import Ql from"decimal.js";import{PublicKey as wn}from"@solana/web3.js";import{get as Ie,set as lt}from"lodash";var te=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},Se={},mt={};function b(n){let e=Ie(Se,n);if(!e){let t=Ie(mt,n);e=new te({name:n,logLevel:t}),lt(Se,n,e)}return e}import{MINT_SIZE as hn,TOKEN_PROGRAM_ID as xn,getTransferFeeConfig as Bn,unpackMint as In}from"@solana/spl-token";var Sn=b("Raydium_accountInfo_util");import S from"bn.js";import ar from"decimal.js";import wt from"big.js";import Xn from"bn.js";import dt from"toformat";var pt=dt,O=pt;import Y from"big.js";import yt from"bn.js";import bt from"decimal.js-light";import E from"bn.js";var Ke=9007199254740991;function B(n){let e=b("Raydium_parseBigNumberish");if(n instanceof E)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new E(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=Ke||n<=-Ke)&&e.logWithError(`BigNumberish number overflow: ${n}`),new E(String(n))):typeof n=="bigint"?new E(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new E(0))}var z=b("module/fraction"),ne=O(Y),D=O(bt),gt={[0]:D.ROUND_DOWN,[1]:D.ROUND_HALF_UP,[2]:D.ROUND_UP},Pt={[0]:Y.roundDown,[1]:Y.roundHalfUp,[2]:Y.roundUp},m=class{constructor(e,t=new yt(1)){this.numerator=B(e),this.denominator=B(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new m(this.denominator,this.numerator)}add(e){let t=e instanceof m?e:new m(B(e));return this.denominator.eq(t.denominator)?new m(this.numerator.add(t.numerator),this.denominator):new m(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof m?e:new m(B(e));return this.denominator.eq(t.denominator)?new m(this.numerator.sub(t.numerator),this.denominator):new m(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof m?e:new m(B(e));return new m(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof m?e:new m(B(e));return new m(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||z.logWithError(`${e} is not an integer.`),e<=0&&z.logWithError(`${e} is not positive.`),D.set({precision:e+1,rounding:gt[i]});let a=new D(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return a.toFormat(a.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||z.logWithError(`${e} is not an integer.`),e<0&&z.logWithError(`${e} is negative.`),ne.DP=e,ne.RM=Pt[i]||1,new ne(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var ei=b("Raydium_amount"),ti=O(wt);import{PublicKey as Tt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Re}from"@solana/spl-token";var ie={chainId:101,address:Tt.default.toBase58(),programId:Re.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},K={chainId:101,address:"So11111111111111111111111111111111111111112",programId:Re.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};import{PublicKey as oe}from"@solana/web3.js";import{PublicKey as d,SystemProgram as Le,SYSVAR_RENT_PUBKEY as kt}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as ht}from"@solana/spl-token";function re({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var ui=[re({pubkey:ht,isWritable:!1}),re({pubkey:Le.programId,isWritable:!1}),re({pubkey:kt,isWritable:!1})];function Ne({publicKey:n,transformSol:e}){let t=Me(n.toString());if(t instanceof d)return e&&t.equals(_)?H:t;if(e&&t.toString()===_.toBase58())return H;if(typeof t=="string"){if(t===d.default.toBase58())return d.default;try{return new d(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Me(n){try{return new d(n)}catch{return n}}var xt=new d("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Bt=new d("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),It=new d("SysvarRent111111111111111111111111111111111"),li=new d("SysvarC1ock11111111111111111111111111111111"),Fe=new d("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),mi=new d("Sysvar1nstructions1111111111111111111111111"),di=Le.programId,pi=new d("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),fi=new d("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),yi=new d("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),bi=new d("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),gi=new d("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Pi=new d("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),wi=new d("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ai=new d("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Ti=new d("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),ki=new d("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),hi=new d("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),H=new d("So11111111111111111111111111111111111111112"),_=d.default;var se=class{constructor({mint:e,decimals:t,symbol:i,name:a,skipMint:l=!1,isToken2022:P=!1}){if(e===_.toBase58()||e instanceof oe&&_.equals(e)){this.decimals=K.decimals,this.symbol=K.symbol,this.name=K.name,this.mint=new oe(K.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=a||e.toString().substring(0,6),this.mint=l?oe.default:Ne({publicKey:e}),this.isToken2022=P}equals(e){return this===e?!0:this.mint.equals(e.mint)}},R=se;R.WSOL=new se(x(h({},K),{mint:K.address}));var ae=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}},j=ae;j.SOL=new ae(ie);import St from"bn.js";var Oi=new m(new St(100));var Wi=b("Raydium_price");var Ct=new S(0),br=new S(1),gr=new S(2),Pr=new S(3),wr=new S(5),At=new S(10),Ar=new S(100),Tr=new S(1e3),kr=new S(1e4);import{PublicKey as zr}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as jr}from"@solana/spl-token";import{ComputeBudgetProgram as Rr,Keypair as Mr,PublicKey as Fr,Transaction as Er,TransactionMessage as _r,VersionedTransaction as Vr}from"@solana/web3.js";import{TOKEN_PROGRAM_ID as Gr}from"@solana/spl-token";var Ur=b("Raydium_txUtil");import{PublicKey as r}from"@solana/web3.js";var $r=new r("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),eo=new r("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),to=new r("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),no=new r("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),io=new r("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),ro=new r("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),oo=new r("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),so=new r("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),ao=new r("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),co=new r("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Rt=new r("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Lt=new r("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Nt=new r("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),uo=new r("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),lo=new r("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),mo=new r("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),po=new r("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),fo=new r("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),yo=new r("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),bo=new r("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),go=new r("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),Po=new r("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),wo=new r("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),Ao=new r("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),To=new r("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),ko=new r("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),ho=new r("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),xo=new r("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),Bo=new r("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),Io=new r("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),So=new r("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Co={OPEN_BOOK_PROGRAM:new r("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new r("Ray1111111111111111111111111111111111111111"),AMM_V4:new r("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new r("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new r("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new r("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new r("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new r("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new r("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new r("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new r("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new r("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:r.default,Router:new r("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new r("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new r("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new r("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new r("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new r("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new r("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new r("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new r("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new r("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new r("Ray1111111111111111111111111111111111111111")};import Q from"bn.js";function me(n,e){if(n.isZero())return new Q(0);let t=n.div(e);return t.isZero()?new Q(1):n.mod(e).gt(new Q(0))?t.add(new Q(1)):t}import{PublicKey as Fo,AddressLookupTableAccount as Oo}from"@solana/web3.js";import{PublicKey as Qo,sendAndConfirmTransaction as Jo,SystemProgram as ts,Transaction as ns,TransactionMessage as rs,VersionedTransaction as os}from"@solana/web3.js";import as from"axios";import{PublicKey as ys}from"@solana/web3.js";import gs from"bn.js";import Ot from"bn.js";var ks=new Ot(1e6);import{AccountLayout as em,createAssociatedTokenAccountIdempotentInstruction as tm,TOKEN_2022_PROGRAM_ID as nm,TOKEN_PROGRAM_ID as im}from"@solana/spl-token";import{PublicKey as Xs}from"@solana/web3.js";import{MintLayout as zs,TOKEN_PROGRAM_ID as js}from"@solana/spl-token";import{Keypair as bl,PublicKey as gl,SystemProgram as wl,TransactionInstruction as Al}from"@solana/web3.js";import kl from"bn.js";import{ASSOCIATED_TOKEN_PROGRAM_ID as Bl,TOKEN_2022_PROGRAM_ID as Il,TOKEN_PROGRAM_ID as Sl}from"@solana/spl-token";import{PublicKey as Ut}from"@solana/web3.js";import Ve,{isBN as ve}from"bn.js";import{bits as ua,BitStructure as la,blob as Et,Blob as ma,cstr as da,f32 as pa,f32be as fa,f64 as ya,f64be as ba,greedy as ga,Layout as Dt,ns64 as Pa,ns64be as wa,nu64 as Aa,nu64be as Ta,offset as ka,s16 as ha,s16be as xa,s24 as Ba,s24be as Ia,s32 as _t,s32be as Sa,s40 as Ca,s40be as Ka,s48 as Ra,s48be as La,s8 as Na,seq as Vt,struct as Ma,Structure as vt,u16 as Wt,u16be as Fa,u24 as Oa,u24be as Ea,u32 as Da,u32be as _a,u40 as Va,u40be as va,u48 as Wa,u48be as qa,u8 as qt,UInt as Gt,union as Ga,Union as Ua,unionLayoutDiscriminator as Xa,utf8 as Ha}from"@solana/buffer-layout";var de=Dt,Ee=vt;var pe=Gt;var De=qt,V=Wt;var C=_t;var _e=Vt;var A=Et;var N=class extends de{constructor(t,i,a){super(t,a);this.blob=A(t),this.signed=i}decode(t,i=0){let a=new Ve(this.blob.decode(t,i),10,"le");return this.signed?a.fromTwos(this.span*8).clone():a}encode(t,i,a=0){return typeof t=="number"&&(t=new Ve(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),i,a)}};function g(n){return new pe(1,n)}function M(n){return new pe(4,n)}function c(n){return new N(8,!1,n)}function p(n){return new N(16,!1,n)}function We(n){return new N(8,!0,n)}function qe(n){return new N(16,!0,n)}var J=class extends de{constructor(t,i,a,l){super(t.span,l);this.layout=t,this.decoder=i,this.encoder=a}decode(t,i){return this.decoder(this.layout.decode(t,i))}encode(t,i,a){return this.layout.encode(this.encoder(t),i,a)}getSpan(t,i){return this.layout.getSpan(t,i)}};function u(n){return new J(A(32),e=>new Ut(e),e=>e.toBuffer(),n)}function ye(n){return new J(De(),Xt,Ht,n)}function Xt(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function Ht(n){return n?1:0}var fe=class extends Ee{decode(e,t){return super.decode(e,t)}};function y(n,e,t){return new fe(n,e,t)}function f(n,e,t){let i,a=typeof e=="number"?e:ve(e)?e.toNumber():new Proxy(e,{get(l,P){if(!i){let k=Reflect.get(l,"count");i=ve(k)?k.toNumber():k,Reflect.set(l,"count",i)}return Reflect.get(l,P)},set(l,P,k){return P==="count"&&(i=k),Reflect.set(l,P,k)}});return _e(n,a,t)}import Yu from"bn.js";import Zu from"decimal.js";import T from"bn.js";var be=new T(0),Ge=new T(1),Ue=new T(-1),I=new T(1).shln(64),Xe=new T(1).shln(128),ge=I.sub(Ge);var zt=Xe.subn(1),F=-443636,v=-F,Pe=new T("4295048016"),we=new T("79226673521066979257578248091"),sc=new T("4295048017"),ac=new T("79226673521066979257578248090");var Yt=new T(10).pow(new T(6));var cc=new T("18446744073700000000");import Mu from"bn.js";import Ou from"decimal.js";var yc=Buffer.from("amm_config","utf8"),bc=Buffer.from("pool","utf8"),gc=Buffer.from("pool_vault","utf8"),Pc=Buffer.from("pool_reward_vault","utf8"),wc=Buffer.from("position","utf8"),Ac=Buffer.from("tick_array","utf8"),Tc=Buffer.from("operation","utf8"),kc=Buffer.from("pool_tick_array_bitmap_extension","utf8"),hc=Buffer.from("observation","utf8");var xc=Buffer.from("locked_position","utf8");var Bc=Buffer.from("support_mint","utf8");import{PublicKey as ou}from"@solana/web3.js";import{TOKEN_2022_PROGRAM_ID as au}from"@solana/spl-token";import uu from"bn.js";import mu from"decimal.js";import Cc from"bn.js";import Rc from"decimal.js";var ke=14;var $=60;var $t=y([A(8),g("bump"),V("index"),u(""),M("protocolFeeRate"),M("tradeFeeRate"),V("tickSpacing"),f(c(),8,"")]),en=y([M("blockTimestamp"),We("tickCumulative"),f(c(),4)]),tt=y([A(8),ye("initialized"),c("recentEpoch"),V("observationIndex"),u("poolId"),f(en,100,"observations"),f(c(),4)]),tn=y([g("rewardState"),c("openTime"),c("endTime"),c("lastUpdateTime"),p("emissionsPerSecondX64"),c("rewardTotalEmissioned"),c("rewardClaimed"),u("tokenMint"),u("tokenVault"),u("creator"),p("rewardGrowthGlobalX64")]),Je=y([A(8),g("bump"),u("ammConfig"),u("creator"),u("mintA"),u("mintB"),u("vaultA"),u("vaultB"),u("observationId"),g("mintDecimalsA"),g("mintDecimalsB"),V("tickSpacing"),p("liquidity"),p("sqrtPriceX64"),C("tickCurrent"),M(),p("feeGrowthGlobalX64A"),p("feeGrowthGlobalX64B"),c("protocolFeesTokenA"),c("protocolFeesTokenB"),p("swapInAmountTokenA"),p("swapOutAmountTokenB"),p("swapInAmountTokenB"),p("swapOutAmountTokenA"),g("status"),f(g(),7,""),f(tn,3,"rewardInfos"),f(c(),16,"tickArrayBitmap"),c("totalFeesTokenA"),c("totalFeesClaimedTokenA"),c("totalFeesTokenB"),c("totalFeesClaimedTokenB"),c("fundFeesTokenA"),c("fundFeesTokenB"),c("startTime"),f(c(),15*4-3,"padding")]),nn=y([p("growthInsideLastX64"),c("rewardAmountOwed")]),$e=y([A(8),g("bump"),u("nftMint"),u("poolId"),C("tickLower"),C("tickUpper"),p("liquidity"),p("feeGrowthInsideLastX64A"),p("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),f(nn,3,"rewardInfos"),f(c(),8,"")]),ol=y([A(8),g("bump"),u("poolId"),C("tickLowerIndex"),C("tickUpperIndex"),p("liquidity"),p("feeGrowthInsideLastX64A"),p("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),f(p(),3,"rewardGrowthInside"),f(c(),8,"")]),rn=y([C("tick"),qe("liquidityNet"),p("liquidityGross"),p("feeGrowthOutsideX64A"),p("feeGrowthOutsideX64B"),f(p(),3,"rewardGrowthsOutsideX64"),f(M(),13,"")]),je=y([A(8),u("poolId"),C("startTickIndex"),f(rn,$,"ticks"),g("initializedTickCount"),f(g(),115,"")]),on=y([A(329),f(u(),100,"whitelistMints")]),Jt=y([A(8),u("poolId"),f(f(c(),8),ke,"positiveTickArrayBitmap"),f(f(c(),8),ke,"negativeTickArrayBitmap")]),sl=y([c(),g("bump"),u("owner"),u("poolId"),u("positionId"),u("nftAccount"),f(c(),8)]),sn=y([A(8),g("bump"),u("lockOwner"),u("poolId"),u("positionId"),u("nftAccount"),u("lockNftMint"),c("recentEpoch"),f(c(),8)]);tt.span;var El=b("Raydium_Clmm");var ee=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:l,decimalA:P,decimalB:k}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:l}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}};import nt from"bn.js";import he from"decimal.js";var G=class{static _multipler(e){return new he(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:i}){return new he(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(i))}static getPriceX64({price:e,decimalA:t,decimalB:i}){let a=e.mul(this._multipler(i)).div(this._multipler(t));return new nt(a.mul(this._Q64).toFixed(0))}};G._Q64=new he(new nt(1).shln(64).toString());var it=class extends ee{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new L(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){return new L(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new L(e.virtualA.mul(e.realA).toString()).div(G._Q64).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:l,decimalA:P,decimalB:k}){return new L(a.sub(l).toString()).div(e.sub(t).sub(i).toString()).mul(10**(P-k))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let a=e.totalSellA.sub(e.realA),l=e.totalFundRaisingB.sub(e.realB);return new L(e.virtualB.add(e.realB).add(l).toString()).div(e.virtualA.sub(e.realA).add(a).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:l}){let P=e.sub(a);if(P.lte(new w(0)))throw Error("supplyMinusLocked need gt 0");let k=t.mul(new w(3)).sub(l),U=t.mul(new w(2)).mul(P).div(k),rt=U.mul(U),X=t.mul(new w(2)).mul(I).div(rt);if(!X.gt(new w(0)))throw Error("a need gt 0");if(!ge.gt(X))throw Error("a need lt u64 max");if(X.lt(new w(0))||U.lt(new w(0)))throw Error("invalid input 0");return{a:X,b:new w(0),c:U}}static buyExactIn({poolInfo:e,amount:t}){let i=e.realB.add(t),a=new w(2).mul(i).mul(I).div(e.virtualA);return new w(new L(a.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let i=e.realA.add(t),a=i.mul(i);return me(e.virtualA.mul(a),new w(2).mul(I)).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let i=e.realA.sub(t),a=i.mul(i),l=me(e.virtualA.mul(a),new w(2).mul(I));return e.realB.sub(l)}static sellExactOut({poolInfo:e,amount:t}){let i=e.realB.sub(t),a=new w(2).mul(i).mul(I).div(e.virtualA),l=new w(new L(a.toString()).sqrt().toFixed(0));return e.realA.sub(l)}};export{it as LinearPriceCurve};
//# sourceMappingURL=linearPriceCurve.mjs.map