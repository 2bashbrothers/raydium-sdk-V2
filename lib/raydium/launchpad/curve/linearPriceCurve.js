var xt=Object.create;var v=Object.defineProperty,Bt=Object.defineProperties,It=Object.getOwnPropertyDescriptor,St=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertyNames,De=Object.getOwnPropertySymbols,Kt=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var _e=(n,e,t)=>e in n?v(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||(e={}))Ve.call(e,t)&&_e(n,t,e[t]);if(De)for(var t of De(e))Rt.call(e,t)&&_e(n,t,e[t]);return n},B=(n,e)=>Bt(n,St(e));var Lt=(n,e)=>{for(var t in e)v(n,t,{get:e[t],enumerable:!0})},ve=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ct(e))!Ve.call(n,a)&&a!==t&&v(n,a,{get:()=>e[a],enumerable:!(i=It(e,a))||i.enumerable});return n};var u=(n,e,t)=>(t=n!=null?xt(Kt(n)):{},ve(e||!n||!n.__esModule?v(t,"default",{value:n,enumerable:!0}):t,n)),Nt=n=>ve(v({},"__esModule",{value:!0}),n);var Vn={};Lt(Vn,{LinearPriceCurve:()=>Ee});module.exports=Nt(Vn);var w=u(require("bn.js")),N=u(require("decimal.js"));var En=require("@solana/web3.js"),Dn=u(require("bn.js")),_n=u(require("decimal.js"));var Ft=require("@solana/web3.js");var W=require("lodash");var de=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},We={},Mt={};function g(n){let e=(0,W.get)(We,n);if(!e){let t=(0,W.get)(Mt,n);e=new de({name:n,logLevel:t}),(0,W.set)(We,n,e)}return e}var ee=require("@solana/spl-token"),Yn=g("Raydium_accountInfo_util");var S=u(require("bn.js")),Xt=u(require("decimal.js"));var ze=u(require("big.js")),Vt=u(require("bn.js"));var Ge=u(require("toformat")),Ot=Ge.default,q=Ot;var G=u(require("big.js")),Xe=u(require("bn.js")),He=u(require("decimal.js-light"));var M=u(require("bn.js"));var Ue=9007199254740991;function I(n){let e=g("Raydium_parseBigNumberish");if(n instanceof M.default)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new M.default(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=Ue||n<=-Ue)&&e.logWithError(`BigNumberish number overflow: ${n}`),new M.default(String(n))):typeof n=="bigint"?new M.default(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new M.default(0))}var ne=g("module/fraction"),pe=q(G.default),U=q(He.default),Dt={[0]:U.ROUND_DOWN,[1]:U.ROUND_HALF_UP,[2]:U.ROUND_UP},_t={[0]:G.default.roundDown,[1]:G.default.roundHalfUp,[2]:G.default.roundUp},p=class{constructor(e,t=new Xe.default(1)){this.numerator=I(e),this.denominator=I(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new p(this.denominator,this.numerator)}add(e){let t=e instanceof p?e:new p(I(e));return this.denominator.eq(t.denominator)?new p(this.numerator.add(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof p?e:new p(I(e));return this.denominator.eq(t.denominator)?new p(this.numerator.sub(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof p?e:new p(I(e));return new p(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof p?e:new p(I(e));return new p(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||ne.logWithError(`${e} is not an integer.`),e<=0&&ne.logWithError(`${e} is not positive.`),U.set({precision:e+1,rounding:Dt[i]});let a=new U(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return a.toFormat(a.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||ne.logWithError(`${e} is not an integer.`),e<0&&ne.logWithError(`${e} is negative.`),pe.DP=e,pe.RM=_t[i]||1,new pe(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var pi=g("Raydium_amount"),fi=q(ze.default);var Ye=require("@solana/web3.js"),fe=require("@solana/spl-token"),ye={chainId:101,address:Ye.PublicKey.default.toBase58(),programId:fe.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},R={chainId:101,address:"So11111111111111111111111111111111111111112",programId:fe.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var ie=require("@solana/web3.js");var l=require("@solana/web3.js"),je=require("@solana/spl-token");function be({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Pi=[be({pubkey:je.TOKEN_PROGRAM_ID,isWritable:!1}),be({pubkey:l.SystemProgram.programId,isWritable:!1}),be({pubkey:l.SYSVAR_RENT_PUBKEY,isWritable:!1})];function Ze({publicKey:n,transformSol:e}){let t=Qe(n.toString());if(t instanceof l.PublicKey)return e&&t.equals(X)?te:t;if(e&&t.toString()===X.toBase58())return te;if(typeof t=="string"){if(t===l.PublicKey.default.toBase58())return l.PublicKey.default;try{return new l.PublicKey(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Qe(n){try{return new l.PublicKey(n)}catch{return n}}var Wt=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),qt=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Gt=new l.PublicKey("SysvarRent111111111111111111111111111111111"),wi=new l.PublicKey("SysvarC1ock11111111111111111111111111111111"),Je=new l.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ai=new l.PublicKey("Sysvar1nstructions1111111111111111111111111"),Ti=l.SystemProgram.programId,ki=new l.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),hi=new l.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),xi=new l.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Bi=new l.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Ii=new l.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Si=new l.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Ci=new l.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ki=new l.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Ri=new l.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Li=new l.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Ni=new l.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),te=new l.PublicKey("So11111111111111111111111111111111111111112"),X=l.PublicKey.default;var ge=class{constructor({mint:e,decimals:t,symbol:i,name:a,skipMint:d=!1,isToken2022:A=!1}){if(e===X.toBase58()||e instanceof ie.PublicKey&&X.equals(e)){this.decimals=R.decimals,this.symbol=R.symbol,this.name=R.name,this.mint=new ie.PublicKey(R.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=a||e.toString().substring(0,6),this.mint=d?ie.PublicKey.default:Ze({publicKey:e}),this.isToken2022=A}equals(e){return this===e?!0:this.mint.equals(e.mint)}},L=ge;L.WSOL=new ge(B(x({},R),{mint:R.address}));var Pe=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}},re=Pe;re.SOL=new Pe(ye);var $e=u(require("bn.js"));var qi=new p(new $e.default(100));var Yi=g("Raydium_price");var Ut=new S.default(0),Ar=new S.default(1),Tr=new S.default(2),kr=new S.default(3),hr=new S.default(5),vt=new S.default(10),xr=new S.default(100),Br=new S.default(1e3),Ir=new S.default(1e4);var Yt=require("@solana/web3.js"),jt=require("@solana/spl-token");var F=require("@solana/web3.js");var Ht=require("@solana/spl-token"),Vr=g("Raydium_txUtil");var r=require("@solana/web3.js"),Gr=new r.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Ur=new r.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Xr=new r.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Hr=new r.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),zr=new r.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),Yr=new r.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),jr=new r.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),Zr=new r.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),Qr=new r.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),Jr=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Zt=new r.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),Qt=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),Jt=new r.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),$r=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),eo=new r.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),to=new r.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),no=new r.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),io=new r.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),ro=new r.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),oo=new r.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),so=new r.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),ao=new r.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),co=new r.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),uo=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),lo=new r.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),mo=new r.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),po=new r.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),fo=new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),yo=new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),bo=new r.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),go=new r.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Po={OPEN_BOOK_PROGRAM:new r.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new r.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new r.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new r.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new r.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new r.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new r.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new r.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new r.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new r.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:r.PublicKey.default,Router:new r.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new r.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new r.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new r.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new r.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new r.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new r.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new r.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new r.PublicKey("Ray1111111111111111111111111111111111111111")};var H=u(require("bn.js"));function ke(n,e){if(n.isZero())return new H.default(0);let t=n.div(e);return t.isZero()?new H.default(1):n.mod(e).gt(new H.default(0))?t.add(new H.default(1)):t}var tt=require("@solana/web3.js");var O=require("@solana/web3.js"),tn=u(require("axios"));var nn=require("@solana/web3.js"),rn=u(require("bn.js"));var nt=u(require("bn.js")),Yo=new nt.default(1e6);var ue=require("@solana/spl-token");var on=require("@solana/web3.js"),it=require("@solana/spl-token");var ce=require("@solana/web3.js"),On=u(require("bn.js"));var Fe=require("@solana/spl-token");var at=require("@solana/web3.js"),E=u(require("bn.js"));var o=require("@solana/buffer-layout"),he=o.Layout,rt=o.Structure;var xe=o.UInt;var ot=o.u8,z=o.u16;var K=o.s32;var st=o.seq;var T=o.blob;var D=class extends he{constructor(t,i,a){super(t,a);this.blob=T(t),this.signed=i}decode(t,i=0){let a=new E.default(this.blob.decode(t,i),10,"le");return this.signed?a.fromTwos(this.span*8).clone():a}encode(t,i,a=0){return typeof t=="number"&&(t=new E.default(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),i,a)}};function P(n){return new xe(1,n)}function _(n){return new xe(4,n)}function c(n){return new D(8,!1,n)}function f(n){return new D(16,!1,n)}function ct(n){return new D(8,!0,n)}function ut(n){return new D(16,!0,n)}var se=class extends he{constructor(t,i,a,d){super(t.span,d);this.layout=t,this.decoder=i,this.encoder=a}decode(t,i){return this.decoder(this.layout.decode(t,i))}encode(t,i,a){return this.layout.encode(this.encoder(t),i,a)}getSpan(t,i){return this.layout.getSpan(t,i)}};function m(n){return new se(T(32),e=>new at.PublicKey(e),e=>e.toBuffer(),n)}function Ie(n){return new se(ot(),sn,an,n)}function sn(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function an(n){return n?1:0}var Be=class extends rt{decode(e,t){return super.decode(e,t)}};function b(n,e,t){return new Be(n,e,t)}function y(n,e,t){let i,a=typeof e=="number"?e:(0,E.isBN)(e)?e.toNumber():new Proxy(e,{get(d,A){if(!i){let h=Reflect.get(d,"count");i=(0,E.isBN)(h)?h.toNumber():h,Reflect.set(d,"count",i)}return Reflect.get(d,A)},set(d,A,h){return A==="count"&&(i=h),Reflect.set(d,A,h)}});return st(n,a,t)}var kn=u(require("bn.js")),hn=u(require("decimal.js"));var k=u(require("bn.js")),Se=new k.default(0),lt=new k.default(1),mt=new k.default(-1),C=new k.default(1).shln(64),dt=new k.default(1).shln(128),Ce=C.sub(lt);var cn=dt.subn(1),V=-443636,Y=-V,Ke=new k.default("4295048016"),Re=new k.default("79226673521066979257578248091"),Vs=new k.default("4295048017"),vs=new k.default("79226673521066979257578248090");var un=new k.default(10).pow(new k.default(6));var Ws=new k.default("18446744073700000000");var An=u(require("bn.js")),Tn=u(require("decimal.js"));var Ys=Buffer.from("amm_config","utf8"),js=Buffer.from("pool","utf8"),Zs=Buffer.from("pool_vault","utf8"),Qs=Buffer.from("pool_reward_vault","utf8"),Js=Buffer.from("position","utf8"),$s=Buffer.from("tick_array","utf8"),ea=Buffer.from("operation","utf8"),ta=Buffer.from("pool_tick_array_bitmap_extension","utf8"),na=Buffer.from("observation","utf8");var ia=Buffer.from("locked_position","utf8");var ra=Buffer.from("support_mint","utf8");var yn=require("@solana/web3.js"),bn=require("@solana/spl-token"),gn=u(require("bn.js")),Pn=u(require("decimal.js"));var ln=u(require("bn.js")),mn=u(require("decimal.js"));var Me=14;var ae=60;var xn=b([T(8),P("bump"),z("index"),m(""),_("protocolFeeRate"),_("tradeFeeRate"),z("tickSpacing"),y(c(),8,"")]),Bn=b([_("blockTimestamp"),ct("tickCumulative"),y(c(),4)]),kt=b([T(8),Ie("initialized"),c("recentEpoch"),z("observationIndex"),m("poolId"),y(Bn,100,"observations"),y(c(),4)]),In=b([P("rewardState"),c("openTime"),c("endTime"),c("lastUpdateTime"),f("emissionsPerSecondX64"),c("rewardTotalEmissioned"),c("rewardClaimed"),m("tokenMint"),m("tokenVault"),m("creator"),f("rewardGrowthGlobalX64")]),wt=b([T(8),P("bump"),m("ammConfig"),m("creator"),m("mintA"),m("mintB"),m("vaultA"),m("vaultB"),m("observationId"),P("mintDecimalsA"),P("mintDecimalsB"),z("tickSpacing"),f("liquidity"),f("sqrtPriceX64"),K("tickCurrent"),_(),f("feeGrowthGlobalX64A"),f("feeGrowthGlobalX64B"),c("protocolFeesTokenA"),c("protocolFeesTokenB"),f("swapInAmountTokenA"),f("swapOutAmountTokenB"),f("swapInAmountTokenB"),f("swapOutAmountTokenA"),P("status"),y(P(),7,""),y(In,3,"rewardInfos"),y(c(),16,"tickArrayBitmap"),c("totalFeesTokenA"),c("totalFeesClaimedTokenA"),c("totalFeesTokenB"),c("totalFeesClaimedTokenB"),c("fundFeesTokenA"),c("fundFeesTokenB"),c("startTime"),y(c(),15*4-3,"padding")]),Sn=b([f("growthInsideLastX64"),c("rewardAmountOwed")]),At=b([T(8),P("bump"),m("nftMint"),m("poolId"),K("tickLower"),K("tickUpper"),f("liquidity"),f("feeGrowthInsideLastX64A"),f("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),y(Sn,3,"rewardInfos"),y(c(),8,"")]),Pc=b([T(8),P("bump"),m("poolId"),K("tickLowerIndex"),K("tickUpperIndex"),f("liquidity"),f("feeGrowthInsideLastX64A"),f("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),y(f(),3,"rewardGrowthInside"),y(c(),8,"")]),Cn=b([K("tick"),ut("liquidityNet"),f("liquidityGross"),f("feeGrowthOutsideX64A"),f("feeGrowthOutsideX64B"),y(f(),3,"rewardGrowthsOutsideX64"),y(_(),13,"")]),bt=b([T(8),m("poolId"),K("startTickIndex"),y(Cn,ae,"ticks"),P("initializedTickCount"),y(P(),115,"")]),Kn=b([T(329),y(m(),100,"whitelistMints")]),wn=b([T(8),m("poolId"),y(y(c(),8),Me,"positiveTickArrayBitmap"),y(y(c(),8),Me,"negativeTickArrayBitmap")]),wc=b([c(),P("bump"),m("owner"),m("poolId"),m("positionId"),m("nftAccount"),y(c(),8)]),Rn=b([T(8),P("bump"),m("lockOwner"),m("poolId"),m("positionId"),m("nftAccount"),m("lockNftMint"),c("recentEpoch"),y(c(),8)]);kt.span;var _c=g("Raydium_Clmm");var le=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:d,decimalA:A,decimalB:h}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:d}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}};var Oe=u(require("bn.js")),me=u(require("decimal.js")),Q=class{static _multipler(e){return new me.default(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:i}){return new me.default(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(i))}static getPriceX64({price:e,decimalA:t,decimalB:i}){let a=e.mul(this._multipler(i)).div(this._multipler(t));return new Oe.default(a.mul(this._Q64).toFixed(0))}};Q._Q64=new me.default(new Oe.default(1).shln(64).toString());var Ee=class extends le{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new N.default(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){return new N.default(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new N.default(e.virtualA.mul(e.realA).toString()).div(Q._Q64).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:d,decimalA:A,decimalB:h}){return new N.default(a.sub(d).toString()).div(e.sub(t).sub(i).toString()).mul(10**(A-h))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let a=e.totalSellA.sub(e.realA),d=e.totalFundRaisingB.sub(e.realB);return new N.default(e.virtualB.add(e.realB).add(d).toString()).div(e.virtualA.sub(e.realA).add(a).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:d}){let A=e.sub(a);if(A.lte(new w.default(0)))throw Error("supplyMinusLocked need gt 0");let h=t.mul(new w.default(3)).sub(d),J=t.mul(new w.default(2)).mul(A).div(h),ht=J.mul(J),$=t.mul(new w.default(2)).mul(C).div(ht);if(!$.gt(new w.default(0)))throw Error("a need gt 0");if(!Ce.gt($))throw Error("a need lt u64 max");if($.lt(new w.default(0))||J.lt(new w.default(0)))throw Error("invalid input 0");return{a:$,b:new w.default(0),c:J}}static buyExactIn({poolInfo:e,amount:t}){let i=e.realB.add(t),a=new w.default(2).mul(i).mul(C).div(e.virtualA);return new w.default(new N.default(a.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let i=e.realA.add(t),a=i.mul(i);return ke(e.virtualA.mul(a),new w.default(2).mul(C)).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let i=e.realA.sub(t),a=i.mul(i),d=ke(e.virtualA.mul(a),new w.default(2).mul(C));return e.realB.sub(d)}static sellExactOut({poolInfo:e,amount:t}){let i=e.realB.sub(t),a=new w.default(2).mul(i).mul(C).div(e.virtualA),d=new w.default(new N.default(a.toString()).sqrt().toFixed(0));return e.realA.sub(d)}};0&&(module.exports={LinearPriceCurve});
//# sourceMappingURL=linearPriceCurve.js.map