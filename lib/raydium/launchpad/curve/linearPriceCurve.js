var Bt=Object.create;var _=Object.defineProperty,ht=Object.defineProperties,It=Object.getOwnPropertyDescriptor,St=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertyNames,Ve=Object.getOwnPropertySymbols,Kt=Object.getPrototypeOf,_e=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var ve=(n,e,t)=>e in n?_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||(e={}))_e.call(e,t)&&ve(n,t,e[t]);if(Ve)for(var t of Ve(e))Rt.call(e,t)&&ve(n,t,e[t]);return n},h=(n,e)=>ht(n,St(e));var Lt=(n,e)=>{for(var t in e)_(n,t,{get:e[t],enumerable:!0})},We=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ct(e))!_e.call(n,a)&&a!==t&&_(n,a,{get:()=>e[a],enumerable:!(i=It(e,a))||i.enumerable});return n};var u=(n,e,t)=>(t=n!=null?Bt(Kt(n)):{},We(e||!n||!n.__esModule?_(t,"default",{value:n,enumerable:!0}):t,n)),Nt=n=>We(_({},"__esModule",{value:!0}),n);var _n={};Lt(_n,{LinearPriceCurve:()=>De});module.exports=Nt(_n);var A=u(require("bn.js")),N=u(require("decimal.js"));var Dn=require("@solana/web3.js"),Vn=u(require("bn.js")),vn=u(require("decimal.js"));var Ft=require("@solana/web3.js");var W=require("lodash");var pe=class{constructor(e){this.logLevel=e.logLevel!==void 0?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)?(console.error(this.time,this.name,"sdk logger error",...e),this):this}logWithError(...e){let t=e.map(i=>typeof i=="object"?JSON.stringify(i):i).join(", ");throw new Error(t)}warning(...e){return this.isLogLevel(1)?(console.warn(this.time,this.name,"sdk logger warning",...e),this):this}info(...e){return this.isLogLevel(2)?(console.info(this.time,this.name,"sdk logger info",...e),this):this}debug(...e){return this.isLogLevel(3)?(console.debug(this.time,this.name,"sdk logger debug",...e),this):this}},qe={},Mt={};function g(n){let e=(0,W.get)(qe,n);if(!e){let t=(0,W.get)(Mt,n);e=new pe({name:n,logLevel:t}),(0,W.set)(qe,n,e)}return e}var te=require("@solana/spl-token"),Qn=g("Raydium_accountInfo_util");var S=u(require("bn.js")),Ht=u(require("decimal.js"));var je=u(require("big.js")),vt=u(require("bn.js"));var Ue=u(require("toformat")),Ot=Ue.default,q=Ot;var G=u(require("big.js")),ze=u(require("bn.js")),He=u(require("decimal.js-light"));var M=u(require("bn.js"));var Xe=9007199254740991;function I(n){let e=g("Raydium_parseBigNumberish");if(n instanceof M.default)return n;if(typeof n=="string"){if(n.match(/^-?[0-9]+$/))return new M.default(n);e.logWithError(`invalid BigNumberish string: ${n}`)}return typeof n=="number"?(n%1&&e.logWithError(`BigNumberish number underflow: ${n}`),(n>=Xe||n<=-Xe)&&e.logWithError(`BigNumberish number overflow: ${n}`),new M.default(String(n))):typeof n=="bigint"?new M.default(n.toString()):(e.error(`invalid BigNumberish value: ${n}`),new M.default(0))}var ie=g("module/fraction"),fe=q(G.default),U=q(He.default),Dt={[0]:U.ROUND_DOWN,[1]:U.ROUND_HALF_UP,[2]:U.ROUND_UP},Vt={[0]:G.default.roundDown,[1]:G.default.roundHalfUp,[2]:G.default.roundUp},p=class{constructor(e,t=new ze.default(1)){this.numerator=I(e),this.denominator=I(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new p(this.denominator,this.numerator)}add(e){let t=e instanceof p?e:new p(I(e));return this.denominator.eq(t.denominator)?new p(this.numerator.add(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof p?e:new p(I(e));return this.denominator.eq(t.denominator)?new p(this.numerator.sub(t.numerator),this.denominator):new p(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof p?e:new p(I(e));return new p(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof p?e:new p(I(e));return new p(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||ie.logWithError(`${e} is not an integer.`),e<=0&&ie.logWithError(`${e} is not positive.`),U.set({precision:e+1,rounding:Dt[i]});let a=new U(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return a.toFormat(a.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||ie.logWithError(`${e} is not an integer.`),e<0&&ie.logWithError(`${e} is negative.`),fe.DP=e,fe.RM=Vt[i]||1,new fe(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}};var fi=g("Raydium_amount"),bi=q(je.default);var Qe=require("@solana/web3.js"),be=require("@solana/spl-token"),ye={chainId:101,address:Qe.PublicKey.default.toBase58(),programId:be.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},R={chainId:101,address:"So11111111111111111111111111111111111111112",programId:be.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};var re=require("@solana/web3.js");var l=require("@solana/web3.js"),Ze=require("@solana/spl-token");function ge({pubkey:n,isSigner:e=!1,isWritable:t=!0}){return{pubkey:n,isWritable:t,isSigner:e}}var Ai=[ge({pubkey:Ze.TOKEN_PROGRAM_ID,isWritable:!1}),ge({pubkey:l.SystemProgram.programId,isWritable:!1}),ge({pubkey:l.SYSVAR_RENT_PUBKEY,isWritable:!1})];function Ye({publicKey:n,transformSol:e}){let t=Je(n.toString());if(t instanceof l.PublicKey)return e&&t.equals(X)?ne:t;if(e&&t.toString()===X.toBase58())return ne;if(typeof t=="string"){if(t===l.PublicKey.default.toBase58())return l.PublicKey.default;try{return new l.PublicKey(t)}catch{throw new Error("invalid public key")}}throw new Error("invalid public key")}function Je(n){try{return new l.PublicKey(n)}catch{return n}}var Wt=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),qt=new l.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),Gt=new l.PublicKey("SysvarRent111111111111111111111111111111111"),wi=new l.PublicKey("SysvarC1ock11111111111111111111111111111111"),$e=new l.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),Ti=new l.PublicKey("Sysvar1nstructions1111111111111111111111111"),ki=l.SystemProgram.programId,xi=new l.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),Bi=new l.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),hi=new l.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Ii=new l.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),Si=new l.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),Ci=new l.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),Ki=new l.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),Ri=new l.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),Li=new l.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),Ni=new l.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),Mi=new l.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),ne=new l.PublicKey("So11111111111111111111111111111111111111112"),X=l.PublicKey.default;var Pe=class{constructor({mint:e,decimals:t,symbol:i,name:a,skipMint:d=!1,isToken2022:w=!1}){if(e===X.toBase58()||e instanceof re.PublicKey&&X.equals(e)){this.decimals=R.decimals,this.symbol=R.symbol,this.name=R.name,this.mint=new re.PublicKey(R.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=a||e.toString().substring(0,6),this.mint=d?re.PublicKey.default:Ye({publicKey:e}),this.isToken2022=w}equals(e){return this===e?!0:this.mint.equals(e.mint)}},L=Pe;L.WSOL=new Pe(h(B({},R),{mint:R.address}));var Ae=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}},oe=Ae;oe.SOL=new Ae(ye);var et=u(require("bn.js"));var Gi=new p(new et.default(100));var Qi=g("Raydium_price");var Xt=require("@solana/web3.js"),zt=u(require("bn.js"));var Ut=new S.default(0),Ir=new S.default(1),Sr=new S.default(2),Cr=new S.default(3),Kr=new S.default(5),_t=new S.default(10),Rr=new S.default(100),Lr=new S.default(1e3),Nr=new S.default(1e4);var Zt=require("@solana/web3.js"),Yt=require("@solana/spl-token");var F=require("@solana/web3.js");var jt=require("@solana/spl-token"),Xr=g("Raydium_txUtil");var r=require("@solana/web3.js"),Qr=new r.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),Zr=new r.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),Yr=new r.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),Jr=new r.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),$r=new r.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),eo=new r.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),to=new r.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),no=new r.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),io=new r.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),ro=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),Jt=new r.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),$t=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),en=new r.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),oo=new r.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),so=new r.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),ao=new r.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5"),co=new r.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),uo=new r.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),lo=new r.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),mo=new r.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),po=new r.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),fo=new r.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),bo=new r.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),yo=new r.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),go=new r.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH"),Po=new r.PublicKey("LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj"),Ao=new r.PublicKey("WLHv2UAZm6z4KyaaELi5pjdbJh6RESMva1Rnn8pJVVh"),wo=new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),To=new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),ko=new r.PublicKey("4Bu96XjU84XjPDSpveTVf6LYGCkfW5FK7SNkREWcEfV4"),xo=new r.PublicKey("6s1xP3hpbAfFoNtUNF8mfHsjr2Bd97JxFJRWLbL6aHuX");var Bo={OPEN_BOOK_PROGRAM:new r.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),SERUM_PROGRAM_ID_V3:new r.PublicKey("Ray1111111111111111111111111111111111111111"),AMM_V4:new r.PublicKey("DRaya7Kj3aMWQSy19kSjvmuwq9docCHofyP9kanQGaav"),AMM_STABLE:new r.PublicKey("DRayDdXc1NZQ9C3hRWmoSf8zK4iapgMnjdNZWrfwsP8m"),CLMM_PROGRAM_ID:new r.PublicKey("DRayAUgENGQBKVaX8owNhgzkEDyoHTGVEGHVJT1E9pfH"),CLMM_LOCK_PROGRAM_ID:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),CLMM_LOCK_AUTH_ID:new r.PublicKey("6Aoh8h2Lw2m5UGxYR8AdAL87jTWYeKoxM52mJRzfYwN"),CREATE_CPMM_POOL_PROGRAM:new r.PublicKey("DRaycpLY18LhpbydsBWbVJtxpNv9oXPgjRSfpF2bWpYb"),CREATE_CPMM_POOL_AUTH:new r.PublicKey("CXniRufdq5xL8t8jZAPxsPZDpuudwuJSPWnbcD5Y5Nxq"),CREATE_CPMM_POOL_FEE_ACC:new r.PublicKey("3oE58BKVt8KuYkGxx8zBojugnymWmBiyafWgMrnb6eYy"),LOCK_CPMM_PROGRAM:new r.PublicKey("DRay25Usp3YJAi7beckgpGUC7mGJ2cR1AVPxhYfwVCUX"),LOCK_CPMM_AUTH:new r.PublicKey("7qWVV8UY2bRJfDLP4s37YzBPKUkVB46DStYJBpYbQzu3"),UTIL1216:r.PublicKey.default,Router:new r.PublicKey("DRaybByLpbUL57LJARs3j8BitTxVfzBg351EaMr5UTCd"),FARM_PROGRAM_ID_V3:new r.PublicKey("DRayWyrLmEW5KEeqs8kdTMMaBabapqagaBC7KWpGtJeZ"),FARM_PROGRAM_ID_V4:new r.PublicKey("Ray1111111111111111111111111111111111111111"),FARM_PROGRAM_ID_V5:new r.PublicKey("DRayiCGSZgku1GTK6rXD6mVDdingXy6APAH1R6R5L2LC"),FARM_PROGRAM_ID_V6:new r.PublicKey("DRayzbYakXs45ELHkzH6vC3fuhQqTAnv5A68gdFuvZyZ"),LAUNCHPAD_PROGRAM:new r.PublicKey("DRay6fNdQ5J82H7xV6uq2aV3mNrUZ1J4PgSKsWgptcm6"),LAUNCHPAD_AUTH:new r.PublicKey("5xqNaZXX5eUi4p5HU4oz9i5QnwRNT2y6oN7yyn4qENeq"),LAUNCHPAD_PLATFORM:new r.PublicKey("2Jx4KTDrVSdWNazuGpcA8n3ZLTRGGBDxAWhuKe2Xcj2a"),LAUNCHPAD_CONFIG:new r.PublicKey("7ZR4zD7PYfY2XxoG1Gxcy2EgEeGYrpxrwzPuwdUBssEt"),FEE_DESTINATION_ID:new r.PublicKey("9y8ENuuZ3b19quffx9hQvRVygG5ky6snHfRvGpuSfeJy"),MODEL_DATA_PUBKEY:new r.PublicKey("Ray1111111111111111111111111111111111111111")};var z=u(require("bn.js"));function xe(n,e){if(n.isZero())return new z.default(0);let t=n.div(e);return t.isZero()?new z.default(1):n.mod(e).gt(new z.default(0))?t.add(new z.default(1)):t}var H=require("@solana/web3.js");var tn={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new H.AddressLookupTableAccount({key:new H.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:H.AddressLookupTableAccount.deserialize(Buffer.from("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","base64"))})};var O=require("@solana/web3.js"),on=u(require("axios"));var nt=u(require("bn.js")),jo=new nt.default(1e6);var le=require("@solana/spl-token");var sn=require("@solana/web3.js"),it=require("@solana/spl-token");var ue=require("@solana/web3.js"),En=u(require("bn.js"));var Oe=require("@solana/spl-token");var at=require("@solana/web3.js"),E=u(require("bn.js"));var o=require("@solana/buffer-layout"),Be=o.Layout,rt=o.Structure;var he=o.UInt;var ot=o.u8,j=o.u16;var K=o.s32;var st=o.seq;var T=o.blob;var D=class extends Be{constructor(t,i,a){super(t,a);this.blob=T(t),this.signed=i}decode(t,i=0){let a=new E.default(this.blob.decode(t,i),10,"le");return this.signed?a.fromTwos(this.span*8).clone():a}encode(t,i,a=0){return typeof t=="number"&&(t=new E.default(t)),this.signed&&(t=t.toTwos(this.span*8)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),i,a)}};function P(n){return new he(1,n)}function V(n){return new he(4,n)}function c(n){return new D(8,!1,n)}function f(n){return new D(16,!1,n)}function ct(n){return new D(8,!0,n)}function ut(n){return new D(16,!0,n)}var ae=class extends Be{constructor(t,i,a,d){super(t.span,d);this.layout=t,this.decoder=i,this.encoder=a}decode(t,i){return this.decoder(this.layout.decode(t,i))}encode(t,i,a){return this.layout.encode(this.encoder(t),i,a)}getSpan(t,i){return this.layout.getSpan(t,i)}};function m(n){return new ae(T(32),e=>new at.PublicKey(e),e=>e.toBuffer(),n)}function Se(n){return new ae(ot(),an,cn,n)}function an(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function cn(n){return n?1:0}var Ie=class extends rt{decode(e,t){return super.decode(e,t)}};function y(n,e,t){return new Ie(n,e,t)}function b(n,e,t){let i,a=typeof e=="number"?e:(0,E.isBN)(e)?e.toNumber():new Proxy(e,{get(d,w){if(!i){let x=Reflect.get(d,"count");i=(0,E.isBN)(x)?x.toNumber():x,Reflect.set(d,"count",i)}return Reflect.get(d,w)},set(d,w,x){return w==="count"&&(i=x),Reflect.set(d,w,x)}});return st(n,a,t)}var xn=u(require("bn.js")),Bn=u(require("decimal.js"));var k=u(require("bn.js")),Ce=new k.default(0),lt=new k.default(1),mt=new k.default(-1),C=new k.default(1).shln(64),dt=new k.default(1).shln(128),Ke=C.sub(lt);var un=dt.subn(1),v=-443636,Q=-v,Re=new k.default("4295048016"),Le=new k.default("79226673521066979257578248091"),Ds=new k.default("4295048017"),Vs=new k.default("79226673521066979257578248090");var ln=new k.default(10).pow(new k.default(6));var vs=new k.default("18446744073700000000");var Tn=u(require("bn.js")),kn=u(require("decimal.js"));var zs=Buffer.from("amm_config","utf8"),Hs=Buffer.from("pool","utf8"),js=Buffer.from("pool_vault","utf8"),Qs=Buffer.from("pool_reward_vault","utf8"),Zs=Buffer.from("position","utf8"),Ys=Buffer.from("tick_array","utf8"),Js=Buffer.from("operation","utf8"),$s=Buffer.from("pool_tick_array_bitmap_extension","utf8"),ea=Buffer.from("observation","utf8");var ta=Buffer.from("locked_position","utf8");var na=Buffer.from("support_mint","utf8");var yn=require("@solana/web3.js"),gn=require("@solana/spl-token"),Pn=u(require("bn.js")),An=u(require("decimal.js"));var mn=u(require("bn.js")),dn=u(require("decimal.js"));var Fe=14;var ce=60;var hn=y([T(8),P("bump"),j("index"),m(""),V("protocolFeeRate"),V("tradeFeeRate"),j("tickSpacing"),b(c(),8,"")]),In=y([V("blockTimestamp"),ct("tickCumulative"),b(c(),4)]),kt=y([T(8),Se("initialized"),c("recentEpoch"),j("observationIndex"),m("poolId"),b(In,100,"observations"),b(c(),4)]),Sn=y([P("rewardState"),c("openTime"),c("endTime"),c("lastUpdateTime"),f("emissionsPerSecondX64"),c("rewardTotalEmissioned"),c("rewardClaimed"),m("tokenMint"),m("tokenVault"),m("creator"),f("rewardGrowthGlobalX64")]),At=y([T(8),P("bump"),m("ammConfig"),m("creator"),m("mintA"),m("mintB"),m("vaultA"),m("vaultB"),m("observationId"),P("mintDecimalsA"),P("mintDecimalsB"),j("tickSpacing"),f("liquidity"),f("sqrtPriceX64"),K("tickCurrent"),V(),f("feeGrowthGlobalX64A"),f("feeGrowthGlobalX64B"),c("protocolFeesTokenA"),c("protocolFeesTokenB"),f("swapInAmountTokenA"),f("swapOutAmountTokenB"),f("swapInAmountTokenB"),f("swapOutAmountTokenA"),P("status"),b(P(),7,""),b(Sn,3,"rewardInfos"),b(c(),16,"tickArrayBitmap"),c("totalFeesTokenA"),c("totalFeesClaimedTokenA"),c("totalFeesTokenB"),c("totalFeesClaimedTokenB"),c("fundFeesTokenA"),c("fundFeesTokenB"),c("startTime"),b(c(),15*4-3,"padding")]),Cn=y([f("growthInsideLastX64"),c("rewardAmountOwed")]),wt=y([T(8),P("bump"),m("nftMint"),m("poolId"),K("tickLower"),K("tickUpper"),f("liquidity"),f("feeGrowthInsideLastX64A"),f("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),b(Cn,3,"rewardInfos"),b(c(),8,"")]),bc=y([T(8),P("bump"),m("poolId"),K("tickLowerIndex"),K("tickUpperIndex"),f("liquidity"),f("feeGrowthInsideLastX64A"),f("feeGrowthInsideLastX64B"),c("tokenFeesOwedA"),c("tokenFeesOwedB"),b(f(),3,"rewardGrowthInside"),b(c(),8,"")]),Kn=y([K("tick"),ut("liquidityNet"),f("liquidityGross"),f("feeGrowthOutsideX64A"),f("feeGrowthOutsideX64B"),b(f(),3,"rewardGrowthsOutsideX64"),b(V(),13,"")]),yt=y([T(8),m("poolId"),K("startTickIndex"),b(Kn,ce,"ticks"),P("initializedTickCount"),b(P(),115,"")]),Rn=y([T(329),b(m(),100,"whitelistMints")]),wn=y([T(8),m("poolId"),b(b(c(),8),Fe,"positiveTickArrayBitmap"),b(b(c(),8),Fe,"negativeTickArrayBitmap")]),yc=y([c(),P("bump"),m("owner"),m("poolId"),m("positionId"),m("nftAccount"),b(c(),8)]),Ln=y([T(8),P("bump"),m("lockOwner"),m("poolId"),m("positionId"),m("nftAccount"),m("lockNftMint"),c("recentEpoch"),b(c(),8)]);kt.span;var Oc=g("Raydium_Clmm");var me=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:d,decimalA:w,decimalB:x}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:d}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}};var Ee=u(require("bn.js")),de=u(require("decimal.js")),J=class{static _multipler(e){return new de.default(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:i}){return new de.default(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(i))}static getPriceX64({price:e,decimalA:t,decimalB:i}){let a=e.mul(this._multipler(i)).div(this._multipler(t));return new Ee.default(a.mul(this._Q64).toFixed(0))}};J._Q64=new de.default(new Ee.default(1).shln(64).toString());var De=class extends me{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new N.default(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:a}){return new N.default(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new N.default(e.virtualA.mul(e.realA).toString()).div(J._Q64).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:a,migrateFee:d,decimalA:w,decimalB:x}){return new N.default(a.sub(d).toString()).div(e.sub(t).sub(i).toString()).mul(10**(w-x))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let a=e.totalSellA.sub(e.realA),d=e.totalFundRaisingB.sub(e.realB);return new N.default(e.virtualB.add(e.realB).add(d).toString()).div(e.virtualA.sub(e.realA).add(a).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:a,migrateFee:d}){let w=e.sub(a);if(w.lte(new A.default(0)))throw Error("supplyMinusLocked need gt 0");let x=t.mul(new A.default(3)).sub(d),$=t.mul(new A.default(2)).mul(w).div(x),xt=$.mul($),ee=t.mul(new A.default(2)).mul(C).div(xt);if(!ee.gt(new A.default(0)))throw Error("a need gt 0");if(!Ke.gt(ee))throw Error("a need lt u64 max");if(ee.lt(new A.default(0))||$.lt(new A.default(0)))throw Error("invalid input 0");return{a:ee,b:new A.default(0),c:$}}static buyExactIn({poolInfo:e,amount:t}){let i=e.realB.add(t),a=new A.default(2).mul(i).mul(C).div(e.virtualA);return new A.default(new N.default(a.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let i=e.realA.add(t),a=i.mul(i);return xe(e.virtualA.mul(a),new A.default(2).mul(C)).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let i=e.realA.sub(t),a=i.mul(i),d=xe(e.virtualA.mul(a),new A.default(2).mul(C));return e.realB.sub(d)}static sellExactOut({poolInfo:e,amount:t}){let i=e.realB.sub(t),a=new A.default(2).mul(i).mul(C).div(e.virtualA),d=new A.default(new N.default(a.toString()).sqrt().toFixed(0));return e.realA.sub(d)}};0&&(module.exports={LinearPriceCurve});
//# sourceMappingURL=linearPriceCurve.js.map